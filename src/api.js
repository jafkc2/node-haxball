var EE=(()=>{var N=(i,t)=>()=>(t||i((t={s3:{}}).s3,t),t.s3);var O=N((q1,Yt)=>{Yt.s3=Yt.Sv||(Yt.Sv={Gf:0,Lf:1,_f:2,Uf:3,kv:1,Tv:2,Nv:0,Rv:1,Av:2,Ce:0,ns:1,es:2,Ev:0,Mv:1,Ov:0,Iv:1,Bv:2,Fv:3,Gv:4,Lv:5,_v:6,Uv:7,Jv:8,Kv:9,Vv:10,bv:11,dv:12,xv:13,Hv:14,Qv:15,Xv:16,Yv:17,$v:18,Wv:19,Zv:20,zv:21,jv:22,Dv:23,i0:24,t0:25,n0:26,e0:27,s0:28,r0:29,u0:30,h0:31,Jf:0,Kf:1,Vf:2,bf:3,df:4,f0:-1,o0:0,l0:1,Br:0,Fr:1,xf:2,Hf:3,Qf:4,Xf:5,Yf:6,$f:7,Wf:8,Zf:9,zf:10,c0:11,jf:12,Df:13,Vu:14,io:15,to:16,no:17,eo:18,so:19,ro:20,uo:21,ho:22,fo:23,oo:24,lo:25,co:26,vo:27,ao:28,po:29,yo:30,wo:31,qo:32,Ln:33,mo:34,Co:35,go:36,Po:37,So:38,bu:39,ko:40,To:41,No:42,Ro:43,Ao:44,Eo:45,Mo:46,Oo:47,Io:48,Bo:49,Fo:50,Go:51,Lo:55,_o:56,Uo:57,Jo:58,v0:0,a0:1,p0:2,y0:3,Ko:0,Vo:1,bo:2,xo:3,Ho:4,Qo:5,Xo:6,Yo:7,$o:8,Wo:9,Zo:10,zo:11,jo:12,Do:13,il:14,tl:15,nl:16,el:17,sl:18,rl:19,ul:20,hl:21,fl:22,ol:23,ll:24,cl:25,vl:26,w0:0,q0:1,m0:2,C0:3,g0:4,P0:5,S0:6,k0:7,T0:8,N0:9,R0:10,A0:11,E0:12,M0:13,O0:14,I0:15,B0:16,F0:17,G0:18,L0:19,_0:20,U0:0,al:1,J0:2,K0:3,V0:4,b0:5,d0:6,x0:7,H0:8,Q0:9,X0:10,Y0:11,$0:12,W0:13,Z0:14,z0:15,j0:16,D0:17,ia:18})});var ct=N((m1,$t)=>{var bn=null,Wt=[];function wf(i){i&&Wt.push(i)}function qf(i){if(i){var t=Wt.indexOf(i);t<0||Wt.splice(t,1)}}function Bt(i,t=null){this.abbr=i,this.api={errors:{}},this.defineMetadata(t)}Object.defineProperty(Bt,"current",{get:function(){return bn},set:function(i){bn=i,Wt.forEach(t=>{t._onLanguageChange?.(i?.abbr)})}});Bt.prototype.defineMetadata=function(i){};Bt.resolveText=function(i,t){if(i){for(var n=/\$([\d]+)\?\("([^"]*)":"([^"]*)"\)/gm,e=/\$([\d]+)/gm,s,r="",u=0;(s=n.exec(i))!=null;)r+=i.substring(u,s.index)+(t[s[1]-1]?s[2]:s[3]),u=s.index+s[0].length;for(r+=i.substring(u),i="",u=0;(s=e.exec(r))!=null;)i+=r.substring(u,s.index)+t[s[1]-1],u=s.index+s[0].length;return i+=r.substring(u),i}};$t.s3=$t.ta||($t.ta={na:Bt,pl:wf,yl:qf,wl:(i,t)=>Bt.resolveText(bn?.api?.errors?.[i],t||[])})});var E=N((C1,Zt)=>{Zt.s3=Zt.ea||(Zt.ea={Gr:null,zt:{ss:"www.haxball.com",ql:"p2p.haxball.com",ge:!0},jt:null,ml:9,Pe:!1,Cl:!1,Se:null,du:[{urls:"stun:stun.l.google.com:19302"}],gl:"wss://www.haxball.com/",Pl:"https://p2p.haxball.com/rs/",te:null,ke:null,rs:null,us:null,ne:null,Sl:null,Lr:null,_r:null,kl:null,xu:null,Tl:null,_n:null,Nl:null,Un:null,Rl:null,Hu:null,Qu:null,O:(i,t,n)=>{var e=new i,s=Object.keys(e),r=Object.keys(i.prototype),u=s.concat(r);t.forEach((f,l)=>{if(!(!f||u.includes(f))){var c=s[l];c&&(u.push(f),Object.defineProperty(i.prototype,f,{get:function(){return this[c]},set:function(o){this[c]=o}}))}}),n.forEach((f,l)=>{if(!(!f||u.includes(f))){var c=r[l];c&&(u.push(f),i.prototype[f]=i.prototype[c])}})}})});var be=N((g1,Ve)=>{Ve.s3=(i,t)=>{var n=E(),e=t?.backend;e&&(e.hostname!=null&&(n.zt.ss=e.hostname),e.hostnameWs!=null&&(n.zt.ql=e.hostnameWs),e.secure!=null&&(n.zt.ge=e.secure)),e=t?.proxy,e&&(n.Gr={sa:e.HttpUrl,Xu:e.WebSocketUrl,Ur:e.WebSocketChangeOriginAllowed}),t?.version!=null&&(n.ml=t.version),n.gl=(n.zt.ge?"wss":"ws")+"://"+n.zt.ql+"/",n.Pl=n?.Gr?.sa||(n.zt.ge?"https":"http")+"://"+n.zt.ss+"/rs/",t?.stunServer!=null&&(n.du=[{urls:t.stunServer}]),t?.noWebRTC!=null&&(n.Cl=t.noWebRTC),t?.noVariableValueChangeEvent!=null&&(n.Pe=t?.noVariableValueChangeEvent),n.te=i.setTimeout,n.ke=i.clearTimeout,n.rs=i.setInterval,n.us=i.clearInterval,n.ne=i.console.log,n.Sl=i.console.warn,n.Lr=i.requestAnimationFrame,n._r=i.cancelAnimationFrame,n.kl=i.crypto.subtle,n.xu=i.WebSocket,n.Tl=i.XMLHttpRequest,n._n=i.performance,n.Nl=i.JSON5,n.Un=i.pako,n.jt=t?.proxyAgent,n.Se=t?.identityToken;var s=i.webkitRTCPeerConnection||i.mozRTCPeerConnection||i.RTCPeerConnection,r=i.webkitRTCIceCandidate||i.mozRTCIceCandidate||i.RTCIceCandidate,u=i.webkitRTCSessionDescription||i.mozRTCSessionDescription||i.RTCSessionDescription;if(!n.Cl){var f=new s({iceServers:[]});try{f.createAnswer().catch(function(p){f.close()})}catch{var l=s.prototype,c=l.createOffer,o=l.createAnswer;l.createOffer=function(q){var S=this;return new Promise(function(m,P){c.call(S,m,P,q)})},l.createAnswer=function(q){var S=this;return new Promise(function(m,P){o.call(S,m,P,q)})}}}n.Rl=s,n.Hu=r,n.Qu=u}});var de=N((P1,zt)=>{zt.s3=zt.ra||(zt.ra={ua:(i,{x:t,y:n},e)=>i.f?.a.N.findIndex(s=>{var r=s.c.x-t,u=s.c.y-n;return r*r+u*u<=e*e}),ha:(i,{x:t,y:n},e)=>i.f?.a.G.findIndex(s=>{var r,u,f,l,c,o,p;if(0*s._i==0){if(u=t-s.Jr.x,f=n-s.Jr.y,(s.hs.x*u+s.hs.y*f>0&&s.fs.x*u+s.fs.y*f>0)==s._i<=0)return!1;r=Math.sqrt(u*u+f*f)-s.Yu}else{if(l=s.j.c,c=s.D.c,u=c.x-l.x,f=c.y-l.y,o=t-c.x,p=n-c.y,(t-l.x)*u+(n-l.y)*f<=0||o*u+p*f>=0)return!1;r=s.Mi.x*o+s.Mi.y*p}return Math.abs(r)<e}),fa:(i,{x:t,y:n},e)=>i.T.Ui.findIndex(s=>{var r=s.ot,u=s.lt,f=u.x-r.x,l=u.y-r.y,c=t-u.x,o=n-u.y;if((t-r.x)*f+(n-r.y)*l<=0||c*f+o*l>=0)return!1;var p=Math.sqrt(l*l+f*f);return Math.abs(c*l/p-o*f/p)<e}),oa:(i,{x:t,y:n},e)=>i.f?.a.X.findIndex(s=>Math.abs(s.fi-(s.Mi.x*t+s.Mi.y*n))<e),la:(i,{x:t,y:n},e)=>{var s=i.f?.a;if(!s)return-1;var r=s.g;return s.wi.findIndex(u=>{var f=r[u.Zi];if(!f)return!1;var l=r[u.zi];if(!l)return!1;var c=f.c,o=l.c,p=o.x-c.x,q=o.y-c.y,S=t-o.x,m=n-o.y;if((t-c.x)*p+(n-c.y)*q<=0||S*p+m*q>=0)return!1;var P=Math.sqrt(q*q+p*p);return Math.abs(S*q/P-m*p/P)<e})},ca:(i,{x:t,y:n})=>i.f?.a.g.findIndex(e=>{var s=e.c.x-t,r=e.c.y-n;return s*s+r*r<=e.U*e.U}),va:(i,{x:t,y:n},e)=>{e||(e=i.f?.T.Jt.U);var s=e*e,r=i.f?.T.st.findIndex(u=>{var f=u.x-t,l=u.y-n;return f*f+l*l<=s});return r>=0?[r,1]:(r=i.f?.T.rt.findIndex(u=>{var f=u.x-t,l=u.y-n;return f*f+l*l<=s}),r>=0?[r,2]:[-1,-1])}})});var D=N((S1,jt)=>{var{O:mf}=E(),ci=O(),{wl:Cf}=ct();function vt(){this.$u=ci.Br,this.Wu=null,Error.captureStackTrace?.(this,vt);var i=this;this.toString=function(){return Cf(i.$u,i.Wu)}}vt.prototype=Error.prototype;Object.defineProperty(vt.prototype,"message",{get:function(){return this.toString()}});function vi(i,...t){var n=new vt;return n.$u=i,n.Wu=t,n}function gf(i){switch(i){case 4001:return vi(ci.Hf);case 4100:return vi(ci.Qf);case 4101:return vi(ci.Xf);case 4102:return vi(ci.Yf);case 4103:return vi(ci.$f)}return vi(ci.Fr,i)}var Pf={Al:()=>[vi(ci.Vu),vi(ci.Vu)],aa:()=>[vi(ci.Wf),vi(ci.Df)],pa:()=>[vi(ci.zf),vi(ci.Br)],ya:i=>[gf(i)]};mf(vt,["code","params"],[]);jt.s3=jt.wa||(jt.wa={ji:vi,Zu:vt,qa:Pf})});var B=N((k1,Dt)=>{var{te:Sf,ke:xe,_n:Qe,O:Xe}=E(),$i=O(),{ji:Wi}=D(),kf=.97;function Tf(i,t){var n=i.indexOf(t);return n<0?!1:(i.splice(n,1),!0)}function at(i,t=!1){this.R=i,this.Ji=t,this.v=0}at.Ki=function(i,t){var n=i.getUint8(t),e=t;if(!(n&128))t++;else if((n&224)==192)n=(n&31)<<6|i.getUint8(t+1)&63,t+=2;else if((n&240)==224)n=(n&15)<<12|(i.getUint8(t+1)&63)<<6|i.getUint8(t+2)&63,t+=3;else if((n&248)==240)n=(n&7)<<18|(i.getUint8(t+1)&63)<<12|(i.getUint8(t+2)&63)<<6|i.getUint8(t+3)&63,t+=4;else if((n&252)==248)n=(n&3)<<24|(i.getUint8(t+1)&63)<<18|(i.getUint8(t+2)&63)<<12|(i.getUint8(t+3)&63)<<6|i.getUint8(t+4)&63,t+=5;else if((n&254)==252)n=(n&1)<<30|(i.getUint8(t+1)&63)<<24|(i.getUint8(t+2)&63)<<18|(i.getUint8(t+3)&63)<<12|(i.getUint8(t+4)&63)<<6|i.getUint8(t+5)&63,t+=6;else throw Wi($i.ro,t,n);return{ma:n,Ca:t-e}};at.prototype={bi:function(i){if(i==null&&(i=this.R.byteLength-this.v),this.v+i>this.R.byteLength)throw Wi($i.uo);var t=new Uint8Array(this.R.buffer,this.R.byteOffset+this.v,i);return this.v+=i,t},El:function(i){var t=this.bi(i);return i=new ArrayBuffer(i),new Uint8Array(i).set(t),i},os:function(){return this.R.getInt8(this.v++)},A:function(){return this.R.getUint8(this.v++)},zu:function(){var i=this.R.getInt16(this.v,this.Ji);return this.v+=2,i},di:function(){var i=this.R.getUint16(this.v,this.Ji);return this.v+=2,i},L:function(){var i=this.R.getInt32(this.v,this.Ji);return this.v+=4,i},oi:function(){var i=this.R.getUint32(this.v,this.Ji);return this.v+=4,i},ju:function(){var i=this.R.getFloat32(this.v,this.Ji);return this.v+=4,i},S:function(){var i=this.R.getFloat64(this.v,this.Ji);return this.v+=8,i},Ki:function(){var{v:i,R:t}=this,n=0,e,s=0;do e=t.getUint8(i+n),n<5&&(s|=(e&127)<<7*n>>>0),++n;while(e&128);return this.v+=n,s|0},Te:function(i){for(var{v:t,R:n}=this,e,s="",r=t+i;t<r;)e=at.Ki(n,t),t+=e.Ca,s+=String.fromCodePoint(e.ma);if(t!=r)throw Wi($i.ho,t-r);return this.v=t,s},ct:function(){var i=this.Ki();return i<=0?null:this.Te(i-1)},mt:function(){return this.Te(this.Ki())},Ml:function(){return this.Te(this.A())},ls:function(){return JSON.parse(this.mt())}};function ti(i,t=!1){this.R=i,this.Ji=t,this.v=0}ti.t=function(i=16,t=!1){return new ti(new DataView(new ArrayBuffer(i)),t)};ti.Gi=function(i,t,n){var e=n;if(i<0)throw Wi($i.fo,i);if(i<128)t.setUint8(n,i&127),++n;else if(i<2048)t.setUint8(n,i>>6&31|192),t.setUint8(n+1,i&63|128),n+=2;else if(i<65536)t.setUint8(n,i>>12&15|224),t.setUint8(n+1,i>>6&63|128),t.setUint8(n+2,i&63|128),n+=3;else if(i<2097152)t.setUint8(n,i>>18&7|240),t.setUint8(n+1,i>>12&63|128),t.setUint8(n+2,i>>6&63|128),t.setUint8(n+3,i&63|128),n+=4;else if(i<67108864)t.setUint8(n,i>>24&3|248),t.setUint8(n+1,i>>18&63|128),t.setUint8(n+2,i>>12&63|128),t.setUint8(n+3,i>>6&63|128),t.setUint8(n+4,i&63|128),n+=5;else if(i<-2147483648)t.setUint8(n,i>>30&1|252),t.setUint8(n+1,i>>24&63|128),t.setUint8(n+2,i>>18&63|128),t.setUint8(n+3,i>>12&63|128),t.setUint8(n+4,i>>6&63|128),t.setUint8(n+5,i&63|128),n+=6;else throw Wi($i.oo,i);return n-e};ti.ga=function(i){if(i<0)throw Wi($i.lo,i);if(i<128)return 1;if(i<2048)return 2;if(i<65536)return 3;if(i<2097152)return 4;if(i<67108864)return 5;if(i<-2147483648)return 6;throw Wi($i.co,i)};ti.Kr=function(i){for(var t=0,n=i.length,e=0;e<n;e++)t+=ti.ga(i.charCodeAt(e));return t};ti.Pa=function(i){return i>>>=0,i<128?1:i<16384?2:i<2097152?3:i<268435456?4:5};ti.prototype={Vr:function(){var i=new ArrayBuffer(this.v),t=new Uint8Array(this.R.buffer,this.R.byteOffset,this.v);return new Uint8Array(i).set(t),i},Vi:function(){return new Uint8Array(this.R.buffer,this.R.byteOffset,this.v)},ee:function(){return new DataView(this.R.buffer,this.R.byteOffset,this.v)},Sa:function(){return new at(this.ee(),this.Ji)},Dt:function(i){this.R.byteLength>=i||this.ka(2*this.R.byteLength>=i?2*this.R.byteLength:i)},ka:function(i){if(i<1)throw Wi($i.vo);if(!(this.R.byteLength>=i)){var t=new Uint8Array(this.R.buffer);i=new ArrayBuffer(i),new Uint8Array(i).set(t),this.R=new DataView(i)}},p:function(i){var t=this.v++;this.Dt(this.v),this.R.setUint8(t,i)},Du:function(i){var t=this.v;this.v+=2,this.Dt(this.v),this.R.setInt16(t,i,this.Ji)},xi:function(i){var t=this.v;this.v+=2,this.Dt(this.v),this.R.setUint16(t,i,this.Ji)},J:function(i){var t=this.v;this.v+=4,this.Dt(this.v),this.R.setInt32(t,i,this.Ji)},Ti:function(i){var t=this.v;this.v+=4,this.Dt(this.v),this.R.setUint32(t,i,this.Ji)},ih:function(i){var t=this.v;this.v+=4,this.Dt(this.v),this.R.setFloat32(t,i,this.Ji)},C:function(i){var t=this.v;this.v+=8,this.Dt(this.v),this.R.setFloat64(t,i,this.Ji)},Di:function(i){var t=this.v;this.v+=i.byteLength,this.Dt(this.v),new Uint8Array(this.R.buffer,this.R.byteOffset,this.R.byteLength).set(i,t)},br:function(i){this.Di(new Uint8Array(i))},Ct:function(i){this.Gi(ti.Kr(i)),this.cs(i)},vt:function(i){if(i==null){this.Gi(0);return}this.Gi(ti.Kr(i)+1),this.cs(i)},Ol:function(i){var t=ti.Kr(i);if(t>255)throw null;this.p(t),this.cs(i)},dr:function(i){this.Ct(JSON.stringify(i))},cs:function(i){var{v:t}=this,n=i.length;this.Dt(t+ti.Kr(i));for(var{R:e}=this,s=0;s<n;s++)t+=ti.Gi(i.charCodeAt(s),e,t);this.v=t},Gi:function(i){var{v:t}=this;i>>>=0,this.Dt(t+ti.Pa(i));var{R:n}=this;n.setUint8(t,i|128),i>=128?(n.setUint8(t+1,i>>7|128),i>=16384?(n.setUint8(t+2,i>>14|128),i>=2097152?(n.setUint8(t+3,i>>21|128),i>=268435456?(n.setUint8(t+4,i>>28&127),i=5):(n.setUint8(t+3,n.getUint8(t+3)&127),i=4)):(n.setUint8(t+2,n.getUint8(t+2)&127),i=3)):(n.setUint8(t+1,n.getUint8(t+1)&127),i=2)):(n.setUint8(t,n.getUint8(t)&127),i=1),this.v+=i}};function Ye(i){this.Ta=i,this.Qi=[],this.vs=0}Ye.prototype={Il:function(i){this.vs=0;var t=0;this.Qi.forEach((e,s)=>{e.index++,e.Ne*=kf,this.Qi[t].index<e.index&&(t=s),this.vs+=e.Ne});var n;for(this.Qi.length>=this.Ta?(n=this.Qi[t],this.vs-=n.Ne,this.Qi.splice(t,1)):n={},n.value=i,n.Ne=1,n.index=0,this.vs+=n.Ne,i=0;i<this.Qi.length&&this.Qi[i].value<=n.value;++i);this.Qi.splice(i,0,n)},xr:function(i){if(this.Qi.length==0)return 0;if(this.Qi.length==1)return this.Qi[0].value;i*=this.vs;for(var t=this.Qi[0].Ne,n=0;n<this.Qi.length-1&&!(t>=i);)t+=this.Qi[++n].Ne;return this.Qi[n].value},Na:function(){return this.Qi.length==0?0:this.Qi[this.Qi.length-1].value}};function $e(i,t){this.Bl=i,this.Fl=t,this.as=i,this.th=Qe.now()}$e.prototype={Gl:function(i=1){return this.Xi(),i>this.as?!1:(this.as-=i,!0)},Xi:function(){var i=Qe.now(),t=Math.floor((i-this.th)/this.Fl);this.th+=t*this.Fl,this.as+=t,this.as>=this.Bl&&(this.as=this.Bl,this.th=i)}};var He={name:"Integer"};Xe(at,["dataView","littleEndian","offset"],["readUint8Array","readArrayBuffer","readInt8","readUint8","readInt16","readUint16","readInt32","readUint32","readFloat32","readFloat64","readUTF8Char","readStringContents","readNullableString","readString","readString2","readJSON"]);Xe(ti,["dataView","littleEndian","offset"],["toArrayBuffer","toUint8Array","toDataView","createStreamReader","doubleSizeIfNecessary","resize","writeUint8","writeInt16","writeUint16","writeInt32","writeUint32","writeFloat32","writeFloat64","writeUint8Array","writeArrayBuffer","writeString","writeNullableString","writeString2","writeJSON","writeStringContents","writeUTF8Char"]);ti.create=ti.t;Dt.s3=Dt.Ra||(Dt.Ra={nh:(i,t,n)=>i<t?t:i>n?n:i,Ll:Tf,tn:at,Tt:ti,Aa:Ye,Ea:$e,_l:He,Ul:(i,t)=>{var n=t!=null;if(n){switch(t){case Array:n=i instanceof Array;break;case Boolean:n=typeof i=="boolean";break;case Number:n=typeof i=="number";break;case He:n=typeof i=="number"&&(i|0)===i;break;case String:n=typeof i=="string";break;default:n=!1}if(n)return i}throw Wi($i.eo,JSON.stringify(i),t.name||JSON.stringify(t))},Hr:(i,t)=>new Promise((n,e)=>{var s=Sf(()=>{e("Timed out")},t);i.then(r=>{xe(s),n(r)},r=>{xe(s),e(r)})}),ii:(i,t)=>{var n=Object.create(i);for(var e in t)n[e]=t[e];return t.toString!==Object.prototype.toString&&(n.toString=t.toString),n}})});var ai=N((T1,We)=>{var{O:Nf}=E();function ui(i,t,n,e,s){this.n=i,this.m=t,this.Jl=n,this.u=e,this.l=s}ui.spec=ui.Yi=new ui(0,16777215,0,-1,0);ui.red=ui.Oi=new ui(1,15035990,-1,8,2);ui.blue=ui.it=new ui(2,5671397,1,16,4);ui.byId=ui.s=[ui.Yi,ui.Oi,ui.it];Nf(ui,["id","color","defenseDir","cMask","cGroup"],[]);We.s3=ui});var Ze=N((nn,en)=>{var tn=(()=>{var i=(o,p)=>()=>(p||o((p={s3:{}}).s3,p),p.s3),t=i((o,p)=>{function q(S,m){this.x=S,this.y=m}q.prototype={Kl:function(){this.x=-this.x,this.y=-this.y}},p.s3=q}),n=i((o,p)=>{var q=t();p.s3=function(S){var{l:m=32,u:P=63,o:h=1,qi:v=0,mi:w=0}=S||{};this.l=m,this.u=P,this.o=h,this.c=new q(v,w)}}),e=i((o,p)=>{function q(m){var{l:P=32,u:h=63,o:v=1,$i:w=0,j:a=null,D:C=null}=m||{};this.hs=this.fs=this.Mi=null,this.Yu=0,this.Jr=null,this.j=a,this.D=C,this.$i=w,this.o=v,this.u=h,this.l=P,this._i=1/0}var S=t();q.prototype={Qr:function(m){if(m*=.017453292519943295,0>m){m=-m;var P=this.j;this.j=this.D,this.D=P,this.$i=-this.$i}.17435839227423353<m&&5.934119456780721>m&&(this._i=1/Math.tan(m/2))},Vl:function(){return isFinite(this._i)?114.59155902616465*Math.atan(1/this._i):0},Kt:function(){var{_i:m,D:{c:P},j:{c:h}}=this,v,w,a,C;isFinite(m)?(a=.5*(P.x-h.x),C=.5*(P.y-h.y),v=h.x+a-C*m,w=h.y+C+a*m,a=h.x-v,C=h.y-w,this.Yu=Math.sqrt(a*a+C*C),this.hs=new S(w-h.y,h.x-v),this.fs=new S(P.y-w,v-P.x),0>=m&&(this.hs.Kl(),this.fs.Kl()),this.Jr=new S(v,w)):(a=h.x-P.x,C=h.y-P.y,w=Math.sqrt(C*C+a*a),this.Mi=new S(-C/w,a/w))}},p.s3=q}),s=i((o,p)=>{var q=t();p.s3=function(S){var{l:m=32,u:P=63,o:h=1,fi:v=0,at:w=0,pt:a=0}=S||{};this.l=m,this.u=P,this.o=h,this.fi=v,this.Mi=new q(w,a)}}),r=i((o,p)=>{function q(m){var{Ma:P=0,Oa:h=0,Ia:v=0,Ba:w=0}=m||{};this.lt=new S(v,w),this.ot=new S(P,h)}var S=t();q.prototype={Fa:function({x:m,y:P},{x:h,y:v}){var{ot:{x:w,y:a},lt:{x:C,y:T}}=this,A=h-m,R=v-P;return 0<R*(w-m)-A*(a-P)==0<R*(C-m)-A*(T-P)?!1:(A=C-w,R=T-a,0<R*(m-w)-A*(P-a)!=0<R*(h-w)-A*(v-a))}},p.s3=q}),u=i((o,p)=>{var q=t();p.s3=function(S){var{l:m=63,u:P=63,$:h=.99,d:v=1,o:w=.5,U:a=10,C2:C=0,g2:T=0,P2:A=0,S2:R=0,qi:U=0,mi:I=0}=S||{};this.l=m,this.u=P,this.$=h,this.d=v,this.o=w,this.U=a,this.E=new q(C,T),this.M=new q(A,R),this.c=new q(U,I)}}),f=i((o,p)=>{p.s3=function(q){var{Nt:S=1/0,Ii:m=100,Ri:P=100,Zi:h=0,zi:v=0}=q||{};this.Nt=S,this.Ii=m,this.Ri=P,this.Zi=h,this.zi=v}}),l=i((o,p)=>{function q(m){S.apply(this,[m])}var S=u();q.prototype={bl:function(m,P,h){var{M:v,d:w}=this;v.x+=m*P*w,v.y+=m*h*w},Ga:function(m,P){var{M:h}=this;h.x+=m,h.y+=P},La:function(){var{x:m,y:P}=this.M;return 0<m*m+P*P}},p.s3=q}),c=i((o,p)=>{function q(){this.g=[],this.N=[],this.X=[],this.G=[],this.wi=[]}q.prototype={Xi:function(S,m){var P,h,v,w,a,C,{g:T,X:A,G:R,N:U,wi:I}=this;T.forEach(({c:$,M:_,E:Z,$:z})=>{var{x:ri,y:yi}=_;$.x+=S*ri,$.y+=S*yi,_.x=z*(ri+Z.x),_.y=z*(yi+Z.y)}),T.forEach(($,_)=>{var{o:Z,U:z,u:ri,l:yi,d:Ci,c:x,M:Q}=$;for(P=_+1;P<T.length;P++)if(v=T[P],v.u&yi&&v.l&ri){var{c:qi,M:li}=v,fi=x.x-qi.x,V=x.y-qi.y,X=fi*fi+V*V,F=v.U+z;if(0<X&&X<=F*F){X=Math.sqrt(X),fi/=X,V/=X;var Di=Ci/(Ci+v.d);F-=X,X=F*Di,x.x+=fi*X,x.y+=V*X,F-=X,qi.x-=fi*F,qi.y-=V*F,F=fi*(Q.x-li.x)+V*(Q.y-li.y),0>F&&(F*=Z*v.o+1,Di*=F,Q.x-=fi*Di,Q.y-=V*Di,Di=F-Di,li.x+=fi*Di,li.y+=V*Di,m?.ps?.(_,$,P,v))}}if(Ci!=0){A.forEach((d,It)=>{if(d.u&yi&&d.l&ri){var{Mi:{x:b,y:J}}=d;w=d.fi-(b*x.x+J*x.y)+z,0<w&&(x.x+=b*w,x.y+=J*w,w=Q.x*b+Q.y*J,0>w&&(w*=Z*d.o+1,Q.x-=w*b,Q.y-=w*J,m?.ys?.(_,$,It)))}}),R.forEach((d,It)=>{if(d.u&yi&&d.l&ri){var b,J,H,{x:Kn,y:Vn}=x;if(isFinite(d._i)){if(J=d.Jr,b=Kn-J.x,J=Vn-J.y,H=d.hs,F=d.fs,(0<H.x*b+H.y*J&&0<F.x*b+F.y*J)==0>=d._i||(F=Math.sqrt(b*b+J*J),F==0))return;H=F-d.Yu,b/=F,J/=F}else{var{x:_e,y:Ue}=d.j.c,{x:Je,y:Ke}=d.D.c;if(J=Je-_e,b=Ke-Ue,H=Kn-Je,F=Vn-Ke,0>=(Kn-_e)*J+(Vn-Ue)*b||0<=H*J+F*b)return;J=d.Mi,b=J.x,J=J.y,H=b*H+J*F}if(F=d.$i,F==0)0>H&&(H=-H,b=-b,J=-J);else if(0>F&&(F=-F,H=-H,b=-b,J=-J),H<-F)return;H>=z||(H=z-H,x.x+=b*H,x.y+=J*H,H=b*Q.x+J*Q.y,0>H&&(H*=Z*d.o+1,Q.x-=b*H,Q.y-=J*H,m?.ws?.(_,$,It)))}});var yf=z*z;U.forEach((d,It)=>{if(d.u&yi&&d.l&ri&&(w=x.x-d.c.x,a=x.y-d.c.y,C=w*w+a*a,0<C&&C<=yf)){C=Math.sqrt(C),w/=C,a/=C,C=z-C,x.x+=w*C,x.y+=a*C,C=w*Q.x+a*Q.y;var b=0>C;b&&(C*=Z*d.o+1,Q.x-=w*C,Q.y-=a*C),m?.qs?.(_,$,It,b)}})}});for(var ii=0;2>ii;ii++)I.forEach(({zi:$,Zi:_,Nt:Z,Ri:z,Ii:ri},yi)=>{if($=T[$],_=T[_],$&&_){var{c:Ci,M:x,d:Q}=$,{c:qi,M:li,d:fi}=_;if(h=Ci.x-qi.x,_=Ci.y-qi.y,v=Math.sqrt(h*h+_*_),!(0>=v)){if(h/=v,_/=v,P=Q/(Q+fi),P!=P&&(P=.5),z>=ri)w=z,a=0;else if(v<=z)w=z,a=1;else if(v>=ri)w=ri,a=-1;else return;v=w-v,isFinite(Z)?(P=Z*v*.5,h*=P,_*=P,x.x+=h*Q,x.y+=_*Q,li.x-=h*fi,li.y-=_*fi,m?.Re?.(yi,!1,!0)):(w=v*P,Ci.x+=h*w*.5,Ci.y+=_*w*.5,v-=w,qi.x-=h*v*.5,qi.y-=_*v*.5,v=h*(x.x-li.x)+_*(x.y-li.y),(Z=0>=a*v)&&(P*=v,x.x-=h*P,x.y-=_*P,P=v-P,li.x+=h*P,li.y+=_*P),m?.Re?.(yi,!0,Z))}}})},ms:function(S){this.g.push(S)},Xr:function(S){S=this.g.indexOf(S),0>S||this.g.splice(S,1)}},p.s3=q});return i((o,p)=>{p.s3={se:t(),eh:n(),Yr:e(),sh:s(),_a:r(),$r:u(),rh:f(),uh:l(),hh:c()}})()})();typeof nn<"u"?(typeof en<"u"&&en.s3&&(nn=en.s3=tn),nn.k2=tn):typeof root<"u"?root.nago=tn:window.nago=tn});var pt=N((N1,sn)=>{var{O:tt}=E(),{ii:nt}=B(),rn=ai(),{se:Rf,eh:je,Yr:De,sh:is,_a:ts,$r:ns,rh:es,uh:ss,hh:rs}=Ze(),ze=1/Math.SQRT2;function dn(i){je.call(this,i),this.n=0}dn.prototype=nt(je.prototype,{w:function(i){var t=this.c;i.C(t.x),i.C(t.y),i.C(this.o),i.J(this.u),i.J(this.l)},q:function(i){var t=this.c;t.x=i.S(),t.y=i.S(),this.o=i.S(),this.u=i.L(),this.l=i.L()}});function xn(i){De.call(this,i),this.Ci=i?.Ci==null?!0:i.Ci,this.m=i?.m==null?0:i.m,i?.mn!=null&&this.Qr(i.mn)}xn.prototype=nt(De.prototype,{w:function(i){var t=0,n=i.v;i.p(0),i.p(this.j.n),i.p(this.D.n),this.$i!=0&&(t=1,i.C(this.$i)),this._i!=1/0&&(t|=2,i.C(this._i)),this.m!=0&&(t|=4,i.J(this.m)),this.Ci&&(t|=8),i.R.setUint8(n,t),i.C(this.o),i.J(this.u),i.J(this.l)},q:function(i,t){var n=i.A();this.j=t[i.A()],this.D=t[i.A()],this.$i=n&1?i.S():0,this._i=n&2?i.S():1/0,this.m=n&4?i.L():0,this.Ci=(n&8)!=0,this.o=i.S(),this.u=i.L(),this.l=i.L()}});function Hn(i){is.call(this,i)}Hn.prototype=nt(is.prototype,{w:function(i){var t=this.Mi;i.C(t.x),i.C(t.y),i.C(this.fi),i.C(this.o),i.J(this.u),i.J(this.l)},q:function(i){var t=this.Mi;t.x=i.S(),t.y=i.S(),this.fi=i.S(),this.o=i.S(),this.u=i.L(),this.l=i.L()}});function Qn(i){ts.call(this,i),this.I=i?.I==null?rn.Yi:i.I}Qn.prototype=nt(ts.prototype,{w:function(i){var t=this.ot;i.C(t.x),i.C(t.y),t=this.lt,i.C(t.x),i.C(t.y),i.p(this.I.n)},q:function(i){var t=this.ot;t.x=i.S(),t.y=i.S(),t=this.lt,t.x=i.S(),t.y=i.S(),this.I=rn.s[i.os()]||rn.Yi}});function Xn(i){ns.call(this,i),this.m=i?.m==null?16777215:i.m}Xn.prototype=nt(ns.prototype,{w:function(i){var t=this.c;i.C(t.x),i.C(t.y),t=this.M,i.C(t.x),i.C(t.y),t=this.E,i.C(t.x),i.C(t.y),i.C(this.U),i.C(this.o),i.C(this.d),i.C(this.$),i.Ti(this.m),i.J(this.u),i.J(this.l)},q:function(i){var t=this.c;t.x=i.S(),t.y=i.S(),t=this.M,t.x=i.S(),t.y=i.S(),t=this.E,t.x=i.S(),t.y=i.S(),this.U=i.S(),this.o=i.S(),this.d=i.S(),this.$=i.S(),this.m=i.oi(),this.u=i.L(),this.l=i.L()},Ua:function(){var i=new gi;return this.dl(i),i},dl:function(i){var t=i.c,n=this.c;t.x=n.x,t.y=n.y,t=i.M,n=this.M,t.x=n.x,t.y=n.y,t=i.E,n=this.E,t.x=n.x,t.y=n.y,i.U=this.U,i.o=this.o,i.d=this.d,i.$=this.$,i.m=this.m,i.u=this.u,i.l=this.l}});function Yn(i){es.call(this,i),this.m=i?.m==null?0:i.m}Yn.prototype=nt(es.prototype,{w:function(i){i.p(this.zi),i.p(this.Zi),i.C(this.Ri),i.C(this.Ii),i.C(this.Nt),i.J(this.m)},q:function(i){this.zi=i.A(),this.Zi=i.A(),this.Ri=i.S(),this.Ii=i.S(),this.Nt=i.S(),this.m=i.L()}});function gi(i){ss.call(this,i),this.K=null,this.yt=-1,this.ti=null,this.xl=0,this.m=i?.m==null?16777215:i.m}gi.Cn=function(i,t){i.U=t.U,i.o=t.o,i.d=t.d,i.$=t.$,i.m=t.m,i.u=t.u,i.l=t.l;var n=i.c,e=t.c;n.x=e.x,n.y=e.y,n=i.M,e=t.M,n.x=e.x,n.y=e.y,n=i.E,e=t.E,n.x=e.x,n.y=e.y};gi.prototype=nt(ss.prototype,{w:function(i){var t=this.c;i.C(t.x),i.C(t.y),t=this.M,i.C(t.x),i.C(t.y),t=this.E,i.C(t.x),i.C(t.y),i.C(this.U),i.C(this.o),i.C(this.d),i.C(this.$),i.Ti(this.m),i.J(this.u),i.J(this.l)},q:function(i){var t=this.c;t.x=i.S(),t.y=i.S(),t=this.M,t.x=i.S(),t.y=i.S(),t=this.E,t.x=i.S(),t.y=i.S(),this.U=i.S(),this.o=i.S(),this.d=i.S(),this.$=i.S(),this.m=i.oi(),this.u=i.L(),this.l=i.L()},gt:function(i){return i!=this.yt&&(this.ti||(this.ti=new gi),this.yt=i,gi.Cn(this.ti,this)),this.ti}});function it(){rs.call(this),this.Ui=[],this.yt=-1,this.ti=null}it.Cn=function(i,t,n){if(!t.g)i.g=null;else{i.g||(i.g=[]);for(var e=i.g,s=t.g,r=s.length,u;e.length>r;)e.pop();for(r=0,u=s.length;r<u;r++)e[r]=s[r].gt(n)}i.N=t.N,i.G=t.G,i.X=t.X,i.wi=t.wi};it.prototype=nt(rs.prototype,{w:function(i){i.p(this.g.length),this.g.forEach((t,n)=>{t.xl=n,t.w(i)})},q:function(i){this.g=[];for(var t=i.A(),n=0;n<t;n++){var e=new gi;e.q(i),this.ms(e)}},gt:function(i){return i!=this.yt&&(this.ti||(this.ti=new it),this.yt=i,it.Cn(this.ti,this,i)),this.ti},Ja:function(i,t,n){var s=t.c,r=i.c,e=s.x-r.x,s=s.y-r.y,r=Math.sqrt(e*e+s*s);if(!(r-t.U-i.U>=4)){var u=e/r,f=s/r;return t.bl(n.Jn,u,f),i.bl(-n.Kn,u,f),!0}},Ka:function(i,t){var n=i.Ni,e=((n&8)>0)-((n&4)>0),s=e==0,r=((n&2)>0)-((n&1)>0),u=r==0;!s&&!u&&(e*=ze,r*=ze),n=i.Rt,(!s||!u)&&(u=n?t.Vn:t.bn,i.H.Ga(e*u,r*u)),i.H.$=n?t.dn:t.$},Hl:function(i,t){i.H&&(this.Xr(i.H),t?.(i),i.H=null)},Va:function(i,t,n){i.Ni=0;var e=i.H;e||(e=new gi,e.K=i.n,i.H=e,this.ms(e),n?.(i));var s=t.Jt;e.m=0,e.U=s.U,e.d=s.d,e.$=s.$,e.o=s.o,e.u=39,e.l=i.I.l|s.l;var r=i.I==rn.Oi?t.st:t.rt;r.length==0?(e.c.x=i.I.Jl*t.Vt,e.c.y=0):(i=e.c,r=r[r.length-1],i.x=r.x,i.y=r.y),r=e.M,r.x=0,r.y=0,e=e.E,s=s.E,e.x=s.x,e.y=s.y}});it.ba=i=>{var t=new it;return t.N=i.N,t.G=i.G,t.Ui=i.Ui,t.X=i.X,t.wi=i.wi,i.g.forEach(n=>{var e=new gi;return e.c.x=n.c.x,e.c.y=n.c.y,e.M.x=n.M.x,e.M.y=n.M.y,e.E.x=n.E.x,e.E.y=n.E.y,e.U=n.U,e.o=n.o,e.d=n.d,e.$=n.$,e.m=n.m,e.u=n.u,e.l=n.l,t.ms(e),e}),t};tt(dn,["cGroup","cMask","bCoef","pos","id"],[]);tt(xn,["normal","v1Normal","v0Normal","arcRadius","arcCenter","v0","v1","bias","bCoef","cMask","cGroup","curveF","vis","color"],[]);tt(Hn,["cGroup","cMask","bCoef","dist","normal"],[]);tt(Qn,["p1","p0","team"],[]);tt(Xn,["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","color"],[]);tt(Yn,["strength","maxLength","minLength","d1","d0","color"],[]);tt(gi,["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","playerId",null,"ext",null,"color"],[]);tt(it,["discs","vertices","planes","segments","joints","goals",null,"ext"],[null,null,null,"kickBall",null,null,null]);sn.s3=sn.da||(sn.da={se:Rf,eh:dn,Yr:xn,sh:Hn,xa:Qn,$r:Xn,rh:Yn,uh:gi,hh:it})});var $n=N((R1,un)=>{var{Pe:Af}=E(),hn=[];function M(i,t){hn.push({P:i})}function Ef(i){var t=hn.findIndex(n=>n.P==i);t<0||hn.splice(t,1)}M("PlayerObjectCreated");M("PlayerDiscCreated");M("PlayerDiscDestroyed");M("RoomLink");M("PlayerBallKick");M("TeamGoal");M("GameEnd");M("GameTick");M("PlayerSyncChange");M("Announcement");M("KickOff");M("AutoTeams");M("ScoreLimitChange");M("TimeLimitChange");M("PlayerAdminChange");M("PlayerAvatarChange");M("PlayerHeadlessAvatarChange");M("PlayersOrderChange");M("PlayerTeamChange");M("StadiumChange");M("TeamColorsChange");M("TeamsLockChange");M("PlayerJoin");M("GamePauseChange");M("PlayerChat");M("PlayerInputChange");M("PlayerChatIndicatorChange");M("PlayerLeave");M("SetDiscProperties");M("KickRateLimitChange");M("GameStart");M("GameStop");M("PingData");M("PingChange");M("CollisionDiscVsDisc");M("CollisionDiscVsSegment");M("CollisionDiscVsPlane");M("CollisionDiscVsVertex");M("ModifyJoint");M("TimeIsUp");M("PositionsReset");M("BansClear");M("BanClear");M("HandicapChange");M("RoomRecaptchaModeChange");M("RoomTokenChange");M("RoomRecordingChange");M("RoomPropertiesChange");M("CustomEvent");M("BinaryCustomEvent");M("IdentityEvent");M("PluginActiveChange");M("ConfigUpdate");M("RendererUpdate");M("PluginUpdate");M("LibraryUpdate");M("LanguageChange");Af||M("VariableValueChange");un.s3=un.fh||(un.fh={fh:hn,Ha:M,Qa:Ef})});var L=N((A1,fn)=>{var yt=O(),{ji:wt}=D();function Pi(){this.V=0}Pi.oh=new Map;Pi.gi=function(i){if(i.Ql=i.prototype.eventType,i.Z==null)throw wt(yt.wo);i.prototype.Z=i.Z,Pi.oh.set(i.Ql,i)};Pi.w=function(i,t){var n=i?.ei?.Ql;if(n==null)throw wt(yt.qo);t.p(n),i.w(t)};Pi.q=function(i,t){var n=Object.create(Pi.oh.get(i.A()).prototype);return n.V=0,n.Si=0,n.q(i,t),n};Pi.prototype={b:function(){throw wt(yt.Ln)},q:function(){throw wt(yt.Ln)},w:function(){throw wt(yt.Ln)},copy:function(){throw wt(yt.Ln)},ei:Pi};Object.defineProperty(Pi.prototype,"eventType",{get(){return null}});function Mf(i,t){return i.V=t.V,i.Si=t.Si,i.s=t.s,i.Wr=t.Wr,i}fn.s3=fn.Xa||(fn.Xa={ni:Pi,Pi:Mf})});var Wn=N((E1,hs)=>{function us(){this.tt=[]}us.prototype={lh:function(i){var t=0,{Si:n,V:e}=i;this.tt.find(s=>{var r=s.Si;if(r>n)return!0;if(r==n){if(r=s.V,r>e)return!0;r==e&&e++}t++}),i.V=e,this.tt.splice(t,0,i)},Ya:function(i){var t=this.tt.findIndex(n=>n.Si>=i);t<0?this.tt.length=0:this.tt.splice(0,t)},$a:function(i,t){var{tt:n}=this;if(n.length=0,i=i.tt,t=t.tt,i.length==0){t.forEach(c=>n.push(c));return}if(t.length==0){i.forEach(c=>n.push(c));return}for(var e=0,s=i.length,r=0,u=t.length;;){var f=i[e],l=t[r];if(f.Si<=l.Si){if(n.push(f),e++,e>=s){for(;r<u;)n.push(t[r++]);break}}else if(n.push(l),r++,r>=u){for(;e<s;)n.push(i[e++]);break}}},Wa:function(i){var t=0,{tt:n}=this;n.forEach(e=>{e.re!=i&&(n[t++]=e)}),n.length=t},Za:function(i){var t=this.tt.findIndex(n=>n.Si>=i);return t<0?this.tt.length:t}};hs.s3=us});var qt=N((M1,ls)=>{var{ji:Zn}=D(),fs=Wn(),zn=O();function os(i){this.ch=new fs,this.ue=0,this.ht=0,this.gn=new fs,this.At=0,this.Pn=0,this.nn=.06,this.vh=16.666666666666668,this.Zr=120,this.k=0,this.i=i,this.ah=0}os.prototype={B:function(){throw Zn(zn.Ln)},Sn:function(i=0){throw Zn(zn.Ln)},Xi:function(){throw Zn(zn.Ln)},Xl:function(i){for(var{tt:t}=this.gn,n=0,e=t.length,s=0;s<i;s++){for(;n<e;){var r=t[n];if(r.Si!=this.k)break;r.b(this.i),this.en?.(r),this.ht++,n++}this.i.Hi(1),this.ue+=this.ht,this.ht=0,this.k++}for(;n<e;){var r=t[n];if(r.Si!=this.k||r.V!=this.ht)break;r.b(this.i),this.en?.(r),this.ht++,n++}t.splice(0,n)},Cs:function(i){i.Si==this.k&&i.V<=this.ht?(i.V=this.ht++,i.b(this.i,this.si),this.en?.(i)):this.gn.lh(i)},Yl:function(i,t){if(i<=0)return this.i;i>this.Zr&&(i=this.Zr);var n=this.i.gt(++this.ah),e;t!=null?(this.ch.$a(this.gn,t),e=this.ch):e=this.gn,e=e.tt;for(var s=0,r=e.length,u=i|0,f=this.k,l=f+u;f<=l;f++){for(;s<r;){var c=e[s];if(c.Si>f)break;c.Z.ai&&c.b(n),s++}n.Hi(f!=l?1:i-u)}return this.ch.tt.length=0,n},za:function(i){this.At=i*this.nn|0,this.i.gs?.(i)}};ls.s3=os});var ps=N((O1,as)=>{var{O:Of}=E(),{ji:If}=D(),{ni:cs,Pi:Bf}=L(),vs=O(),{ii:Ff}=B();function Si(){this.V=0,this.Ae="",this.m=0,this.Ps=0,this.Ss=0,this.s=0,this.Wr=null}Si.t=function(i,t,n,e){var s=new Si;return s.Ae=i,s.m=t,s.Ps=n,s.Ss=e,s};Si.prototype=Ff(cs.prototype,{b:function(i){this.s==0&&i.ja(this.Ae,this.m,this.Ps,this.Ss)},w:function(i){i.Ct(this.Ae.substring(0,1e3)),i.J(this.m),i.p(this.Ps),i.p(this.Ss)},q:function(i){if(this.Ae=i.mt(),this.Ae.length>1e3)throw If(vs.mo);this.m=i.L(),this.Ps=i.A(),this.Ss=i.A()},copy:function(){return Bf(Si.t(this.Ae,this.m,this.Ps,this.Ss),this)},ei:Si});Object.defineProperty(Si.prototype,"eventType",{get(){return vs.Ko}});Si.Z={ai:!1,ci:!1,ph:{yh:10,wh:900}};cs.gi(Si);Of(Si,[null,"msg","color","style","sound","byId","targetId"],[]);as.s3=Si});var qs=N((I1,ws)=>{var{O:Gf}=E(),{ni:ys,Pi:Lf}=L(),_f=O(),{ii:Uf}=B();function ki(){this.V=0,this.value=0,this.n=null,this.Ee=null,this.s=0}ki.t=function(i,t,n){var e=new ki;return e.value=i,e.n=t,e.Ee=n,e};ki.prototype=Uf(ys.prototype,{b:function(i){if(this.n!=null){i.Da?.(this.s,this.n,this.Ee);return}i.i1(this.s,this.value)},w:function(i){i.p(this.value),this.n!=null&&this.Ee!=null&&(i.J(this.n),i.p(this.Ee))},q:function(i,t){if(this.value=i.A(),!t)try{this.n=i.L(),this.Ee=i.A()}catch{}},copy:function(){return Lf(ki.t(this.value,this.n,this.Ee),this)},ei:ki});Object.defineProperty(ki.prototype,"eventType",{get(){return _f.Vo}});ki.Z={ai:!1,ci:!1};ys.gi(ki);Gf(ki,[null,"value","id","mode","byId"],[]);ws.s3=ki});var gs=N((B1,Cs)=>{var{O:Jf}=E(),{ni:ms,Pi:Kf}=L(),Vf=O(),{ii:bf}=B();function Ti(){this.V=0,this.vi=null}Ti.t=function(i){var t=new Ti;return t.vi=i,t};Ti.prototype=bf(ms.prototype,{b:function(i){i.t1(this.vi)},w:function(i){i.Gi(this.vi.byteLength),i.br(this.vi)},q:function(i){this.vi=i.El(i.Ki())},copy:function(){var i=null;return this.vi&&(i=new ArrayBuffer(this.vi.byteLength),new Uint8Array(i).set(new Uint8Array(this.vi))),Kf(Ti.t(i),this)},ei:Ti});Object.defineProperty(Ti.prototype,"eventType",{get(){return Vf.bo}});Ti.Z={ai:!1,ci:!1};ms.gi(Ti);Jf(Ti,[null,"data"],[]);Cs.s3=Ti});var ks=N((F1,Ss)=>{var{O:df}=E(),{ni:Ps,Pi:xf}=L(),Hf=O(),{ii:Qf}=B();function Ni(){this.V=0,this.Ni=0,this.s=0}Ni.t=function(i){var t=new Ni;return t.Ni=i,t};Ni.prototype=Qf(Ps.prototype,{b:function(i){i.n1(this.s,this.Ni)},w:function(i){i.Ti(this.Ni)},q:function(i){this.Ni=i.oi()},copy:function(){return xf(Ni.t(this.Ni),this)},ei:Ni});Object.defineProperty(Ni.prototype,"eventType",{get(){return Hf.xo}});Ni.Z={ai:!0,ci:!0};Ps.gi(Ni);df(Ni,[null,"input","byId"],[]);Ss.s3=Ni});var As=N((G1,Rs)=>{var{O:Xf}=E(),{ji:Yf}=D(),{ni:Ts,Pi:$f}=L(),Ns=O(),{ii:Wf}=B();function Ri(){this.V=0,this.Et="",this.s=0,this.Wr=null}Ri.t=function(i){var t=new Ri;return t.Et=i,t};Ri.prototype=Wf(Ts.prototype,{b:function(i){i.e1(this.Et,this.s)},w:function(i){i.Ct(this.Et.substring(0,140))},q:function(i){if(this.Et=i.mt(),this.Et.length>140)throw Yf(Ns.Co)},copy:function(){return $f(Ri.t(this.Et),this)},ei:Ri});Object.defineProperty(Ri.prototype,"eventType",{get(){return Ns.Ho}});Ri.Z={ai:!1,ci:!1,ph:{yh:10,wh:900}};Ts.gi(Ri);Xf(Ri,[null,"text","byId","targetId"],[]);Rs.s3=Ri});var on=N((L1,Es)=>{var{O:Zf}=E(),jn=ai();function mt(){this.yt=-1,this.ti=null,this.I=jn.Yi,this.H=null,this.sn=0,this.rn=0,this.Rt=!1,this.n=0,this.Ni=0,this.P="Player",this.Me=0,this.Oe=0,this.Ai=null,this.bt=!1,this.he=null,this.ki=null,this.Mt=0,this.Pt=!1,this.xn=null,this.Wi=null,this.kn=!1,this.qh=null}mt.Cn=function(i,t,n){i.Pt=t.Pt,i.Mt=t.Mt,i.ki=t.ki,i.he=t.he,i.bt=t.bt,i.Ai=t.Ai,i.Oe=t.Oe,i.Me=t.Me,i.P=t.P,i.Ni=t.Ni,i.n=t.n,i.Rt=t.Rt,i.rn=t.rn,i.sn=t.sn,i.H=t.H==null?null:t.H.gt(n),i.H&&(i.H.K=i.n),i.I=t.I};mt.prototype={w:function(i){i.p(this.Pt?1:0),i.J(this.Mt),i.vt(this.ki),i.vt(this.he),i.p(this.bt?1:0),i.vt(this.Ai),i.J(this.Oe),i.vt(this.P),i.J(this.Ni),i.Gi(this.n),i.p(this.Rt?1:0),i.Du(this.rn),i.p(this.sn),i.p(this.I.n),i.Du(this.H==null?-1:this.H.xl)},q:function(i,t){this.Pt=i.A()!=0,this.Mt=i.L(),this.ki=i.ct(),this.he=i.ct(),this.bt=i.A()!=0,this.Ai=i.ct(),this.Oe=i.L(),this.P=i.ct(),this.Ni=i.L(),this.n=i.Ki(),this.Rt=i.A()!=0,this.rn=i.zu(),this.sn=i.A(),this.I=jn.s[i.os()]||jn.Yi;var n=i.zu();this.H=t?.[n],this.H&&(this.H.K=this.n)},gt:function(i){return i!=this.yt&&(this.ti||(this.ti=new mt),this.yt=i,mt.Cn(this.ti,this,i)),this.ti}};Zf(mt,[null,"ext","team","disc","kickRateMinTickCounter","kickRateMaxTickCounter","isKicking","id","input","name","ping",null,"flag","sync","headlessAvatar","avatar","avatarNumber","isAdmin","conn","auth","customClient","identity"],[]);Es.s3=mt});var Is=N((U1,Os)=>{var{O:zf}=E(),{ni:Ms,Pi:jf}=L(),Df=O(),_1=on(),{ii:io}=B();function Ai(){this.V=0,this.n=0,this.P="",this.Ai="",this.ki="",this.xn="",this.Wi="",this.s=0}Ai.t=function(i,t,n,e,s,r){var u=new Ai;return u.n=i,u.P=t,u.Ai=n,u.ki=e,u.xn=s,u.Wi=r,u};Ai.prototype=io(Ms.prototype,{b:function(i,t){this.s==0&&i.s1(this.n,this.P,this.Ai,this.ki,this.xn,this.Wi,t)},w:function(i){i.J(this.n),i.vt(this.P),i.vt(this.Ai),i.vt(this.ki)},q:function(i){this.n=i.L(),this.P=i.ct(),this.Ai=i.ct(),this.ki=i.ct()},copy:function(){return jf(Ai.t(this.n,this.P,this.Ai,this.ki,this.xn,this.Wi),this)},ei:Ai});Object.defineProperty(Ai.prototype,"eventType",{get(){return Df.Qo}});Ai.Z={ai:!1,ci:!1};Ms.gi(Ai);zf(Ai,[null,"id","name","flag","avatar","conn","auth","byId"],[]);Os.s3=Ai});var Ls=N((J1,Gs)=>{var{O:to}=E(),{ji:no}=D(),{ni:Bs,Pi:eo}=L(),Fs=O(),{ii:so}=B();function Ei(){this.V=0,this.n=0,this.un=null,this.ks=!1,this.s=0}Ei.t=function(i,t,n){var e=new Ei;return e.n=i,e.un=t,e.ks=n,e};Ei.prototype=so(Bs.prototype,{b:function(i){i.Ot(this.s,128)&&i.r1(i.z(this.n),this.un,this.ks,i.z(this.s))},w:function(i){this.un!=null&&(this.un=this.un.substring(0,100)),i.J(this.n),i.vt(this.un),i.p(this.ks?1:0)},q:function(i){if(this.n=i.L(),this.un=i.ct(),this.ks=i.A()!=0,this.un!=null&&this.un.length>100)throw no(Fs.go)},copy:function(){return eo(Ei.t(this.n,this.un,this.ks),this)},ei:Ei});Object.defineProperty(Ei.prototype,"eventType",{get(){return Fs.Xo}});Ei.Z={ai:!1,ci:!1};Bs.gi(Ei);to(Ei,[null,"id","reason","ban","byId"],[]);Gs.s3=Ei});var Js=N((K1,Us)=>{var{O:ro}=E(),{ni:_s,Pi:uo}=L(),ho=O(),{ii:fo}=B();function Mi(){this.V=0,this.s=0}Mi.t=function(){return new Mi};Mi.prototype=fo(_s.prototype,{b:function(i){i.Ot(this.s,32)&&i.mh(i.z(this.s))},w:function(){},q:function(){},copy:function(){return uo(Mi.t(),this)},ei:Mi});Object.defineProperty(Mi.prototype,"eventType",{get(){return ho.Yo}});Mi.Z={ai:!1,ci:!1};_s.gi(Mi);ro(Mi,[null,"byId"],[]);Us.s3=Mi});var bs=N((V1,Vs)=>{var{O:oo}=E(),{ni:Ks,Pi:lo}=L(),co=O(),{ii:vo}=B();function Oi(){this.V=0,this.s=0}Oi.t=function(){return new Oi};Oi.prototype=vo(Ks.prototype,{b:function(i){i.Ot(this.s,32)&&i.Ch(i.z(this.s))},w:function(){},q:function(){},copy:function(){return lo(Oi.t(),this)},ei:Oi});Object.defineProperty(Oi.prototype,"eventType",{get(){return co.$o}});Oi.Z={ai:!1,ci:!1};Ks.gi(Oi);oo(Oi,[null,"byId"],[]);Vs.s3=Oi});var Hs=N((b1,xs)=>{var{O:ao}=E(),{ni:ds,Pi:po}=L(),yo=O(),{ii:wo}=B();function Ii(){this.V=0,this.Ts=!1,this.s=0}Ii.t=function(i){var t=new Ii;return t.Ts=i,t};Ii.prototype=wo(ds.prototype,{b:function(i){i.Ot(this.s,16)&&i.u1(this.Ts,this.s)},w:function(i){i.p(this.Ts?1:0)},q:function(i){this.Ts=i.A()!=0},copy:function(){return po(Ii.t(this.Ts),this)},ei:Ii});Object.defineProperty(Ii.prototype,"eventType",{get(){return yo.Wo}});Ii.Z={ai:!0,ci:!0};ds.gi(Ii);ao(Ii,[null,"paused","byId"],[]);xs.s3=Ii});var Ys=N((x1,Xs)=>{var{O:qo}=E(),{ni:Qs,Pi:mo}=L(),Co=O(),{ii:go,nh:d1}=B();function Bi(){this.V=0,this.W=0,this.It=0,this.s=0}Bi.t=function(i,t){var n=new Bi;return n.W=i,n.It=t,n};Bi.prototype=go(Qs.prototype,{b:function(i){if(i.Ot(this.s,2))switch(this.W){case 0:i.gh(this.It,this.s);break;case 1:i.Ph(this.It,this.s);break}},w:function(i){i.J(this.W),i.J(this.It)},q:function(i){this.W=i.L(),this.It=i.L()},copy:function(){return mo(Bi.t(this.W,this.It),this)},ei:Bi});Object.defineProperty(Bi.prototype,"eventType",{get(){return Co.Zo}});Bi.Z={ai:!1,ci:!1};Qs.gi(Bi);qo(Bi,[null,"type","newValue","byId"],[]);Xs.s3=Bi});var rt=N((H1,ln)=>{var Dn="0123456789ABCDEF";ln.s3=ln.h1||(ln.h1={zr:i=>{for(var t="",n=0;n<i.length;)t+=String.fromCharCode(Dn.indexOf(i.charAt(n++))<<4|Dn.indexOf(i.charAt(n++)));return t},jr:i=>i.reduce((t,n)=>t+String.fromCharCode(n),""),Sh:i=>(i=parseInt(i),isNaN(i)?null:i),kh:(i,t)=>{var n="";do n=Dn.charAt(i&15)+n,i>>>=4;while(i>0);if(t!=null)for(;n.length<t;)n="0"+n;return n}})});var Ws=N((Q1,$s)=>{var{O:Po}=E(),{se:So}=pt();function ie(){this.Kn=0,this.U=15,this.l=0,this.E=new So(0,0),this.o=.5,this.d=.5,this.$=.96,this.bn=.1,this.Vn=.07,this.dn=.96,this.Jn=5}ie.prototype={w:function(i){i.C(this.o),i.C(this.d),i.C(this.$),i.C(this.bn),i.C(this.Vn),i.C(this.dn),i.C(this.Jn);var t=this.E;i.C(t.x),i.C(t.y),i.J(this.l),i.C(this.U),i.C(this.Kn)},q:function(i){this.o=i.S(),this.d=i.S(),this.$=i.S(),this.bn=i.S(),this.Vn=i.S(),this.dn=i.S(),this.Jn=i.S();var t=this.E;t.x=i.S(),t.y=i.S(),this.l=i.L(),this.U=i.S(),this.Kn=i.S()}};Po(ie,["kickback","radius","cGroup","gravity","bCoef","invMass","damping","acceleration","kickingAcceleration","kickingDamping","kickStrength"],[]);$s.s3=ie});var yn=N((X1,js)=>{var{Nl:ko,O:To}=E(),{ji:an}=D(),{Tt:No,_l:Y,Ul:k}=B(),pn=O(),{kh:Zs,Sh:Ro}=rt(),{se:cn,eh:K,Yr:W,sh:ni,xa:vn,$r:ut,rh:Ft}=pt(),zs=Ws(),ht=ai(),Ao=i=>{var t=0;return i.forEach(n=>{t+=n,t+=t<<10,t^=t>>>6}),t+=t<<3,t=t^t>>>11,t+=t<<15,t|0};function g(){this.N=[],this.G=[],this.X=[],this.Ui=[],this.g=[],this.wi=[],this.st=[],this.rt=[],this.Jt=new zs,this.Ns=255,this.Hn=0,this.Qn=0,this.fe=!0,this.Tn=!1,this.P="",this.Vt=0,this.hn=0,this.Bt=0,this.fn=0,this.on=0,this.ln=0,this.cn=0,this.vn=0,this.ut=0,this.Nn=0}var hi=null;g.q=function(i){var t=i.A();return t==255?(t=new g,t.q(i),t):g.Th()[t]};g.Th=function(){if(hi)return hi;hi=[];var i=new g;return i.Xn("Classic",420,200,370,170,64,75),hi.push(i),i=new g,i.Xn("Easy",420,200,370,170,90,75),hi.push(i),i=new g,i.Xn("Small",420,200,320,130,55,70),hi.push(i),i=new g,i.Xn("Big",600,270,550,240,80,80),hi.push(i),i=new g,i.Xn("Rounded",420,200,370,170,64,75,75),hi.push(i),i=new g,i.$l("Hockey",420,204,398,182,68,120,75,100),hi.push(i),i=new g,i.$l("Big Hockey",600,270,550,240,90,160,75,150),hi.push(i),i=new g,i.Xn("Big Easy",600,270,550,240,95,80),hi.push(i),i=new g,i.Xn("Big Rounded",600,270,550,240,80,75,100),hi.push(i),i=new g,i.Xn("Huge",750,350,700,320,100,80),hi.push(i),hi.forEach((t,n)=>{t.Ns=n}),hi};g.f1=function(i,t){var n=t[i.trait];n&&Object.keys(n).forEach(e=>{i[e]==null&&(i[e]=n[e])})};g.o1=function(i){if(i==63)return["all"];var t=[];return i&2&&t.push("red"),i&4&&t.push("blue"),i&1&&t.push("ball"),i&8&&t.push("redKO"),i&16&&t.push("blueKO"),i&32&&t.push("wall"),i&64&&t.push("kick"),i&128&&t.push("score"),i&268435456&&t.push("c0"),i&536870912&&t.push("c1"),i&1073741824&&t.push("c2"),i&-2147483648&&t.push("c3"),t};g.Rn=function(i){i=k(i,Array);var t=0;return i.forEach(n=>{switch(n){case"ball":t|=1;break;case"red":t|=2;break;case"blue":t|=4;break;case"redKO":t|=8;break;case"blueKO":t|=16;break;case"wall":t|=32;break;case"kick":t|=64;break;case"score":t|=128;break;case"c0":t|=268435456;break;case"c1":t|=536870912;break;case"c2":t|=1073741824;break;case"c3":t|=-2147483648;break;case"all":t|=63;break}}),t};g.dt=function(i,t,n,e){n!=e&&(i[t]=g.o1(n))};g.Ie=function(i,t,n){t!=n&&(t|=0,i.color=t<0?"transparent":Zs(t))};g.Be=function(i){if(i=="transparent")return-1;if(typeof i=="string")return Ro("0x"+i);if(i instanceof Array)return((i[0]|0)<<16)+((i[1]|0)<<8)+(i[2]|0);throw an(pn.ao)};g.Wl=function(i){var t={x:i.c.x,y:i.c.y};return g._(t,"bCoef",i.o,1),g.dt(t,"cMask",i.u,63),g.dt(t,"cGroup",i.l,32),t};g.l1=function(i){var t=new K;t.c.x=k(i.x,Number),t.c.y=k(i.y,Number);var n=i.bCoef;return n!=null&&(t.o=k(n,Number)),n=i.cMask,n!=null&&(t.u=g.Rn(n)),n=i.cGroup,n!=null&&(t.l=g.Rn(n)),t};g.Zl=function(i){var t=new K;t.c.x=k(i.x,Number),t.c.y=k(i.y,Number);var n=i.bCoef;return n!=null&&(t.o=k(n,Number)),n=i.cMask,n!=null&&(t.u=k(n,Y)),n=i.cGroup,n!=null&&(t.l=k(n,Y)),t};g.c1=function(i,t){var n={v0:i.j.n,v1:i.D.n};g._(n,"bias",i.$i,t.$i),g._(n,"bCoef",i.o,t.o);var e=i.Vl();return g._(n,"curve",e,0),e!=0&&(n.curveF=i._i),g._(n,"vis",i.Ci,t.Ci),g.dt(n,"cMask",i.u,t.u),g.dt(n,"cGroup",i.l,t.l),g.Ie(n,i.m,t.m),n};g.v1=function(i,t,n){var[e,s]=i.Nh(t),r={v0:e,v1:s};g._(r,"bias",t.$i,n.$i),g._(r,"bCoef",t.o,n.o);var u=t.Vl();return g._(r,"curve",u,0),u!=0&&(r.curveF=t._i),g._(r,"vis",t.Ci,n.Ci),g.dt(r,"cMask",t.u,n.u),g.dt(r,"cGroup",t.l,n.l),g.Ie(r,t.m,n.m),r};g.a1=function(i,t){var n=new W;n.j=t[k(i.v0,Y)],n.D=t[k(i.v1,Y)];var e=i.bias;return e!=null&&(n.$i=k(e,Number)),e=i.bCoef,e!=null&&(n.o=k(e,Number)),e=i.curveF,e!=null?n._i=k(e,Number):(e=i.curve,e!=null&&n.Qr(k(e,Number))),e=i.vis,e!=null&&(n.Ci=k(e,Boolean)),e=i.cMask,e!=null&&(n.u=g.Rn(e)),e=i.cGroup,e!=null&&(n.l=g.Rn(e)),e=i.color,e!=null&&(n.m=g.Be(e)),n};g.zl=function(i,t){var n=new W;n.j=t[k(i.v0,Y)],n.D=t[k(i.v1,Y)];var e=i.bias;return e!=null&&(n.$i=k(e,Number)),e=i.bCoef,e!=null&&(n.o=k(e,Number)),e=i.curveF,e!=null?n._i=k(e,Number):(e=i.curve,e!=null&&n.Qr(k(e,Number))),e=i.vis,e!=null&&(n.Ci=k(e,Boolean)),e=i.cMask,e!=null&&(n.u=k(e,Y)),e=i.cGroup,e!=null&&(n.l=k(e,Y)),e=i.color,e!=null&&(n.m=k(e,Y)),n};g.p1=function(i){var t=new W;t.j=i.v0,t.D=i.v1;var n=i.bias;return n!=null&&(t.$i=k(n,Number)),n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.curveF,n!=null?t._i=k(n,Number):(n=i.curve,n!=null&&t.Qr(k(n,Number))),n=i.vis,n!=null&&(t.Ci=k(n,Boolean)),n=i.cMask,n!=null&&(t.u=k(n,Y)),n=i.cGroup,n!=null&&(t.l=k(n,Y)),n=i.color,n!=null&&(t.m=k(n,Y)),t};g.jl=function(i){var t={d0:i.zi,d1:i.Zi,length:i.Ri>=i.Ii?i.Ri:[i.Ri,i.Ii]};return g.Ie(t,i.m,0),g._(t,"strength",i.Nt,1/0),t};g.y1=function(i,t){var n=new Ft,e=k(i.d0,Y),s=k(i.d1,Y),r=i.length;if(e<0||e>=t.length||s<0||s>=t.length)throw null;return n.zi=e,n.Zi=s,r==null?(e=t[e],s=t[s],e&&s?n.Ii=n.Ri=Math.sqrt((e.c.x-s.c.x)**2+(e.c.y-s.c.y)**2):n.Ii=n.Ri=100):r instanceof Array?(n.Ri=k(r[0],Number),n.Ii=k(r[1],Number)):n.Ii=n.Ri=k(r,Number),e=i.strength,n.Nt=e==null||e=="rigid"?1/0:k(e,Number),e=i.color,e!=null&&(n.m=g.Be(e)),n};g.Dl=function(i,t){var n=new Ft,e=k(i.d0,Y),s=k(i.d1,Y),r=i.length;if(e<0||e>=t.length||s<0||s>=t.length)throw null;return n.zi=e,n.Zi=s,r==null?(e=t[e],s=t[s],e&&s?n.Ii=n.Ri=Math.sqrt((e.c.x-s.c.x)**2+(e.c.y-s.c.y)**2):n.Ii=n.Ri=100):r instanceof Array?(n.Ri=k(r[0],Number),n.Ii=k(r[1],Number)):n.Ii=n.Ri=k(r,Number),e=i.strength,n.Nt=e==null||e=="rigid"?1/0:k(e,Number),e=i.color,e!=null&&(n.m=k(e,Y)),n};g.w1=function(i){var t=new Ft,n=i.d0,e=i.d1,s=i.length;return t.d0Obj=n,t.d1Obj=e,s==null?n&&e?t.Ii=t.Ri=Math.sqrt((n.c.x-e.c.x)**2+(n.c.y-e.c.y)**2):t.Ii=t.Ri=100:s instanceof Array?(t.Ri=k(s[0],Number),t.Ii=k(s[1],Number)):t.Ii=t.Ri=k(s,Number),n=i.strength,t.Nt=n==null||n=="rigid"?1/0:k(n,Number),n=i.color,n!=null&&(t.m=k(n,Y)),t};g.ic=function(i){var t={normal:[i.Mi.x,i.Mi.y],dist:i.fi};return g._(t,"bCoef",i.o,1),g.dt(t,"cMask",i.u,63),g.dt(t,"cGroup",i.l,32),t};g.q1=function(i){var t=new ni,n=k(i.normal,Array),e=k(n[0],Number),s=k(n[1],Number),r=Math.sqrt(e*e+s*s);return t.Mi.x=e/r,t.Mi.y=s/r,t.fi=k(i.dist,Number),n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.cMask,n!=null&&(t.u=g.Rn(n)),n=i.cGroup,n!=null&&(t.l=g.Rn(n)),t};g.tc=function(i){var t=new ni,n=k(i.normal,Array),e=k(n[0],Number),s=k(n[1],Number),r=Math.sqrt(e*e+s*s);return t.Mi.x=e/r,t.Mi.y=s/r,t.fi=k(i.dist,Number),n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.cMask,n!=null&&(t.u=k(n,Y)),n=i.cGroup,n!=null&&(t.l=k(n,Y)),t};g.nc=function(i){return{p0:[i.ot.x,i.ot.y],p1:[i.lt.x,i.lt.y],team:i.I==ht.Oi?"red":"blue"}};g.Rh=function(i){var t=new vn,n=k(i.p0,Array);switch(t.ot.x=n[0],t.ot.y=n[1],n=k(i.p1,Array),t.lt.x=n[0],t.lt.y=n[1],i.team){case"blue":n=ht.it;break;case"red":n=ht.Oi;break;default:throw an(pn.po)}return t.I=n,t};g.ec=function(i){var t={};return g._(t,"bCoef",i.o,.5),g._(t,"invMass",i.d,.5),g._(t,"damping",i.$,.96),g._(t,"acceleration",i.bn,.1),g._(t,"kickingAcceleration",i.Vn,.07),g._(t,"kickingDamping",i.dn,.96),g._(t,"kickStrength",i.Jn,5),g.dt(t,"cGroup",i.l,0),(i.E.x!=0||i.E.y!=0)&&(t.gravity=[i.E.x,i.E.y]),g._(t,"radius",i.U,15),g._(t,"kickback",i.Kn,0),t};g.m1=function(i){var t=new zs,n;return n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.invMass,n!=null&&(t.d=k(n,Number)),n=i.damping,n!=null&&(t.$=k(n,Number)),n=i.acceleration,n!=null&&(t.bn=k(n,Number)),n=i.kickingAcceleration,n!=null&&(t.Vn=k(n,Number)),n=i.kickingDamping,n!=null&&(t.dn=k(n,Number)),n=i.kickStrength,n!=null&&(t.Jn=k(n,Number)),n=i.gravity,n!=null&&(t.E.x=k(n[0],Number),t.E.y=k(n[1],Number)),n=i.cGroup,n!=null&&(t.l=g.Rn(n)),n=i.radius,n!=null&&(t.U=k(n,Number)),n=i.kickback,n!=null&&(t.Kn=k(n,Number)),t};g.sc=function(i,t){var n={};return(i.c.x!=t.c.x||i.c.y!=t.c.y)&&(n.pos=[i.c.x,i.c.y]),(i.M.x!=t.M.x||i.M.y!=t.M.y)&&(n.speed=[i.M.x,i.M.y]),(i.E.x!=t.E.x||i.E.y!=t.E.y)&&(n.gravity=[i.E.x,i.E.y]),g._(n,"radius",i.U,t.U),g._(n,"bCoef",i.o,t.o),g._(n,"invMass",i.d,t.d),g._(n,"damping",i.$,t.$),g.Ie(n,i.m,t.m),g.dt(n,"cMask",i.u,t.u),g.dt(n,"cGroup",i.l,t.l),n};g.rc=function(i,t){var n;return n=i.pos,n!=null&&(t.c.x=n[0],t.c.y=n[1]),n=i.speed,n!=null&&(t.M.x=n[0],t.M.y=n[1]),n=i.gravity,n!=null&&(t.E.x=n[0],t.E.y=n[1]),n=i.radius,n!=null&&(t.U=k(n,Number)),n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.invMass,n!=null&&(t.d=k(n,Number)),n=i.damping,n!=null&&(t.$=k(n,Number)),n=i.color,n!=null&&(t.m=g.Be(n)),n=i.cMask,n!=null&&(t.u=g.Rn(n)),n=i.cGroup,n!=null&&(t.l=g.Rn(n)),t};g.Ah=function(i,t){var n;return n=i.pos,n!=null&&(t.c.x=n[0],t.c.y=n[1]),n=i.speed,n!=null&&(t.M.x=n[0],t.M.y=n[1]),n=i.gravity,n!=null&&(t.E.x=n[0],t.E.y=n[1]),n=i.radius,n!=null&&(t.U=k(n,Number)),n=i.bCoef,n!=null&&(t.o=k(n,Number)),n=i.invMass,n!=null&&(t.d=k(n,Number)),n=i.damping,n!=null&&(t.$=k(n,Number)),n=i.color,n!=null&&(t.m=k(n,Y)),n=i.cMask,n!=null&&(t.u=k(n,Y)),n=i.cGroup,n!=null&&(t.l=k(n,Y)),t};g._=function(i,t,n,e){n!=e&&(i[t]=n)};g.prototype={Dr:function(){var i=new ut;return i.m=16777215,i.u=63,i.l=193,i.U=10,i.$=.99,i.d=1,i.o=.5,i},w:function(i){i.p(this.Ns),!this.Eh()&&(i.vt(this.P),i.J(this.Bt),i.C(this.on),i.C(this.ln),i.C(this.cn),i.C(this.vn),i.C(this.Nn),i.J(this.fn),i.C(this.Vt),i.C(this.hn),i.C(this.ut),this.Jt.w(i),i.xi(this.Hn),i.p(this.Qn),i.p(this.fe?1:0),i.p(this.Tn?1:0),i.p(this.N.length),this.N.forEach((t,n)=>{t.n=n,t.w(i)}),i.p(this.G.length),this.G.forEach(t=>t.w(i)),i.p(this.X.length),this.X.forEach(t=>t.w(i)),i.p(this.Ui.length),this.Ui.forEach(t=>t.w(i)),i.p(this.g.length),this.g.forEach(t=>t.w(i)),i.p(this.wi.length),this.wi.forEach(t=>t.w(i)),i.p(this.st.length),this.st.forEach(t=>{i.C(t.x),i.C(t.y)}),i.p(this.rt.length),this.rt.forEach(t=>{i.C(t.x),i.C(t.y)}))},q:function(i){function t(e,s=!1,r=void 0){for(var u=[],f=i.A(),l=0;l<f;l++){var c=new e;c.q(i,r),s&&(c.n=l),u.push(c)}return u}function n(){for(var e=[],s=i.A(),r=0;r<s;r++)e.push(new cn(i.S(),i.S()));return e}this.P=i.ct(),this.Bt=i.L(),this.on=i.S(),this.ln=i.S(),this.cn=i.S(),this.vn=i.S(),this.Nn=i.S(),this.fn=i.L(),this.Vt=i.S(),this.hn=i.S(),this.ut=i.S(),this.Jt.q(i),this.Hn=i.di(),this.Qn=i.A(),this.fe=i.A()!=0,this.Tn=i.A()!=0,this.N=t(K,!0),this.G=t(W,!1,this.N),this.X=t(ni),this.Ui=t(vn),this.g=t(ut),this.wi=t(Ft),this.st=n(),this.rt=n(),this.Kt()},Kt:function(){this.G.forEach(i=>i.Kt())},Eh:function(){return this.Ns!=255},Fe:function(i,t,n){return i=i[t],i!=null?k(i,Number):n},C1:function(i,t,n){return i=i[t],i!=null?k(i,Boolean):n},g1:function(){return JSON.stringify(this.P1())},P1:function(){var i={name:this.P,width:this.Vt,height:this.hn,ballPhysics:"disc0"},t,n;switch(i.vertexes=n=[],this.N.forEach((e,s)=>{e.n=s,n.push(g.Wl(e))}),i.segments=n=[],t=new W,this.G.forEach(e=>n.push(g.c1(e,t))),i.planes=n=[],this.X.forEach(e=>n.push(g.ic(e))),i.goals=n=[],this.Ui.forEach(e=>n.push(g.nc(e))),i.playerPhysics=g.ec(this.Jt),t=new ut,i.discs=n=[],this.g.forEach(e=>n.push(g.sc(e,t))),g._(i,"maxViewWidth",this.Hn,0),g._(i,"cameraFollow",this.Qn==1?"player":"",""),g._(i,"spawnDistance",this.ut,200),this.wi.length>0&&(i.joints=n=[],this.wi.forEach(e=>n.push(g.jl(e)))),this.st.length>0&&(i.redSpawnPoints=n=[],this.st.forEach(e=>n.push([e.x,e.y]))),this.rt.length>0&&(i.blueSpawnPoints=n=[],this.rt.forEach(e=>n.push([e.x,e.y]))),g._(i,"kickOffReset",this.Tn?"full":"partial","partial"),this.Bt){case 1:t="grass";break;case 2:t="hockey";break;default:t="none"}return i.bg=n={},g._(n,"type",t,"none"),g._(n,"width",this.on,0),g._(n,"height",this.ln,0),g._(n,"kickOffRadius",this.cn,0),g._(n,"cornerRadius",this.vn,0),g.Ie(n,this.fn,7441498),g._(n,"goalLine",this.Nn,0),i},S1:function(n){var t=this,n=ko.parse(n);this.N=[],this.G=[],this.X=[],this.Ui=[],this.g=[],this.wi=[],this.P=k(n.name,String),this.Vt=k(n.width,Number),this.hn=k(n.height,Number),this.Hn=this.Fe(n,"maxViewWidth",0)|0,n.cameraFollow=="player"&&(this.Qn=1),this.ut=200;var e=n.spawnDistance;e!=null&&(this.ut=k(e,Number)),e=n.bg;var s=0;switch(e.type){case"grass":s=1;break;case"hockey":s=2;break}this.Bt=s,this.on=this.Fe(e,"width",0),this.ln=this.Fe(e,"height",0),this.cn=this.Fe(e,"kickOffRadius",0),this.vn=this.Fe(e,"cornerRadius",0),this.fn=7441498,e.color!=null&&(this.fn=g.Be(e.color)),this.Nn=this.Fe(e,"goalLine",0),this.fe=this.C1(n,"canBeStored",!0),this.Tn=n.kickOffReset=="full";var r=n.traits||{};function u(l){return new cn(k(l[0],Number),k(l[1],Number))}function f(l,c,o,p=!1){var q=n[c];p&&q==null||(q=k(q,Array),q?.forEach(S=>{try{g.f1(S,r),l.push(o(S))}catch{throw an(pn.io,c,l.length)}}))}if(s=n.ballPhysics,s!="disc0"&&(s==null?this.g.push(this.Dr()):(s=g.rc(s,this.Dr()),s.l|=192,this.g.push(s))),f(this.N,"vertexes",g.l1),f(this.G,"segments",l=>g.a1(l,t.N)),f(this.Ui,"goals",g.Rh),f(this.g,"discs",l=>g.rc(l,new ut)),f(this.X,"planes",g.q1),f(this.wi,"joints",l=>g.y1(l,t.g),!0),f(this.st,"redSpawnPoints",u,!0),f(this.rt,"blueSpawnPoints",u,!0),s=n.playerPhysics,s!=null&&(this.Jt=g.m1(s)),this.N.length>255||this.G.length>255||this.X.length>255||this.Ui.length>255||this.g.length<1||this.g.length>255)throw an(pn.yo);this.Kt()},calculateHash:function(){var i=No.t(1024);return this.w(i),Ao(i.Vi())},calculateChecksum:function(){return this.Eh()?null:Zs(this.calculateHash(),8)},Xn:function(i,t,n,e,s,r,u,f=0){this.P=i,this.g.push(this.Dr()),this.Vt=t,this.hn=n,this.Bt=1,this.fn=7441498,this.on=e,this.ln=s,this.cn=u,this.vn=f,this.ut=.75*e,this.ut>400&&(this.ut=400),this.X.push(new ni({at:0,pt:1,fi:-n,o:0})),this.X.push(new ni({at:0,pt:-1,fi:-n,o:0})),this.X.push(new ni({at:1,pt:0,fi:-t,o:0})),this.X.push(new ni({at:-1,pt:0,fi:-t,o:0})),this.iu(e,1,r,13421823,ht.it),this.iu(-e,-1,r,16764108,ht.Oi),this.uc(u,n),this.X.push(new ni({at:0,pt:1,fi:-s,u:1})),this.X.push(new ni({at:0,pt:-1,fi:-s,u:1}));var l=new K({qi:-e,mi:-s,u:0}),c=new K({qi:e,mi:-s,u:0}),o=new K({qi:e,mi:-r,u:0}),p=new K({qi:e,mi:r,u:0}),q=new K({qi:e,mi:s,u:0}),S=new K({qi:-e,mi:s,u:0}),m=new K({qi:-e,mi:r,u:0}),P=new K({qi:-e,mi:-r,u:0});this.N.push(l),this.N.push(c),this.N.push(o),this.N.push(p),this.N.push(q),this.N.push(S),this.N.push(m),this.N.push(P),this.G.push(new W({j:c,D:o,u:1,Ci:!1})),this.G.push(new W({j:p,D:q,u:1,Ci:!1})),this.G.push(new W({j:S,D:m,u:1,Ci:!1})),this.G.push(new W({j:P,D:l,u:1,Ci:!1})),this.hc(e,s,f),this.Kt()},$l:function(i,t,n,e,s,r,u,f,l){this.P=i,this.g.push(this.Dr()),this.Vt=t,this.hn=n,this.Bt=2,this.on=e,this.ln=s,this.cn=f,this.vn=l,this.Nn=u,this.ut=.75*(e-u),this.ut>400&&(this.ut=400),this.X.push(new ni({at:0,pt:1,fi:-n,o:0})),this.X.push(new ni({at:0,pt:-1,fi:-n,o:0})),this.X.push(new ni({at:1,pt:0,fi:-t,o:0})),this.X.push(new ni({at:-1,pt:0,fi:-t,o:0})),this.iu(e-u,1,r,13421823,ht.it,63),this.iu(-e+u,-1,r,16764108,ht.Oi,63),this.uc(f,n),this.X.push(new ni({at:0,pt:1,fi:-s,u:1})),this.X.push(new ni({at:0,pt:-1,fi:-s,u:1})),this.X.push(new ni({at:1,pt:0,fi:-e,u:1})),this.X.push(new ni({at:-1,pt:0,fi:-e,u:1})),this.hc(e,s,l),this.Kt()},iu:function(i,t,n,e,s,r=1,u=32){var f=new K({qi:i+8*t,mi:-n,u:r,l:u,o:.1}),l=new K({qi:i+8*t,mi:n,u:r,l:u,o:.1}),c=new K({qi:i+30*t,mi:22-n,u:r,l:u,o:.1}),o=new K({qi:i+30*t,mi:n-22,u:r,l:u,o:.1});this.N.push(f),this.N.push(l),this.N.push(c),this.N.push(o),this.G.push(new W({j:f,D:c,u:r,l:u,o:.1,mn:90*t})),this.G.push(new W({j:o,D:c,u:r,l:u,o:.1})),this.G.push(new W({j:o,D:l,u:r,l:u,o:.1,mn:90*t})),this.g.push(new ut({qi:i,mi:-n,d:0,U:8,m:e})),this.g.push(new ut({qi:i,mi:n,d:0,U:8,m:e})),this.Ui.push(new vn({Ma:i,Oa:-n,Ia:i,Ba:n,I:s}))},uc:function(i,t){var n=new K({qi:0,mi:-t,o:.1,l:24,u:6}),e=new K({qi:0,mi:-i,o:.1,l:24,u:6}),s=new K({qi:0,mi:i,o:.1,l:24,u:6}),r=new K({qi:0,mi:t,o:.1,l:24,u:6});this.N.push(n),this.N.push(e),this.N.push(s),this.N.push(r),this.G.push(new W({j:n,D:e,o:.1,l:24,u:6,Ci:!1})),this.G.push(new W({j:s,D:r,o:.1,l:24,u:6,Ci:!1})),this.G.push(new W({j:e,D:s,o:.1,l:8,u:6,Ci:!1,mn:180})),this.G.push(new W({j:s,D:e,o:.1,l:16,u:6,Ci:!1,mn:180}))},hc:function(i,t,n){if(!(n<=0)){var e=new K({qi:-i+n,mi:-t,u:0}),s=new K({qi:-i,mi:-t+n,u:0}),r=new K({qi:-i+n,mi:t,u:0}),u=new K({qi:-i,mi:t-n,u:0}),f=new K({qi:i-n,mi:t,u:0}),l=new K({qi:i,mi:t-n,u:0}),c=new K({qi:i-n,mi:-t,u:0}),o=new K({qi:i,mi:-t+n,u:0});this.N.push(e),this.N.push(s),this.N.push(r),this.N.push(u),this.N.push(f),this.N.push(l),this.N.push(c),this.N.push(o),this.G.push(new W({j:e,D:s,o:1,u:1,Ci:!1,mn:-90})),this.G.push(new W({j:r,D:u,o:1,u:1,Ci:!1,mn:90})),this.G.push(new W({j:f,D:l,o:1,u:1,Ci:!1,mn:-90})),this.G.push(new W({j:c,D:o,o:1,u:1,Ci:!1,mn:90}))}},copy:function(){var i=new g,t=this;i.Ns=t.Ns,i.P=t.P,i.Bt=t.Bt,i.on=t.on,i.ln=t.ln,i.cn=t.cn,i.vn=t.vn,i.Nn=t.Nn,i.fn=t.fn,i.Vt=t.Vt,i.hn=t.hn,i.ut=t.ut;var n=i.Jt,e=t.Jt;return n.o=e.o,n.d=e.d,n.$=e.$,n.bn=e.bn,n.Vn=e.Vn,n.dn=e.dn,n.Jn=e.Jn,n.E.x=e.E.x,n.E.y=e.E.y,n.l=e.l,n.U=e.U,n.Kn=e.Kn,i.Hn=t.Hn,i.Qn=t.Qn,i.fe=t.fe,i.Tn=t.Tn,i.N=t.N.map((s,r)=>{var u=new K;return u.c.x=s.c.x,u.c.y=s.c.y,u.o=s.o,u.u=s.u,u.l=s.l,u.n=r,u}),i.G=t.G.map(s=>{var r=new W,u=s.j,f=s.D,l=-1,c=-1;return t.N.forEach((o,p)=>{o==u?l=p:o==f&&(c=p)}),r.j=i.N[l],r.D=i.N[c],r.$i=s.$i,r._i=s._i,r.m=s.m,r.Ci=s.Ci,r.o=s.o,r.u=s.u,r.l=s.l,r}),i.X=t.X.map(s=>{var r=new ni;return r.Mi.x=s.Mi.x,r.Mi.y=s.Mi.y,r.fi=s.fi,r.o=s.o,r.u=s.u,r.l=s.l,r}),i.Ui=t.Ui.map(s=>{var r=new vn;return r.ot.x=s.ot.x,r.ot.y=s.ot.y,r.lt.x=s.lt.x,r.lt.y=s.lt.y,r.I=s.I,r}),i.g=t.g.map(s=>{var r=new ut;return r.c.x=s.c.x,r.c.y=s.c.y,r.M.x=s.M.x,r.M.y=s.M.y,r.E.x=s.E.x,r.E.y=s.E.y,r.U=s.U,r.o=s.o,r.d=s.d,r.$=s.$,r.m=s.m,r.u=s.u,r.l=s.l,r}),i.wi=t.wi.map(s=>{var r=new Ft;return r.zi=s.zi,r.Zi=s.Zi,r.Ri=s.Ri,r.Ii=s.Ii,r.Nt=s.Nt,r.m=s.m,r}),i.st=t.st.map(s=>new cn(s.x,s.y)),i.rt=t.rt.map(s=>new cn(s.x,s.y)),i.Kt(),i}};Object.defineProperty(g.prototype,"isCustom",{get:function(){return!this.Eh()}});To(g,["vertices","segments","planes","goals","discs","joints","redSpawnPoints","blueSpawnPoints","playerPhysics","defaultStadiumId","maxViewWidth","cameraFollow","canBeStored","fullKickOffReset","name","width","height","bgType","bgColor","bgWidth","bgHeight","bgKickOffRadius","bgCornerRadius","spawnDistance","bgGoalLine"],[]);js.s3=g});var nr=N((Y1,tr)=>{var{Un:Ds,O:Eo}=E(),{ni:ir,Pi:Mo}=L(),Oo=O(),Io=yn(),{tn:Bo,Tt:Fo,ii:Go}=B();function Fi(){this.V=0,this.T=null,this.s=0}Fi.t=function(i){var t=new Fi;return t.T=i,t};Fi.prototype=Go(ir.prototype,{b:function(i){i.Ot(this.s,8)&&i.k1(this.T,this.s)},w:function(i){var t=Fo.t();this.T.w(t);var n=Ds.deflateRaw(t.Vi());i.xi(n.byteLength),i.Di(n)},q:function(i){var t=Ds.inflateRaw(i.bi(i.di()));this.T=Io.q(new Bo(new DataView(t.buffer,t.byteOffset,t.byteLength)))},copy:function(){return Mo(Fi.t(this.T?.copy()),this)},ei:Fi});Object.defineProperty(Fi.prototype,"eventType",{get(){return Oo.zo}});Fi.Z={ai:!1,ci:!1,ph:{yh:10,wh:2e3}};ir.gi(Fi);Eo(Fi,[null,"stadium","byId"],[]);tr.s3=Fi});var ur=N(($1,rr)=>{var{O:Lo}=E(),{ni:sr,Pi:_o}=L(),Uo=O(),{ii:Jo}=B(),er=ai();function Gi(){this.V=0,this.K=0,this.I=null,this.s=0}Gi.t=function(i,t){var n=new Gi;return n.K=i,n.I=t,n};Gi.prototype=Jo(sr.prototype,{b:function(i){!i.Ot(this.s,1)&&(this.K!=this.s||i.An||i.f!=null)||i.oe(i.z(this.K),this.I,this.s)},w:function(i){i.J(this.K),i.p(this.I.n)},q:function(i){this.K=i.L(),this.I=er.s[i.os()]||er.Yi},copy:function(){return _o(Gi.t(this.K,this.I),this)},ei:Gi});Object.defineProperty(Gi.prototype,"eventType",{get(){return Uo.jo}});Gi.Z={ai:!1,ci:!1};sr.gi(Gi);Lo(Gi,[null,"playerId","team","byId"],[]);rr.s3=Gi});var or=N((W1,fr)=>{var{O:Ko}=E(),{ni:hr,Pi:Vo}=L(),bo=O(),{ii:xo}=B();function Li(){this.V=0,this.It=0,this.s=0}Li.t=function(i){var t=new Li;return t.It=i,t};Li.prototype=xo(hr.prototype,{b:function(i){i.Ot(this.s,2)&&i.T1(this.It,this.s)},w:function(i){i.p(this.It?1:0)},q:function(i){this.It=i.A()!=0},copy:function(){return Vo(Li.t(this.It),this)},ei:Li});Object.defineProperty(Li.prototype,"eventType",{get(){return bo.Do}});Li.Z={ai:!1,ci:!1};hr.gi(Li);Ko(Li,[null,"newValue","byId"],[]);fr.s3=Li});var vr=N((Z1,cr)=>{var{O:Ho}=E(),{ni:lr,Pi:Qo}=L(),Xo=O(),{ii:Yo}=B();function _i(){this.V=0,this.K=0,this.value=0,this.s=0}_i.t=function(i,t){var n=new _i;return n.K=i,n.value=t,n};_i.prototype=Yo(lr.prototype,{b:function(i){i.Ot(this.s,4)&&i.N1(i.z(this.K),this.value,this.s)},w:function(i){i.J(this.K),i.p(this.value?1:0)},q:function(i){this.K=i.L(),this.value=i.A()!=0},copy:function(){return Qo(_i.t(this.K,this.value),this)},ei:_i});Object.defineProperty(_i.prototype,"eventType",{get(){return Xo.il}});_i.Z={ai:!1,ci:!1};lr.gi(_i);Ho(_i,[null,"playerId","value","byId"],[]);cr.s3=_i});var yr=N((z1,pr)=>{var{O:$o}=E(),{ni:ar,Pi:Wo}=L(),Zo=O(),{ii:zo}=B();function Ui(){this.V=0,this.s=0}Ui.t=function(){return new Ui};Ui.prototype=zo(ar.prototype,{b:function(i){i.Ot(this.s,1)&&i.R1(this.s)},w:function(){},q:function(){},copy:function(){return Wo(Ui.t(),this)},ei:Ui});Object.defineProperty(Ui.prototype,"eventType",{get(){return Zo.tl}});Ui.Z={ai:!1,ci:!1};ar.gi(Ui);$o(Ui,[null,"byId"],[]);pr.s3=Ui});var mr=N((j1,qr)=>{var{O:jo}=E(),{ni:wr,Pi:Do}=L(),il=O(),{ii:tl}=B();function Ji(){this.V=0,this.value=!1,this.s=0}Ji.t=function(i){var t=new Ji;return t.value=i,t};Ji.prototype=tl(wr.prototype,{b:function(i){i.A1(i.z(this.s),this.value)},w:function(i){i.p(this.value?1:0)},q:function(i){this.value=i.A()!=0},copy:function(){return Do(Ji.t(this.value),this)},ei:Ji});Object.defineProperty(Ji.prototype,"eventType",{get(){return il.nl}});Ji.Z={ai:!1,ci:!1};wr.gi(Ji);jo(Ji,[null,"value","byId"],[]);qr.s3=Ji});var Pr=N((D1,gr)=>{var{O:nl}=E(),{ni:Cr,Pi:el}=L(),sl=O(),{ii:rl}=B();function Ki(){this.V=0,this.xt=null,this.s=0}Ki.t=function(i){var t=new Ki,n=[];return i.i.F.forEach(e=>{var s=i.le.get(e.n);n.push(s?s.Me:i.i.E1?.())}),t.xt=n,t};Ki.prototype=rl(Cr.prototype,{b:function(i){this.s==0&&i.M1(this.xt)},w:function(i){i.Gi(this.xt.length),this.xt.forEach(t=>i.Gi(t))},q:function(i){var t=i.Ki();this.xt=[];for(var n=0;n<t;n++)this.xt.push(i.Ki())},copy:function(){var i=new Ki;return i.xt=[],this.xt.forEach(t=>i.xt.push(t)),el(i,this)},ei:Ki});Object.defineProperty(Ki.prototype,"eventType",{get(){return sl.el}});Ki.Z={ai:!1,ci:!1};Cr.gi(Ki);nl(Ki,[null,"pings","byId"],[]);gr.s3=Ki});var Tr=N((ip,kr)=>{var{O:ul}=E(),{ni:Sr,Pi:hl}=L(),fl=O(),{ii:ol}=B();function Vi(){this.V=0,this.value=null,this.s=0}Vi.t=function(i){var t=new Vi;return t.value=i,t};Vi.prototype=ol(Sr.prototype,{b:function(i){i.O1(this.s,this.value)},w:function(i){i.vt(this.value)},q:function(i){this.value=i.ct(),this.value&&(this.value=this.value.substring(0,2))},copy:function(){return hl(Vi.t(this.value),this)},ei:Vi});Object.defineProperty(Vi.prototype,"eventType",{get(){return fl.sl}});Vi.Z={ai:!1,ci:!1};Sr.gi(Vi);ul(Vi,[null,"value","byId"],[]);kr.s3=Vi});var qn=N((tp,Nr)=>{var{O:ll}=E(),cl=O(),{ji:vl}=D();function wn(){this.Rs=0,this.Et=16777215,this.Ht=[]}wn.prototype={w:function(i){i.p(this.Rs),i.J(this.Et),i.p(this.Ht.length),this.Ht.forEach(t=>{i.J(t)})},q:function(i){this.Rs=i.A(),this.Et=i.L();var t=i.A();if(t>3)throw vl(cl.so);this.Ht=[];for(var n=0;n<t;n++)this.Ht.push(i.L())},copy:function(){var i=new wn;return i.Rs=this.Rs,i.Et=this.Et,i.Ht=this.Ht.slice(),i}};ll(wn,["angle","text","inner"],[]);Nr.s3=wn});var Or=N((np,Mr)=>{var{O:al}=E(),{ni:Rr,Pi:pl}=L(),{ji:yl}=D(),Ar=O(),{ii:wl}=B(),{Sh:te}=rt(),ne=ai(),Er=qn();function wi(){this.V=0,this.I=null,this.Ge=null,this.s=0}wi.t=function(i,t){var n=new wi;return n.I=i,n.Ge=t,n};wi.Mh=function(i,t,...n){var e=new Er,s=ne.s[i];if(!s)throw yl(Ar.Po);e.Ht=[s.m];var r=wi.t(s,e),u=n.length;if(u<1)return r;if(e.Rs=256*te(t)/360|0,e.Et=te("0x"+n[0]),u>1){u>4&&(u=4),e.Ht=[];for(var f=1;f<u;f++)e.Ht.push(te("0x"+n[f]))}return r};wi.prototype=wl(Rr.prototype,{b:function(i){i.Ot(this.s,2)&&i.I1(this.I.n,this.Ge,this.s)},w:function(i){i.p(this.I.n),this.Ge.w(i)},q:function(i){this.I=ne.s[i.os()]||ne.Yi,this.Ge=new Er,this.Ge.q(i)},copy:function(){return pl(wi.t(this.I,this.Ge?.copy()),this)},ei:wi});Object.defineProperty(wi.prototype,"eventType",{get(){return Ar.rl}});wi.Z={ai:!1,ci:!1};Rr.gi(wi);al(wi,[null,"team","colors","byId"],[]);Mr.s3=wi});var Fr=N((ep,Br)=>{var{O:ql}=E(),{ni:Ir,Pi:ml}=L(),Cl=O(),{ii:gl}=B();function bi(){this.V=0,this.En=null,this.Le=!0,this.s=0}bi.t=function(i,t){var n=new bi,e=new Set;i.forEach(u=>e.add(u)),i=[],e=e.values();for(var s=e.next(),r=0;!s.done&&r<40;r++)i.push(s.value),s=e.next();return n.En=i,n.Le=t,n};bi.prototype=gl(Ir.prototype,{b:function(i){this.s==0&&i.B1(this.En,this.Le)},w:function(i){i.p(this.Le?1:0),i.p(this.En.length),this.En.forEach(t=>i.J(t))},q:function(i){this.En=[],this.Le=i.A()!=0;for(var t=i.A(),n=0;n<t;n++)this.En.push(i.L())},copy:function(){var i=new bi;return i.Le=this.Le,i.En=[],this.En.forEach(t=>i.En.push(t)),ml(i,this)},ei:bi});Object.defineProperty(bi.prototype,"eventType",{get(){return Cl.ul}});bi.Z={ai:!1,ci:!1};Ir.gi(bi);ql(bi,[null,"playerIdList","moveToTop","byId"],[]);Br.s3=bi});var _r=N((sp,Lr)=>{var{O:Pl}=E(),{ni:Gr,Pi:Sl}=L(),kl=O(),{ii:Tl}=B();function di(){this.V=0,this.As=0,this.Es=0,this.Ms=0,this.s=0}di.t=function(i,t,n){var e=new di;return e.As=i,e.Es=t,e.Ms=n,e};di.prototype=Tl(Gr.prototype,{b:function(i){i.Ot(this.s,2)&&i.F1(this.As,this.Es,this.Ms,i.z(this.s))},w:function(i){i.J(this.As),i.J(this.Es),i.J(this.Ms)},q:function(i){this.As=i.L(),this.Es=i.L(),this.Ms=i.L()},copy:function(){return Sl(di.t(this.As,this.Es,this.Ms),this)},ei:di});Object.defineProperty(di.prototype,"eventType",{get(){return kl.hl}});di.Z={ai:!1,ci:!1};Gr.gi(di);Pl(di,[null,"min","rate","burst","byId"],[]);Lr.s3=di});var Kr=N((rp,Jr)=>{var{O:Nl}=E(),{ni:Ur,Pi:Rl}=L(),Al=O(),{ii:El}=B();function xi(){this.V=0,this.ki="",this.K=0,this.s=0}xi.t=function(i,t){var n=new xi;return n.ki=t?.substring(0,2),n.K=i,n};xi.prototype=El(Ur.prototype,{b:function(i){this.s==0&&i.G1(this.K,this.ki)},w:function(i){i.vt(this.ki),i.J(this.K)},q:function(i){this.ki=i.ct(),this.K=i.L(),this.ki=this.ki?.substring(0,2)},copy:function(){return Rl(xi.t(this.K,this.ki),this)},ei:xi});Object.defineProperty(xi.prototype,"eventType",{get(){return Al.fl}});xi.Z={ai:!1,ci:!1};Ur.gi(xi);Nl(xi,[null,"avatar","playerId","byId"],[]);Jr.s3=xi});var dr=N((up,br)=>{var{O:Ml}=E(),{ni:Vr,Pi:Ol}=L(),Il=O(),{ii:Bl}=B();function Hi(){this.V=0,this.n=0,this.W=!1,this.Qt=null,this.Xt=null,this.s=0}Hi.t=function(i,t,n){var e=new Hi;return e.n=i,e.W=t,e.Qt=[n.x,n.y,n.xspeed,n.yspeed,n.xgravity,n.ygravity,n.radius,n.bCoeff,n.invMass,n.damping],e.Xt=[n.color,n.cMask,n.cGroup],e.Qt.forEach((s,r)=>{s!=null&&(e.Qt[r]=Math.fround(s))}),e.Xt.forEach((s,r)=>{s!=null&&(e.Xt[r]=s|0)}),e};Hi.prototype=Bl(Vr.prototype,{b:function(i){this.s==0&&i.L1(this.W,this.n,this.Qt,this.Xt)},w:function(i){i.J(this.n),i.p(this.W?1:0);var t=i.v,n=0,e=1;i.xi(0),this.Qt.forEach(s=>{s!=null&&(n|=e,i.ih(s)),e<<=1}),this.Xt.forEach(s=>{s!=null&&(n|=e,i.J(s)),e<<=1}),e=i.v,i.v=t,i.xi(n),i.v=e},q:function(i){this.n=i.L(),this.W=i.A()!=0;var t=i.di(),n;for(this.Qt=[],n=0;n<10;n++)this.Qt[n]=null,t&1&&(this.Qt[n]=i.ju()),t>>>=1;for(this.Xt=[],n=0;n<3;n++)this.Xt[n]=null,t&1&&(this.Xt[n]=i.L()),t>>>=1},copy:function(){var i=new Hi;return i.n=this.n,i.W=this.W,i.Qt=[],i.Xt=[],this.Qt.forEach(t=>i.Qt.push(t)),this.Xt.forEach(t=>i.Xt.push(t)),Ol(i,this)},ei:Hi});Object.defineProperty(Hi.prototype,"eventType",{get(){return Il.ol}});Hi.Z={ai:!1,ci:!1};Vr.gi(Hi);Ml(Hi,[null,"id","type","data1","data2","byId"],[]);br.s3=Hi});var Qr=N((hp,Hr)=>{var{O:Fl}=E(),{ni:xr,Pi:Gl}=L(),Ll=O(),{ii:_l}=B();function Qi(){this.V=0,this.W=0,this.vi=null,this.s=0}Qi.t=function(i,t){var n=new Qi;return n.W=i,n.vi=t,n};Qi.prototype=_l(xr.prototype,{b:function(i){i._1(this.W,this.vi,this.s)},w:function(i){i.Ti(this.W),i.Ct(JSON.stringify(this.vi))},q:function(i){this.W=i.oi(),this.vi=JSON.parse(i.mt())},copy:function(){return Gl(Qi.t(this.W,JSON.parse(JSON.stringify(this.vi))),this)},ei:Qi});Object.defineProperty(Qi.prototype,"eventType",{get(){return Ll.ll}});Qi.Z={ai:!1,ci:!1};xr.gi(Qi);Fl(Qi,[null,"type","data","byId"],[]);Hr.s3=Qi});var Wr=N((fp,$r)=>{var{Un:Xr,O:Ul}=E(),{ni:Yr,Pi:Jl}=L(),Kl=O(),{tn:Vl,Tt:bl,ii:dl}=B();function Xi(){this.V=0,this.W=0,this.vi=null,this.s=0}Xi.t=function(i,t){var n=new Xi;return n.W=i,n.vi=t,n};Xi.prototype=dl(Yr.prototype,{b:function(i){i.U1(this.W,this.vi,this.s)},w:function(i){var t=bl.t();t.Ti(this.W),t.Di(this.vi);var n=Xr.deflateRaw(t.Vi());i.Ti(n.byteLength),i.Di(n)},q:function(i){var t=Xr.inflateRaw(i.bi(i.oi()));i=new Vl(new DataView(t.buffer,t.byteOffset,t.byteLength)),this.W=i.oi(),this.vi=i.bi()},copy:function(){var i=new Uint8Array;return i.set(this.vi),Jl(Xi.t(this.W,i),this)},ei:Xi});Object.defineProperty(Xi.prototype,"eventType",{get(){return Kl.cl}});Xi.Z={ai:!1,ci:!1};Yr.gi(Xi);Ul(Xi,[null,"type","data","byId"],[]);$r.s3=Xi});var jr=N((op,zr)=>{var{O:xl}=E(),{ni:Zr,Pi:Hl}=L(),Ql=O(),{ii:Xl}=B();function Yi(){this.V=0,this.n=0,this.vi=null,this.s=0}Yi.t=function(i,t){var n=new Yi;return n.n=i,n.vi=t,n};Yi.prototype=Xl(Zr.prototype,{b:function(i){this.s==0&&i.Oh(this.n,this.vi,this.s)},w:function(i){i.Ti(this.n),i.Ct(JSON.stringify(this.vi))},q:function(i){this.n=i.oi(),this.vi=JSON.parse(i.mt())},copy:function(){return Hl(Yi.t(this.n,JSON.parse(JSON.stringify(this.vi))),this)},ei:Yi});Object.defineProperty(Yi.prototype,"eventType",{get(){return Ql.vl}});Yi.Z={ai:!1,ci:!1};Zr.gi(Yi);xl(Yi,[null,"id","data","byId"],[]);zr.s3=Yi});var et=N((lp,mn)=>{mn.s3=mn.J1||(mn.J1={Ih:ps(),Os:qs(),fc:gs(),tu:ks(),Bh:As(),Is:Is(),Bs:Ls(),nu:Js(),eu:bs(),su:Hs(),ru:Ys(),Fs:nr(),Gs:ur(),uu:or(),Fh:vr(),hu:yr(),fu:mr(),Gh:Pr(),Lh:Tr(),_h:Or(),oc:Fr(),Uh:_r(),Jh:Kr(),Kh:dr(),ou:Qr(),lu:Wr(),cu:jr()})});var tu=N((cp,iu)=>{var{O:Yl}=E(),{se:$l,hh:Dr,uh:Wl}=pt(),oi=ai();function Zi(){this.yt=-1,this.ti=null,this.ft=0,this.an=0,this.Ft=0,this.Gt=0,this.Yn=oi.Oi,this.i=0,this.Lt=0,this.a=new Dr,this.Bi=0,this.Li=5,this.T=null,this.li=null}var se=[],re=[];for(ee=0;ee<256;ee++)se.push(new $l(0,0)),re.push(0);var ee;Zi.Cn=function(i,t,n){i.li=t.li.gt(n),i.Li=t.Li,i.Bi=t.Bi,i.a=t.a.gt(n),i.Lt=t.Lt,i.i=t.i,i.Gt=t.Gt,i.Ft=t.Ft,i.an=t.an,i.ft=t.ft,i.T=t.T,i.Yn=t.Yn};Zi.prototype={K1:function(i){this.li=i,this.Li=i.Li,this.Bi=i.Bi,this.T=i.T,this.a=Dr.ba(i.T),this.lc()},cc:function(i){i.I==oi.Yi?this.a.Hl(i,this.li.$n):this.a.Va(i,this.T,this.li.Ls)},V1:function(i,t){return this.T.Ui.find(n=>n.Fa(i,t))?.I||oi.Yi},Hi:function(i){var t=this;if(t.ft>0)t.ft<120&&t.ft--;else{t.li._s?.();var n=t.T.Jt,e=t.li.F;e.forEach(u=>{var{H:f}=u;if(f){if(u.Ni&16||(u.Rt=!1),u.sn>0&&u.sn--,u.rn<t.li.Wn&&u.rn++,u.Rt&&u.sn<=0&&u.rn>=0){var l=!1;t.a.g.forEach(c=>{c!=f&&c.l&64&&t.a.Ja(f,c,n)&&(l=!0)}),l&&(t.li.Us?.(u),u.Rt=!1,u.sn=t.li.Mn,u.rn-=t.li.pn)}t.a.Ka(u,n)}});var s=0;switch(t.a.g.forEach((u,f)=>{u.l&128&&(re[s]=f,f=se[s],f.x=u.c.x,f.y=u.c.y,s++)}),t.a.Xi(i,t.li),t.i){case 0:{e.forEach(u=>{u.H&&(u.H.u=39|t.Yn.u)}),t.a.g[0].La()&&(t.i=1,t.li.Js?.());break}case 1:{t.an+=.016666666666666666,e.forEach(u=>{u.H&&(u.H.u=39)});var r=oi.Yi;for(e=t.a.g,i=0;i<s&&r==oi.Yi;i++)r=t.V1(e[re[i]].c,se[i]);r!=oi.Yi?(t.i=2,t.Lt=150,t.Yn=r,r==oi.Oi?t.Ft++:t.Gt++,t.li.Ks?.(r==oi.Oi?oi.it:oi.Oi),t.li.b1?.(r.n)):t.Bi>0&&t.an>=60*t.Bi&&t.Gt!=t.Ft&&(t.li.Vs?.(),t.vc());break}case 2:{t.Lt--,t.Lt<=0&&(t.Li>0&&(t.Gt>=t.Li||t.Ft>=t.Li)||t.Bi>0&&t.an>=60*t.Bi&&t.Gt!=t.Ft?t.vc():(t.lc(),t.li.bs?.()));break}case 3:{t.Lt--,t.Lt<=0&&t.li.f!=null&&(t.li.f=null,t.li.F.forEach(u=>{u.H&&t.li.$n?.(u),u.H=null,u.Mt=0}),t.li._e?.(null));break}}}},vc:function(){this.Lt=300,this.i=3,this.li.ds?.(this.Gt>this.Ft?oi.Oi:oi.it)},lc:function(){var i=this,{g:t,Tn:n,st:e,rt:s,ut:r}=i.T,u=i.a.g,f=n?t.length:1;i.i=0;for(var l=0;l<f;l++)t[l].dl(u[l]);var c=[0,0,0];i.li.F.forEach(o=>{i.cc(o);var{n:p,Jl:q}=o.I;if(p!=0){var{c:S}=o.H,m=c[p],P=p==1?e:s;P.length==0?(l=m+1>>1,m&1||(l=-l),S.x=r*q,S.y=55*l):(m>=P.length&&(m=P.length-1),l=P[m],S.x=l.x,S.y=l.y),o.Mt=++c[p]}})},w:function(i){this.a.w(i),i.J(this.Lt),i.J(this.i),i.J(this.Gt),i.J(this.Ft),i.C(this.an),i.J(this.ft),i.p(this.Yn.n)},q:function(i,t){this.a.q(i),this.Lt=i.L(),this.i=i.L(),this.Gt=i.L(),this.Ft=i.L(),this.an=i.S(),this.ft=i.L(),this.Yn=oi.s[i.os()]||oi.Yi,this.li=t,this.Li=t.Li,this.Bi=t.Bi,this.T=t.T,this.a.N=this.T.N,this.a.G=this.T.G,this.a.X=this.T.X,this.a.wi=this.T.wi},gt:function(i){return i!=this.yt&&(this.ti||(this.ti=new Zi),this.yt=i,Zi.Cn(this.ti,this,i)),this.ti},copy:function(i){var t=new Zi;return t.a.g=this.a.g.map(n=>{var e=new Wl;return e.c.x=n.c.x,e.c.y=n.c.y,e.M.x=n.M.x,e.M.y=n.M.y,e.E.x=n.E.x,e.E.y=n.E.y,e.U=n.U,e.o=n.o,e.d=n.d,e.$=n.$,e.m=n.m,e.u=n.u,e.l=n.l,e.K=n.K,e}),t.Lt=this.Lt,t.i=this.i,t.Gt=this.Gt,t.Ft=this.Ft,t.an=this.an,t.ft=this.ft,t.Yn=this.Yn,t.li=i||this.li,t.Li=t.li.Li,t.Bi=t.li.Bi,t.T=t.li.T,t.a.N=t.T.N,t.a.G=t.T.G,t.a.X=t.T.X,t.a.wi=t.T.wi,t}};Zi.prototype.runSteps=Zi.prototype.Hi;Yl(Zi,[null,"ext","pauseGameTickCounter","timeElapsed","blueScore","redScore","goalConcedingTeam","state","goalTickCounter","physicsState","timeLimit","scoreLimit","stadium",null],[]);iu.s3=Zi});var Ct=N((vp,hu)=>{var{O:Zl}=E(),{Ll:nu,tn:zl,Tt:eu,_l:ue,Ul:j,nh:Gt}=B(),{se:jl,Yr:Dl,$r:Cn}=pt(),{Is:ic,Bs:tc,Gs:su}=et(),G=yn(),ei=ai(),he=on(),ru=qn(),uu=tu();function zi(){this.yt=-1,this.ti=null,this.T=G.Th()[0],this.Mn=2,this.pn=0,this.Wn=1,this.Bi=3,this.Li=3,this.An=!1,this.f=null,this.F=[],this.P="",this.Yt=[null,new ru,new ru],this.Yt[1].Ht.push(ei.Oi.m),this.Yt[2].Ht.push(ei.it.m)}zi.Cn=function(i,t,n){if(i.P=t.P,!t.F)i.F=null;else{i.F||(i.F=[]);for(var e=i.F,s=t.F,r=s.length;e.length>r;)e.pop();for(var u=0;u<r;u++)e[u]=s[u].gt(n)}i.f=t.f?.gt(n),i.An=t.An,i.Li=t.Li,i.Bi=t.Bi,i.Wn=t.Wn,i.pn=t.pn,i.Mn=t.Mn,i.T=t.T,i.Yt=t.Yt};zi.prototype={mh:function(i){this.f==null&&(this.f=new uu,this.F.forEach(t=>{t.H=null,t.Mt=0}),this.f.K1(this),this.xs?.(i))},Ch:function(i){if(this.f){var t=this;this.f=null,this.F.forEach(n=>{n.H&&t.$n?.(n),n.H=null,n.Mt=0}),this.Vh?.(),this._e?.(i)}},T1:function(i,t){this.An=i,this.Hs?.(i,t)},I1:function(i,t,n){i!=ei.Yi.n&&(this.Yt[i]=t,this.Qs?.(i,t,n))},k1:function(i,t){this.f==null&&(this.T=i,this.Xs?.(this.z(t),i))},oe:function(i,t,n,e){if(!(!i||i.I==t)){if(i.I=t,nu(this.F,i),this.F.push(i),!this.f){e||this.Ue?.(i.n,t.n,n);return}this.f.a.Hl(i,this.$n),this.f.cc(i);var s=0;do s++;while(this.F.find(r=>r!=i&&r.I==i.I&&r.Mt==s));i.Mt=s,e||this.Ue?.(i.n,t.n,n)}},A1:function(i,t){!i||t==i.bt||(i.bt=t,this.Ys?.(i))},N1:function(i,t,n){!i||i.n==0||i.Pt==t||(i.Pt=t,this.$s?.(this.z(n),i))},F1:function(i,t,n,e){this.Mn=Gt(i,0,255),this.pn=Gt(t,0,255),n=Gt(n,0,100),this.Wn=this.pn*n,this.Ws?.(e,this.Mn,this.pn,n)},G1:function(i,t){var n=this.z(i);n&&(n.he=t,this.Zs?.(i,t))},gh:function(i,t){this.f==null&&(this.Li=Gt(i,0,99),this.zs?.(this.Li,t))},Ph:function(i,t){this.f==null&&(this.Bi=Gt(i,0,99),this.js?.(this.Bi,t))},L1:function(i,t,n,e){if(this.f){var s=i?this.z(t)?.H:this.f.a.g[t];s&&(n[0]!=null&&(s.c.x=n[0]),n[1]!=null&&(s.c.y=n[1]),n[2]!=null&&(s.M.x=n[2]),n[3]!=null&&(s.M.y=n[3]),n[4]!=null&&(s.E.x=n[4]),n[5]!=null&&(s.E.y=n[5]),n[6]!=null&&(s.U=n[6]),n[7]!=null&&(s.o=n[7]),n[8]!=null&&(s.d=n[8]),n[9]!=null&&(s.$=n[9]),e[0]!=null&&(s.m=e[0]),e[1]!=null&&(s.u=e[1]),e[2]!=null&&(s.l=e[2]),this.Ds?.(t,i,n,e))}},O1:function(i,t){var n=this.z(i);n&&(n.ki=t,this.ir?.(i,t))},n1:function(i,t){var n=this.z(i);n&&(!(n.Ni&16)&&t&16&&(n.Rt=!0),n.Ni=t,this.Je?.(n))},i1:function(i,t){var n=this.z(i);n&&this.tr?.(n,t)},e1:function(i,t){var n=this.z(t);n&&this.nr?.(n,i)},ja:function(i,t,n,e){this.er?.(i,t,n,e)},B1:function(i,t){var n=new Map,e=[],s=[];this.F.forEach(f=>n.set(f.n,f)),i.forEach(f=>{var l=n.get(f);l&&(n.delete(f),e.push(l))}),s=[];for(var r=n.values(),u=r.next();!u.done;)s.push(u.value),u=r.next();this.F=t?e.concat(s):s.concat(e),this.sr?.(i,t)},M1:function(i){this.F.find((t,n)=>{if(n>=i.length)return!0;t.Me=i[n]}),this.rr?.(i)},u1:function(i,t){var n=this.f;if(n){var e=n.ft==120,s=n.ft>0;i?n.ft=120:e&&(n.ft=119),i!=e&&this.ur?.(this.z(t),i,s)}},r1:function(i,t,n,e){i?.n&&(nu(this.F,i),this.f?.a.Xr(i.H),this.ce?.(i,t,n,e))},s1:function(i,t,n,e,s,r,u){var f=new he;f.n=i,f.P=t,f.Ai=n,f.ki=e,f.xn=s,f.Wi=r,this.F.push(f),this.ve?.(f),u?.h?._onPlayerObjectCreated?.(f)},Oh:function(i,t,n){var e=this.z(i);e&&(e.qh=t,this.hr?.(i,t,n))},_1:function(i,t,n){n!=0&&!this.z(n)||this.fr?.(i,t,n)},U1:function(i,t,n){n!=0&&!this.z(n)||this.or?.(i,t,n)},R1:function(i){var t=[],n=0,e=0;this.F.forEach(u=>{u.I==ei.Yi&&t.push(u),u.I==ei.Oi?++n:u.I==ei.it&&++e});var s=t.length;if(s!=0)if(e==n)s>=2&&(this.oe(t[0],ei.Oi,i,!0),this.oe(t[1],ei.it,i,!0),this.Ke?.(t[0].n,ei.Oi.n,t[1].n,ei.it.n,i));else{var r=e>n?ei.Oi:ei.it;this.oe(t[0],r,i,!0),this.Ke?.(t[0].n,r.n,null,null,i)}},z:function(i){return this.F.find(t=>t.n==i)},Hi:function(i){this.f?.Hi(i)},w:function(i){i.vt(this.P),i.p(this.An?1:0),i.J(this.Li),i.J(this.Bi),i.Du(this.Wn),i.p(this.pn),i.p(this.Mn),this.T.w(i),i.p(this.f?1:0),this.f?.w(i),i.p(this.F.length),this.F.forEach(t=>{t.w(i)}),this.Yt[1].w(i),this.Yt[2].w(i)},q:function(i){this.P=i.ct(),this.An=i.A()!=0,this.Li=i.L(),this.Bi=i.L(),this.Wn=i.zu(),this.pn=i.A(),this.Mn=i.A(),this.T=G.q(i),this.f=null,i.A()!=0&&(this.f=new uu,this.f.q(i,this));for(var t=this.f?.a.g,n=i.A();this.F.length>n;)this.F.pop();for(var e=0;e<n;e++){var s=new he;s.q(i,t),this.F[e]=s}this.Yt[1].q(i),this.Yt[2].q(i)},ac:function(){var i=0,t=eu.t();for(this.w(t),t=t.Sa();t.v<=t.R.byteLength-4;)i^=t.L();return i},d1:function(){var i=eu.t(4);return i.J(this.ac()),i.Vr()},t1:function(i){this.pc?.(this.ac()!=new zl(new DataView(i)).L())},yc:function(i){this.b1=i},Ot:function(i){return i==0||this.z(i)?.Pt},gt:function(i){return i!=this.yt&&(this.ti||(this.ti=new zi),this.yt=i,zi.Cn(this.ti,this,i)),this.ti},copy:function(){var i=new zi;return i.P=this.P,i.An=this.An,i.Li=this.Li,i.Bi=this.Bi,i.Wn=this.Wn,i.pn=this.pn,i.Mn=this.Mn,i.T=this.T?.copy(),i.f=this.f?.copy(i),i.F=[],this.F.forEach((t,n)=>{var e=new he;if(e.Pt=t.Pt,e.Mt=t.Mt,e.ki=t.ki,e.he=t.he,e.bt=t.bt,e.Ai=t.Ai,e.Oe=t.Oe,e.P=t.P,e.Ni=t.Ni,e.n=t.n,e.Rt=t.Rt,e.rn=t.rn,e.sn=t.sn,e.I=t.I,e.Wi=t.Wi,e.xn=t.xn,e.kn=t.kn,i.f&&t.H){var s=t.H.K,r=i.f.a.g.findIndex(u=>u.K==s);r>-1&&(e.H=i.f.a.g[r])}i.F[n]=e}),this.Yt.forEach((t,n)=>{i.Yt[n]=t?.copy()}),i},bh:function(){if(this.f){var{T:i,a:t}=this.f,n=new Dl,e=new Cn,s={},r=i.st.map(c=>[c.x,c.y]),u=i.rt.map(c=>[c.x,c.y]),f=t.wi.map(G.jl);G._(s,"type",i.Bt==1?"grass":i.Bt==2?"hockey":"none","none"),G._(s,"width",i.on,0),G._(s,"height",i.ln,0),G._(s,"kickOffRadius",i.cn,0),G._(s,"cornerRadius",i.vn,0),G.Ie(s,i.fn,7441498),i.Bt==2&&G._(s,"goalLine",i.Nn,0);var l={name:i.P,width:i.Vt,height:i.hn,vertexes:t.N.map((c,o)=>{var p=G.Wl(c);return p.id=o,p}),segments:t.G.map(c=>G.v1(this,c,n)),planes:t.X.map(G.ic),goals:i.Ui.map(G.nc),discs:t.g.map(c=>G.sc(c,e)),bg:s,playerPhysics:G.ec(i.Jt),ballPhysics:"disc0"};return G._(l,"maxViewWidth",i.Hn,0),G._(l,"cameraFollow",i.Qn==1?"player":"",""),G._(l,"spawnDistance",i.ut,200),f.length>0&&(l.joints=f),r.length>0&&(l.redSpawnPoints=r),u.length>0&&(l.blueSpawnPoints=u),G._(l,"kickOffReset",i.Tn?"full":"partial","partial"),i.fe||(l.canBeStored=!1),l}},wc:function(i){return G.Zl(i)},qc:function(i){var t=G.zl(i,this.f.a.N);return t.Kt(),t},x1:function(i){var t=G.p1(i);return t.Kt(),t},mc:function(i){return G.Rh(i)},Cc:function(i){return G.tc(i)},gc:function(i){return G.Ah(i,new Cn).Ua()},Pc:function(i){return G.Dl(i,this.f.a.g)},H1:function(i){return G.w1(i,this.f.a.g)},Q1:function(i){this.f.a.N.push(this.wc(i))},X1:function(i){this.f.a.G.push(this.qc(i))},Y1:function(i){this.f.T.Ui.push(this.mc(i))},$1:function(i){this.f.a.X.push(this.Cc(i))},ms:function(i){var t=this.gc(i),n=this.f.a.g.findIndex(r=>r.K!=null);n<0&&(n=this.f.a.g.length),this.f.a.g.splice(n,0,t);for(var e=this.f.a.wi,s=this.f.a.g.length-2;s>=n;s--)e.forEach(r=>{r.zi==s&&r.zi++,r.Zi==s&&r.Zi++})},W1:function(i){this.f.a.wi.push(this.Pc(i))},Z1:function(i){var t;i.team=="red"?t=this.f.T.st:i.team=="blue"&&(t=this.f.T.rt),t&&t.push(new jl(i.x,i.y))},vu:function(i){var{team:t,id:n,name:e,avatar:s,flag:r}=i,u=t=="spec"?ei.Yi:t=="red"?ei.Oi:t=="blue"?ei.it:null;if(u){var f=ic.t(n,e,r,s,"fakeConn","fakeAuth");f.s=0,f.b(this),t!="spec"&&(f=su.t(n,u),f.s=0,f.b(this),this.au(this.z(n).H,i))}},Nh:function(i){var t=i.j,n=i.D,e=-1,s=-1;return this.f.a.N.forEach((r,u)=>{r==t?e=u:r==n&&(s=u)}),[e,s]},z1:function(i){return this.Nh(this.f.a.G[i])},j1:function(i,t){var n=this.f.a.N[i];if(n){var e=G.Zl(t);t.hasOwnProperty("x")&&(n.c.x=e.c.x),t.hasOwnProperty("y")&&(n.c.y=e.c.y),t.hasOwnProperty("bCoef")&&(n.o=e.o),t.hasOwnProperty("cMask")&&(n.u=e.u),t.hasOwnProperty("cGroup")&&(n.l=e.l),this.f.a.G.forEach(s=>{(s.D==n||s.j==n)&&s.Kt()})}},D1:function(i,t){var n=this.f.a.G[i];if(n){var e=G.zl(t,this.f.a.N);(t.hasOwnProperty("v0")||t.hasOwnProperty("curve"))&&(n.j=e.j),(t.hasOwnProperty("v1")||t.hasOwnProperty("curve"))&&(n.D=e.D),(t.hasOwnProperty("bias")||t.hasOwnProperty("curve"))&&(n.$i=e.$i),(t.hasOwnProperty("curveF")||t.hasOwnProperty("curve"))&&(n._i=e._i),t.hasOwnProperty("vis")&&(n.Ci=e.Ci),t.hasOwnProperty("color")&&(n.m=e.m),t.hasOwnProperty("bCoef")&&(n.o=e.o),t.hasOwnProperty("cMask")&&(n.u=e.u),t.hasOwnProperty("cGroup")&&(n.l=e.l),n.Kt()}},ip:function(i,t){var n=this.f.T.Ui[i];if(n){var e=G.Rh(t);t.hasOwnProperty("p0")&&(n.ot=e.ot),t.hasOwnProperty("p1")&&(n.lt=e.lt),t.hasOwnProperty("team")&&(n.I=e.I)}},tp:function(i,t){var n=this.f.a.X[i];if(n){var e=G.tc(t);t.hasOwnProperty("normal")&&(n.Mi=e.Mi),t.hasOwnProperty("dist")&&(n.fi=e.fi),t.hasOwnProperty("bCoef")&&(n.o=e.o),t.hasOwnProperty("cMask")&&(n.u=e.u),t.hasOwnProperty("cGroup")&&(n.l=e.l)}},np:function(i,t){this.au(this.f.a.g[i],t)},au:function(i,t){if(i){var n=G.Ah(t,new Cn);t.hasOwnProperty("pos")&&(i.c=n.c),t.hasOwnProperty("speed")&&(i.M=n.M),t.hasOwnProperty("gravity")&&(i.E=n.E),t.hasOwnProperty("radius")&&(i.U=n.U),t.hasOwnProperty("invMass")&&(i.d=n.d),t.hasOwnProperty("damping")&&(i.$=n.$),t.hasOwnProperty("color")&&(i.m=n.m),t.hasOwnProperty("bCoef")&&(i.o=n.o),t.hasOwnProperty("cMask")&&(i.u=n.u),t.hasOwnProperty("cGroup")&&(i.l=n.l)}},ep:function(i,t){var n=this.f.a.wi[i];if(n){var e=G.Dl(t,this.f.a.g);t.hasOwnProperty("d0")&&(n.zi=e.zi),t.hasOwnProperty("d1")&&(n.Zi=e.Zi),t.hasOwnProperty("color")&&(n.m=e.m),t.hasOwnProperty("strength")&&(n.Nt=e.Nt),t.hasOwnProperty("length")&&(n.Ii=e.Ii,n.Ri=e.Ri)}},sp:function(i,t,n){var e,s;if(t=="red"?e=this.f.T.st:t=="blue"&&(e=this.f.T.rt),n.team=="red"?s=this.f.T.st:n.team=="blue"&&(s=this.f.T.rt),!(!e||!s)){var r;e==s?r=e[i]:r=e.splice(i,1)[0],r&&(n.hasOwnProperty("x")&&(r.x=n.x),n.hasOwnProperty("y")&&(r.y=n.y),e!=s&&s.push(r))}},rp:function(i,t){var n=this.z(i);if(n){var e=null;if(t.hasOwnProperty("team")&&(e=t.team=="spec"?ei.Yi:t.team=="red"?ei.Oi:t.team=="blue"?ei.it:null),t.hasOwnProperty("name")&&(n.P=t.name),t.hasOwnProperty("flag")&&(n.Ai=t.flag),t.hasOwnProperty("avatar")&&(n.ki=t.avatar),e!=null){var s=su.t(i,e);s.s=0,s.b(this)}n.H!=null&&this.au(n.H,t)}},up:function(i){var t=this.f.a.N.splice(i,1)[0];if(t){var n=this.f.a.G,e=[];n.forEach((s,r)=>{(s.D==t||s.j==t)&&e.unshift(r)}),e.forEach(s=>n.splice(s,1))}},hp:function(i){this.f.a.G.splice(i,1)},fp:function(i){this.f.T.Ui.splice(i,1)},op:function(i){this.f.a.X.splice(i,1)},Xr:function(i){this.f.a.g.splice(i,1);var t=this.f.a.wi,n=[];t.forEach((s,r)=>{(s.zi==i||s.Zi==i)&&n.unshift(r)}),n.forEach(s=>t.splice(s,1));for(var e=i+1;e<=this.f.a.g.length;e++)t.forEach(s=>{s.zi==e&&s.zi--,s.Zi==e&&s.Zi--})},lp:function(i){this.f.a.wi.splice(i,1)},cp:function(i,t){var n;t=="red"?n=this.f.T.st:t=="blue"&&(n=this.f.T.rt),n&&n.splice(i,1)},dh:function(i){var t=tc.t(i,null,!0);t.s=0,t.b(this)},vp:function(i){var t=this.f?.T.Jt;if(t){var n=G.Ah(i,new Cn);i.hasOwnProperty("radius")&&(t.U=n.U),i.hasOwnProperty("gravity")&&(t.E=n.E),i.hasOwnProperty("invMass")&&(t.d=n.d),i.hasOwnProperty("bCoef")&&(t.o=n.o),i.hasOwnProperty("cGroup")&&(t.l=n.l),i.hasOwnProperty("damping")&&(t.$=n.$),i.hasOwnProperty("kickingDamping")&&(t.dn=j(i.kickingDamping,Number)),i.hasOwnProperty("acceleration")&&(t.bn=j(i.acceleration,Number)),i.hasOwnProperty("kickingAcceleration")&&(t.Vn=j(i.kickingAcceleration,Number)),i.hasOwnProperty("kickStrength")&&(t.Jn=j(i.kickStrength,Number)),i.hasOwnProperty("kickback")&&(t.Kn=j(i.kickback,Number))}},ap:function(i){var t=this.f?.T;t&&(i.hasOwnProperty("type")&&(t.Bt=j(i.type,ue)),i.hasOwnProperty("width")&&(t.on=j(i.width,Number)),i.hasOwnProperty("height")&&(t.ln=j(i.height,Number)),i.hasOwnProperty("kickOffRadius")&&(t.cn=j(i.kickOffRadius,Number)),i.hasOwnProperty("cornerRadius")&&(t.vn=j(i.cornerRadius,Number)),i.hasOwnProperty("color")&&(t.fn=j(i.color,ue)),i.hasOwnProperty("goalLine")&&(t.Nn=j(i.goalLine,Number)))},pp:function(i){var t=this.f?.T;t&&(i.hasOwnProperty("name")&&(t.P=j(i.name,String)),i.hasOwnProperty("width")&&(t.Vt=j(i.width,Number)),i.hasOwnProperty("height")&&(t.hn=j(i.height,Number)),i.hasOwnProperty("maxViewWidth")&&(t.Hn=j(i.maxViewWidth,Number)),i.hasOwnProperty("cameraFollow")&&(t.Qn=j(i.cameraFollow,ue)),i.hasOwnProperty("spawnDistance")&&(t.ut=j(i.spawnDistance,Number)),i.hasOwnProperty("kickOffReset")&&(t.Tn=j(i.kickOffReset,Boolean)),i.hasOwnProperty("canBeStored")&&(t.fe=j(i.canBeStored,Boolean)))}};zi.prototype.runSteps=zi.prototype.Hi;Zl(zi,[null,"ext","stadium","kickRate_min","kickRate_rate","kickRate_max","timeLimit","scoreLimit","teamsLocked","gameState","players","name","teamColors"],["startGame","stopGame","setTeamsLock","setTeamColors","setStadium","setPlayerTeam","setPlayerSync","setPlayerAdmin","setKickRateLimit","setHeadlessAvatar","setScoreLimit","setTimeLimit","setDiscProperties","setAvatar","setPlayerInput","setPlayerChatIndicator","sendChat","sendAnnouncement","reorderPlayers","setPings","setGamePaused","forceLeaveRoom","forceJoinRoom","setPlayerIdentity","applyCustomEvent","applyBinaryCustomEvent","applyAutoTeams","getPlayer"]);hu.s3=zi});var ce=N((ap,gn)=>{var{rs:nc,us:ec,Lr:sc,_r:rc,_n:fu,Un:Pn,O:uc}=E(),{ni:Sn}=L(),{Zu:hc,ji:fe}=D(),ou=qt(),{tn:gt,Tt:Pt,ii:fc}=B(),lu=Ct(),oe=O();function cu(i,t){if(this.Sc=0,this.nt=t,this.kc=i?.k,this.ae=Pt.t(1e3),this.lr=Pt.t(16384),this.r=i,!!i){var n=this,e=i.k;i.i.w(this.lr),i.en=r=>{var u=i.k;n.lr.Gi(u-e),e=u,n.lr.xi(r.s),Sn.w(r,n.lr)},this.ae.xi(0);var s=this.kc;i.i.yc(r=>{var u=i.k;n.ae.Gi(u-s),n.ae.p(r),n.Sc++,s=u})}}cu.prototype={Tc:function(){this.r.en=null,this.r.i.yc(null),this.ae.R.setUint16(0,this.Sc,this.ae.Ji),this.ae.Di(this.lr.Vi());var i=Pn.deflateRaw(this.ae.Vi()),t=Pt.t(i.byteLength+32);return t.cs("HBR2"),t.Ti(this.nt),t.Ti(this.r.k-this.kc),t.Di(i),t.Vi()}};function vu(i,t,n,e){this.pu=0,this.Ve=-1,this.yn=0,this.xh=0,this.wn=0,this.Hh=0,ou.call(this,t);var s=new gt(new DataView(i.buffer),!1);if(s.oi()!=1212305970)throw"";var r=s.oi();if(r!=n)throw fe(oe.bu,r);this.Nc=s.oi();var u=Pn.inflateRaw(s.bi());this.be=new gt(new DataView(u.buffer,u.byteOffset,u.byteLength)),this.yp(this.be),u=this.be.bi(),this.be=new gt(new DataView(u.buffer,u.byteOffset,u.byteLength),!1),this.yu(),this.xh=fu.now(),this.Pn=-1,this.T2=e,this.de=null,this.Qh=null}vu.prototype=fc(ou.prototype,{yp:function(i){for(var t=i.di(),n=0;n<t;n++)i.Ki(),i.A()},Rc:function(){var{be:i}=this;if(i.R.byteLength>i.v){this.Hh+=i.Ki();var t=i.di();this.cr=Sn.q(i,!0),this.cr.s=t}else this.cr=null},B:function(){},Sn:function(i=0){this.Xi();var t=this.i.gt(++this.ah);return t.Hi(this.yn),t},Xi:function(){var i=fu.now(),t=i-this.xh;this.xh=i;var n=!1,e=!1;this.Ve>=0?(this.wn+=1e4,this.wn>this.Ve&&(this.wn=this.Ve,this.Ve=-1,n=!0)):this.wn+=t*this.pu;var s=this.Nc*this.vh;for(this.wn>s&&(this.wn=s,e=!0),t=this.wn*this.nn,s=t|0,this.yn=t-s;this.k<s;){for(;this.cr!=null&&this.Hh==this.k;)this.cr.b(this.i),this.en?.(this.cr),this.Rc();this.k++,this.i.Hi(1)}n&&(this.de.Ac(),this.Qh?.onDestinationTimeReached?.()),e&&(this.pu=0,this.de.Xh(),this.Qh?.onEnd?.())},Ec:function(i){this.de.Xh(),this.Ve=i,this.wn>i&&this.yu()},yu:function(){this.Hh=0,this.be.v=0,this.k=0,this.wn=0,this.i.q(this.be),this.Rc()}});function oc(i,t,n){var e=0,s=n?.requestAnimationFrame||sc,r=n?.cancelAnimationFrame||rc,u=t?.render,f=u&&function(){i.Ve>0||u()},l=function(){e=s(l),i.Xi(),f?.()};e=s(l),this.Xh=function(){i.i.Je=null,i.i.ve=null,i.i.Us=null,i.i.Ks=null,i.i.ds=null,i.i.ur=null,i.i.xs=null,i.i._s=null,i.i.Js=null,i.i.ps=null,i.i.ys=null,i.i.ws=null,i.i.qs=null,i.i.Re=null,i.i.Ke=null,i.i.js=null,i.i.zs=null,i.i.ir=null,i.i.Ls=null,i.i.$n=null,i.i.Zs=null,i.i.sr=null,i.i.Ue=null,i.i.Qs=null,i.i.Hs=null,i.i.fr=null,i.i.or=null,i.i.hr=null,i.i.Ds=null,i.i.rr=null,i.i.gs=null,i.i.Vs=null,i.i.bs=null,i.i.nr=null,i.i.er=null,i.i._e=null,i.i.Xs=null,i.i.Ys=null,i.i.$s=null,i.i.Ws=null,i.i.ce=null,i.i.tr=null},this.Ac=function(){i.i.Je==null&&(i.i.Je=c=>{t.onPlayerInputChange?.(c.n,c.Ni)},i.i.ve=c=>{t.onPlayerJoin?.(c)},i.i.Us=c=>{t.onPlayerBallKick?.(c?.n)},i.i.Ks=c=>{t.onTeamGoal?.(c?.n)},i.i.ds=c=>{t.onGameEnd?.(c.n)},i.i.ur=(c,o,p)=>{p||t.onGamePauseChange?.(o,c?.n)},i.i.xs=function(c){t.onGameStart?.(c?.n)},i.i._s=()=>{t.onGameTick?.()},i.i.Js=()=>{t.onKickOff?.()},i.i.ps=(c,o,p,q)=>{t.onCollisionDiscVsDisc?.(c,o.K,p,q.K)},i.i.ys=(c,o,p)=>{t.onCollisionDiscVsPlane?.(c,o.K,p)},i.i.ws=(c,o,p)=>{t.onCollisionDiscVsSegment?.(c,o.K,p)},i.i.qs=(c,o,p,q)=>{t.wp?.(c,o.K,p,q)},i.i.Re=(c,o,p)=>{t.qp?.(c,o,p)},i.i.Ke=(c,o,p,q,S)=>{t.onAutoTeams?.(c,o,p,q,S)},i.i.js=(c,o)=>{t.onTimeLimitChange?.(c,o)},i.i.zs=(c,o)=>{t.onScoreLimitChange?.(c,o)},i.i.Ls=c=>{t.onPlayerDiscCreated?.(c)},i.i.$n=c=>{t.onPlayerDiscDestroyed?.(c)},i.i.ir=(c,o)=>{t.onPlayerAvatarChange?.(c,o)},i.i.Zs=(c,o)=>{t.onPlayerHeadlessAvatarChange?.(c,o)},i.i.sr=(c,o)=>{t.onPlayersOrderChange?.(c,o)},i.i.Ue=(c,o,p)=>{t.onPlayerTeamChange?.(c,o,p)},i.i.Qs=(c,o,p)=>{t.onTeamColorsChange?.(c,o,p)},i.i.Hs=(c,o)=>{t.onTeamsLockChange?.(c,o)},i.i.fr=(c,o,p)=>{t.onCustomEvent?.(c,o,p)},i.i.or=(c,o,p)=>{t.onBinaryCustomEvent?.(c,o,p)},i.i.hr=(c,o,p)=>{t.onIdentityEvent?.(c,o,p)},i.i.Ds=(c,o,p,q)=>{t.onSetDiscProperties?.(c,o,p,q)},i.i.rr=c=>{t.onPingData?.(c)},i.i.gs=c=>{t.onHandicapChange?.(c)},i.i.Vs=()=>{t.onTimeIsUp?.()},i.i.bs=()=>{t.onPositionsReset?.()},i.i.nr=function(c,o){t.onPlayerChat?.(c.n,o)},i.i.er=function(c,o,p,q){t.onAnnouncement?.(c,o,p,q)},i.i._e=function(c){t.onGameStop?.(c?.n)},i.i.Xs=function(c,o){t.onStadiumChange?.(o,c?.n)},i.i.Ys=function(c){t.onPlayerSyncChange?.(c?.n,c?.bt)},i.i.$s=function(c,o){t.onPlayerAdminChange?.(o?.n,o?.Pt,c?.n)},i.i.Ws=function(c,o,p,q){t.onKickRateLimitChange?.(o,p,q,c?.n)},i.i.ce=function(c,o,p,q){c.H&&t.onPlayerDiscDestroyed?.(c),t.onPlayerLeave?.(c,o,p,q?.n)},i.i.tr=function(c,o){t.onPlayerChatIndicatorChange?.(c?.n,!o)})},this.ri=function(){r(e),this.Xh()},this.yu=()=>{i.yu()}}function lc(i,t,n){var e,s=new lu;try{e=new vu(i,s,3,t),e.de=new oc(e,t,n)}catch(u){throw u instanceof hc?u:fe(oe.ko,u)}var r={state:s,extrapolate:u=>e.Sn(u),getSpeed:()=>e.pu,setSpeed:u=>{e.de.Ac(),e.pu=u},getTime:()=>e.wn,length:()=>e.vh*e.Nc,setTime:u=>{e.Ec(u)},getCurrentFrameNo:()=>e.k,setCurrentFrameNo:u=>{e.Ec(e.vh*u)},destroy:()=>{e.de.ri()}};return Object.defineProperty(r,"gameState",{get(){return s.f}}),Object.defineProperty(r,"currentPlayerId",{get(){return e.Pn}}),e.Qh=r,r}function le(){this.r=new lu,this.qn=[],this.On=[],this.xe=0,this.nt=3}function cc(i){var t=new le,n=0,e=new gt(new DataView(i.buffer),!1);if(e.oi()!=1212305970)throw"";var s=e.oi();if(s!=3)throw fe(oe.bu,s);t.xe=e.oi();var r=Pn.inflateRaw(e.bi());e=new gt(new DataView(r.buffer,r.byteOffset,r.byteLength));var u=null,f;for(s=e.di(),r=0,f=0;f<s;f++)r+=e.Ki(),t.On.push({frameNo:r,teamId:e.A()});for(r=e.bi(),e=new gt(new DataView(r.buffer,r.byteOffset,r.byteLength),!1),t.r.q(e);e.v<e.R.byteLength;)s=e.Ki(),n+=s,s=e.di(),u=Sn.q(e,!0),u.s=s,u.frameNo=n,t.qn.push(u);return t}function vc(i,t){if(i){var{r:n,qn:e,xe:s}=i,r=t?.beginFrameNo||0;r<0&&(r=0);var u=t?.endFrameNo||s-1;if(u>=s&&(u=s-1),!(u<r)){for(var f=0,l=0,c=e[0];l<r;){for(;l==c?.frameNo;)c.b(n),c=e[++f];l++,n.Hi(1)}e=e.filter(o=>o.frameNo>=r&&o.frameNo<=u),e.forEach(o=>{o.frameNo-=r}),i.qn=e,i.On=i.On.filter(o=>o.frameNo>=r&&o.frameNo<=u),i.On.forEach(o=>{o.frameNo-=r}),i.xe=u-r+1}}}function ac(i,t){if(!i)return Promise.resolve();var{r:n,qn:e,xe:s}=i,r=t?.beginFrameNo||0;r<0&&(r=0);var u=t?.endFrameNo||s-1;if(u>=s&&(u=s-1),u<r)return Promise.resolve();var f=0,l=0,c=e[0];return new Promise((o,p)=>{var q;q=nc(()=>{if(l>=r){ec(q),e=e.filter(S=>S.frameNo>=r&&S.frameNo<=u),e.forEach(S=>{S.frameNo-=r}),i.qn=e,i.On=i.On.filter(S=>S.frameNo>=r&&S.frameNo<=u),i.On.forEach(S=>{S.frameNo-=r}),i.xe=u-r+1,o();return}for(;l==c?.frameNo;)c.b(n),c=e[++f];l++,n.Hi(1)},0)})}function pc(i){var t=Pt.t(16384),n=0;i.r.w(t),i.qn.forEach(u=>{var f=u.frameNo;f<n||(t.Gi(f-n),n=f,t.xi(u.s),Sn.w(u,t))});var e=Pt.t(1e3);e.xi(i.On.length),n=0,i.On.forEach(u=>{e.Gi(u.frameNo-n),e.p(u.teamId),n=u.frameNo}),e.Di(t.Vi());var s=Pn.deflateRaw(e.Vi()),r=Pt.t(s.byteLength+32);return r.cs("HBR2"),r.Ti(i.nt),r.Ti(i.xe),r.Di(s),r.Vi()}uc(le,["roomData","events","goalMarkers","totalFrames","version"],[]);gn.s3=gn.mp||(gn.mp={Cp:le,gp:lc,Pp:cc,Sp:pc,kp:vc,Tp:ac,Np:cu})});var ve=N((pp,kn)=>{var{Lr:yc,_r:wc,_n:yu}=E(),qc=ai(),{ii:mc}=B(),{Ih:Cc,Os:gc,tu:Pc,Bh:Sc,Is:kc,Bs:au,nu:Tc,eu:Nc,su:Rc,ru:pu,Fs:Ac,Gs:Ec,uu:Mc,Fh:Oc,hu:Ic,fu:Bc,Gh:Fc,Lh:Gc,Uh:Lc,_h:_c,Jh:Uc,Kh:Jc,ou:Kc,lu:Vc,cu:bc}=et(),wu=qt(),dc=Ct();function qu(i){wu.call(this,i),this.qn=[],this.M=1,this.He=yu.now(),this.Zn=!1}qu.prototype=mc(wu.prototype,{B:function(){},Sn:function(i=0){this.Xi();var t=this.i.gt(++this.ah);return t.Hi(i*this.nn|0),t},Xi:function(){var i=this.qn;this.qn=[];for(var t=((yu.now()-this.He)*this.nn*this.M|0)-this.k,n=0;n<t;n++)this.k+=1,this.Zn||this.i.Hi(1);i.forEach(e=>{e.b(this.i)})},pi:function(i){this.qn.push(i)},Yh:function(i){if(!(i<0)){if(i==0){this.Zn=!0;return}this.k=this.k*i/this.M|0,this.M=i,this.Zn=!1}},Hi:function(i){this.Zn&&this.i.Hi(i)}});function mu(i,t,n){var e=0,s=n?.requestAnimationFrame||yc,r=n?.cancelAnimationFrame||wc,u=t?.render,f=function(){e=s(f),i.Xi(),u?.()};function l(){e=s(f),i.i.Je=o=>{t.onPlayerInputChange?.(o.n,o.Ni)},i.i.ve=o=>{t.onPlayerJoin?.(o)},i.i.Us=o=>{t.onPlayerBallKick?.(o?.n)},i.i.Ks=o=>{t.onTeamGoal?.(o?.n)},i.i.ds=o=>{t.onGameEnd?.(o.n)},i.i.ur=(o,p,q)=>{q||t.onGamePauseChange?.(p,o?.n)},i.i.xs=function(o){t.onGameStart?.(o?.n)},i.i._s=()=>{t.onGameTick?.()},i.i.Js=()=>{t.onKickOff?.()},i.i.ps=(o,p,q,S)=>{t.onCollisionDiscVsDisc?.(o,p.K,q,S.K)},i.i.ys=(o,p,q)=>{t.onCollisionDiscVsPlane?.(o,p.K,q)},i.i.ws=(o,p,q)=>{t.onCollisionDiscVsSegment?.(o,p.K,q)},i.i.qs=(o,p,q,S)=>{t.wp?.(o,p.K,q,S)},i.i.Re=(o,p,q)=>{t.qp?.(o,p,q)},i.i.Ke=(o,p,q,S,m)=>{t.onAutoTeams?.(o,p,q,S,m)},i.i.js=(o,p)=>{t.onTimeLimitChange?.(o,p)},i.i.zs=(o,p)=>{t.onScoreLimitChange?.(o,p)},i.i.Ls=o=>{t.onPlayerDiscCreated?.(o)},i.i.$n=o=>{t.onPlayerDiscDestroyed?.(o)},i.i.ir=(o,p)=>{t.onPlayerAvatarChange?.(o,p)},i.i.Zs=(o,p)=>{t.onPlayerHeadlessAvatarChange?.(o,p)},i.i.sr=(o,p)=>{t.onPlayersOrderChange?.(o,p)},i.i.Ue=(o,p,q)=>{t.onPlayerTeamChange?.(o,p,q)},i.i.Qs=(o,p,q)=>{t.onTeamColorsChange?.(o,p,q)},i.i.Hs=(o,p)=>{t.onTeamsLockChange?.(o,p)},i.i.fr=(o,p,q)=>{t.onCustomEvent?.(o,p,q)},i.i.or=(o,p,q)=>{t.onBinaryCustomEvent?.(o,p,q)},i.i.hr=(o,p,q)=>{t.onIdentityEvent?.(o,p,q)},i.i.Ds=(o,p,q,S)=>{t.onSetDiscProperties?.(o,p,q,S)},i.i.rr=o=>{t.onPingData?.(o)},i.i.gs=o=>{t.onHandicapChange?.(o)},i.i.Vs=()=>{t.onTimeIsUp?.()},i.i.bs=()=>{t.onPositionsReset?.()},i.i.nr=function(o,p){t.onPlayerChat?.(o.n,p)},i.i.er=function(o,p,q,S){t.onAnnouncement?.(o,p,q,S)},i.i._e=function(o){t.onGameStop?.(o?.n)},i.i.Xs=function(o,p){t.onStadiumChange?.(p,o?.n)},i.i.Ys=function(o){t.onPlayerSyncChange?.(o?.n,o?.bt)},i.i.$s=function(o,p){t.onPlayerAdminChange?.(p?.n,p?.Pt,o?.n)},i.i.Ws=function(o,p,q,S){t.onKickRateLimitChange?.(p,q,S,o?.n)},i.i.ce=function(o,p,q,S){o.H&&t.onPlayerDiscDestroyed?.(o),t.onPlayerLeave?.(o,p,q,S?.n)},i.i.tr=function(o,p){t.onPlayerChatIndicatorChange?.(o?.n,!p)}}function c(){r(e),i.i.Je=null,i.i.ve=null,i.i.Us=null,i.i.Ks=null,i.i.ds=null,i.i.ur=null,i.i.xs=null,i.i._s=null,i.i.Js=null,i.i.ps=null,i.i.ys=null,i.i.ws=null,i.i.qs=null,i.i.Re=null,i.i.Ke=null,i.i.js=null,i.i.zs=null,i.i.ir=null,i.i.Ls=null,i.i.$n=null,i.i.Zs=null,i.i.sr=null,i.i.Ue=null,i.i.Qs=null,i.i.Hs=null,i.i.fr=null,i.i.or=null,i.i.hr=null,i.i.Ds=null,i.i.rr=null,i.i.gs=null,i.i.Vs=null,i.i.bs=null,i.i.nr=null,i.i.er=null,i.i._e=null,i.i.Xs=null,i.i.Ys=null,i.i.$s=null,i.i.Ws=null,i.i.ce=null,i.i.tr=null}l(),this.ri=function(){c()},this.Mc=function(o){c(),i.i=o,l()}}function xc(i,t){var n=new dc,e=new qu(n),s=new mu(e,i,t),r;return r={state:n,extrapolate:u=>e.Sn(u),takeSnapshot:()=>n.copy(),useSnapshot:function(u){var f=u.copy();s.Mc(f),n=f,r.state=f},playerJoin:function(u,f,l,c,o,p){var q=kc.t(u,f,l,c,o,p);q.s=0,e.pi(q)},playerLeave:function(u){var f=e.i.z(u);if(f){var l=au.t(u,null,!0);l.s=0,e.pi(l)}},playerInput:function(u,f){var l=Pc.t(u);l.s=f,e.pi(l)},playerChat:function(u,f){var l=Sc.t(u);l.s=f,e.pi(l)},setKeyState:function(u){r.N2(u,t?.controlledPlayerId||0)},setPlayerChatIndicator:function(u,f){var l=gc.t(u);l.s=f,e.pi(l)},setPlayerAvatar:function(u,f,l){if(u){var c=Uc.t(l,f);c.s=0}else{var c=Gc.t(f);c.s=l}e.pi(c)},setCurrentStadium:function(u,f){var l=Ac.t(u);l.s=f,e.pi(l)},sendAnnouncement:function(u,f=-1,l=0,c=1,o,p){var q=Cc.t(u,f,l,c);q.s=p,e.pi(q)},startGame:function(u){var f=Tc.t();f.s=u,e.pi(f)},stopGame:function(u){var f=Nc.t();f.s=u,e.pi(f)},setGamePaused:function(u,f){var l=Rc.t(u);l.s=f,e.pi(l)},setScoreLimit:function(u,f){var l=pu.t(0,u);l.s=f,e.pi(l)},setTimeLimit:function(u,f){var l=pu.t(1,u);l.s=f,e.pi(l)},setTeamsLock:function(u,f){var l=Mc.t(u);l.s=f,e.pi(l)},autoTeams:function(u){var f=Ic.t();f.s=u,e.pi(f)},setPlayerTeam:function(u,f,l){var c=qc.s[f];if(c){var o=Ec.t(u,c);o.s=l,e.pi(o)}},setKickRateLimit:function(u,f,l,c){var o=Lc.t(u,f,l);o.s=c,e.pi(o)},setTeamColors:function(u,f,l,c){var o=_c.Mh(u,f,...l);o.s=c,e.pi(o)},setPlayerAdmin:function(u,f,l){var c=Oc.t(u,f);c.s=l,e.pi(c)},kickPlayer:function(u,f,l,c){var o=au.t(u,f,l);o.s=c,e.pi(o)},setPlayerSync:function(u,f){var l=Bc.t(u);l.s=f,e.pi(l)},sendPingData:function(u,f){var l=new Fc;l.xt=e.i.F.map(u),l.s=f,e.pi(l)},setDiscProperties:function(u,f,l,c){var o=Jc.t(u,f,l);o.s=c,e.pi(o)},sendCustomEvent:function(u,f,l){var c=Kc.t(u,f);c.s=l,e.pi(c)},sendBinaryCustomEvent:function(u,f,l){var c=Vc.t(u,f);c.s=l,e.pi(c)},setPlayerIdentity:function(u,f,l){var c=bc.t(u,f);c.s=l,e.pi(c)},executeEvent:function(u){e.pi(u)},setSimulationSpeed:function(u){e.Yh(u)},runSteps:function(u){e.Hi(u)},destroy:s.ri},Object.defineProperty(r,"gameState",{get(){return n.f}}),Object.defineProperty(r,"currentPlayerId",{get(){return 0}}),Object.defineProperty(r,"currentFrameNo",{get(){return e.k}}),r}kn.s3=kn.Rp||(kn.Rp={Ap:mu,Ep:xc})});var pe=N((yp,Tn)=>{var{Pl:ae,Tl:Hc}=E();function Cu(i,t,n,e,s){return new Promise(function(r,u){var f=new Hc;f.open(t,i),f.responseType=n,f.onload=function(){f.status>=200&&f.status<300?f.response!=null?r(f.response):u(null):u("status: "+f.status)},f.onerror=function(l){u(l)},s!=null&&f.setRequestHeader("Content-type",s),f.send(e)})}function gu(i,t){return Cu(i,"GET",t,null)}function Qc(i){return gu(i,"json").then(function(t){if(t.error!=null)throw t.error;return t.data})}function Xc(i,t,n){return Cu(i,"POST","json",t,n).then(function(e){if(e.error!=null)throw e.error;return e.data})}Tn.s3=Tn.Mp||(Tn.Mp={$h:()=>gu(ae+"api/list","arraybuffer"),Wh:()=>Qc(ae+"api/geo").then(i=>({lat:i.lat,lon:i.lon,flag:i.code.toLowerCase()})),Oc:({_t:i,Op:t=""},n,e)=>Xc(ae+"api/host","token="+i+"&rcr="+t,"application/x-www-form-urlencoded").then(s=>{switch(s.action){case"connect":n(s.url,s.token);break;case"recaptcha":e(s.sitekey);break}})})});var we=N((wp,Nn)=>{var{O:Pu}=E();function ye(){this.nt=0,this.P="",this.Ai="",this.wu=0,this.qu=0,this.wt=!1,this.Zh=0,this.F=0}ye.prototype={Ic:function(){this.P=this.P.substring(0,40),this.Ai=this.Ai.substring(0,3)},w:function(i){this.Ic(),i.Ji=!0,i.xi(this.nt),i.Ol(this.P),i.Ol(this.Ai),i.ih(this.wu),i.ih(this.qu),i.p(this.wt?1:0),i.p(this.Zh),i.p(this.F),i.Ji=!1},q:function(i){i.Ji=!0,this.nt=i.di(),this.P=i.Ml(),this.Ai=i.Ml(),this.wu=i.ju(),this.qu=i.ju(),this.wt=i.A()!=0,this.Zh=i.A(),this.F=i.A(),i.Ji=!1,this.Ic()}};function Su(){this.vi=null,this.n="",this.fi=1/0}Pu(ye,["version","name","flag","lat","lon","password","maxPlayers","players"],[]);Pu(Su,["data","id","dist"],[]);Nn.s3=Nn.Ip||(Nn.Ip={Bc:ye,Bp:Su})});var me=N((qp,Nu)=>{var{kl:St}=E(),Yc=O(),{tn:ku,Tt:$c}=B(),{ji:Wc}=D(),qe={name:"ECDSA",namedCurve:"P-256"},Tu={name:"ECDSA",hash:{name:"SHA-256"}};function Zc(i,t,n){try{return St.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["sign"],kty:"EC",d:n,x:i,y:t},qe,!0,["sign"])}catch(e){return Promise.reject(e)}}function zc(i,t){try{return St.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",x:i,y:t},qe,!0,["verify"])}catch(n){return Promise.reject(n)}}function ft(){this.x=null,this.y=null,this.zh=null,this.jh=null}ft.Fp=function(){try{return St.generateKey(qe,!0,["sign","verify"]).then(function(i){var t=i.privateKey;return St.exportKey("jwk",t).then(function(n){var e=new ft;return e.x=n.x,e.y=n.y,e.zh=n.d,e.jh=t,e})})}catch(i){return Promise.reject(i)}};ft.Gp=function(i){var t=i.split(".");if(t.length!=4||t[0]!="idkey")return Promise.reject(Wc(Yc.Go));var n=t[1],e=t[2],s=t[3];return Zc(n,e,s).then(function(r){var u=new ft;return u.x=n,u.y=e,u.zh=s,u.jh=r,u})};ft.Lp=function(i,t){try{var n=new ku(new DataView(i.buffer,i.byteOffset,i.byteLength),!1);n.A();var e=n.bi(n.di()),s=n.bi();n=new ku(new DataView(e.buffer,e.byteOffset,e.byteLength),!1);var r=n.mt(),u=n.mt(),f=n.bi();if(f.byteLength!=t.byteLength)return Promise.reject(null);for(var l=0;l<f.byteLength;l++)if(f[l]!=t[l])return Promise.reject(null);return zc(r,u).then(function(c){return St.verify(Tu,c,s,e)}).then(function(c){if(!c)throw null;return r})}catch(c){return Promise.reject(c)}};ft.prototype={_p:function(){return"idkey."+this.x+"."+this.y+"."+this.zh},Up:function(i){try{var t=$c.t(1024);t.p(1);var n=t.v;t.xi(0);var e=t.v;t.Ct(this.x),t.Ct(this.y),t.Di(i);var s=t.v-e;return t.R.setUint16(n,s,t.Ji),St.sign(Tu,this.jh,new Uint8Array(t.R.buffer,t.R.byteOffset+e,s)).then(function(r){return t.br(r),t.Vi()})}catch(r){return Promise.reject(r)}}};Nu.s3=ft});var Lt=N((mp,Rn)=>{var Ru=O(),{Zu:jc,ji:Au}=D(),{tn:Eu,Hr:Dc}=B(),Mu=yn(),Ce=pe(),{Bc:iv,Bp:tv}=we(),{zr:nv,jr:ev}=rt(),Ou=me();function sv(){try{return Ou.Fp().then(i=>[i._p(),i])}catch(i){return Promise.reject(i)}}function rv(i){try{return Ou.Gp(i)}catch(t){return Promise.reject(t)}}function uv(i){return"rgba("+[(i&16711680)>>>16,(i&65280)>>>8,i&255].join()+",255)"}function hv(i){var t=i.match(/rgba?[ \t]*\([ \t]*(\d+),[ \t]*(\d+),[ \t]*(\d+)[ \t]*\)/);if(!(t.length<4)){var n=parseInt(t[1]),e=parseInt(t[2]),s=parseInt(t[3]);if(!(n>255||e>255||s>255))return n<<16|e<<8|s}}function fv(i){var t;if(i?.includes(".")){if(t=i.split("."),t.length>4)return;for(;t.length<4;)t.splice(0,0,"");return t.reduce((r,u,f)=>{if(r!=null){var l=parseInt(u.length>0?u:"0");return isNaN(l)||l<0||l>255?null:(r|=l<<24-f*8,r)}},0)}if(i?.includes(":")){t=i.split(":");var n=i.indexOf("::");if(n!=i.lastIndexOf("::"))return;if(n>=0){var e=t.length;if(e>9)return;n=t.findIndex(r=>r.length==0),(n==0||n==e-2&&t[e-1].length==0)&&(t.splice(n,1),e--),t[n]="0";for(var s=0;s<8-e;s++)t.splice(n+1,0,"0")}return t.length!=8?void 0:t.reduce((r,u,f)=>{if(r!=null){var l=parseInt(u,16);if(!(isNaN(l)||l<0||l>65535))return r|=BigInt(l)<<112n-BigInt(f)*16n,r}},0n)}}function ov(i){var t=i?.__proto__.constructor.name,n,e;if(t=="BigInt"){var s={vr:-1,$t:0},r={vr:-1,$t:0};for(e=[],n=0;n<8;n++){var u=i&65535n;u==0?(r.$t==0&&(r.vr=7-n),r.$t++,r.$t>s.$t&&(s.$t=r.$t,s.vr=r.vr)):r.$t=0,e.splice(0,0,u.toString(16)),i>>=16n}s.$t>0&&(n=s.vr-s.$t+1,e.splice(n,s.$t-1),e[n]="");var f=e.join(":");return f.length==0?f="::":f.charAt(f.length-1)==":"?f+=":":f.charAt(0)==":"&&(f=":"+f),f}else if(t=="Number"){for(e=[],n=0;n<4;n++)e.splice(0,0,""+(i&255)),i>>=8;return e.join(".")}}function lv(i){if(i.length==43){for(var t=0n,n=0,e=252;n<43;n++,e-=6){var s=i.charCodeAt(n);if(s==45)s=0;else if(s==95)s=63;else if(s>=48&&s<=57)s-=47;else if(s>=65&&s<=90)s-=54;else if(s>=97&&s<=122)s-=60;else return;t|=BigInt(s)<<BigInt(e)}return t}}function cv(i){var t=i?.__proto__.constructor.name;if(t=="BigInt"){for(var n="",e=0;e<43;e++){if(t=Number(i&63n),t==0)t=45;else if(t==63)t=95;else if(t>=1&&t<=10)t+=47;else if(t>=11&&t<=36)t+=54;else if(t>=37&&t<=62)t+=60;else return;n=String.fromCharCode(t)+n,i>>=6n}return n}}function vv(i,t,n){return!((i^t)&n)}function av(i,t,n){return(n?16:0)|(i>0?8:i<0?4:0)|(t>0?2:t<0?1:0)}function pv(i){return{dirX:((i&8)>0)-((i&4)>0),dirY:((i&2)>0)-((i&1)>0),kick:(i&16)>0}}var yv=()=>Ce.$h().then(i=>{var t=new Eu(new DataView(i),!1);t.A();for(var n=[];t.v!=t.R.byteLength;){var e=t.Te(t.di()),s=t.El(t.di());try{var r=new iv;r.q(new Eu(new DataView(s),!1));var u=new tv;u.vi=r,u.n=e,n.push(u)}catch{}}return n});function wv(i,t){let n=Math.PI/180,e=i.lat,s=i.lon;t.forEach(r=>{var{wu:u,qu:f}=r.vi,l=Math.cos(n*(u-e)),c=Math.cos(n*(u+e));r.fi=6378*Math.acos((l-c+(l+c)*Math.cos(n*(f-s)))/2),isFinite(r.fi)||(r.fi=22e3)})}function qv(i,t,n=!0){return!i&&n?null:(typeof i=="string"&&(i=JSON.parse(i)),{lat:i?.lat||t?.lat||40,lon:i?.lon||t?.lon||40,flag:i?.flag||t?.flag||"tr"})}function mv(){return Mu.Th()}function Cv(i){try{var t=new Mu;return t.S1(i),t}catch(n){throw n instanceof jc?n:n instanceof SyntaxError?Au(Ru.to,n.lineNumber):Au(Ru.no,n)}}function gv(i){return i.g1()}function Iu(i,t=1){if(t<=0){i();return}Promise.resolve().then(()=>{Iu(i,t-1)})}function Pv({token:i="",rcr:t=""}){return new Promise(n=>{Ce.Oc({_t:i,Op:t},(e,s)=>{n({code:0,value:s})},e=>{n({code:1,value:e})}).catch(e=>{n({code:2,value:e})})})}Rn.s3=Rn.Jp||(Rn.Jp={Kp:sv,Vp:rv,$h:yv,bp:wv,dp:uv,Be:hv,Fc:fv,Gc:ov,xp:lv,Hp:cv,Lc:vv,In:av,Qp:pv,Xp:Iu,Wh:Ce.Wh,Dh:qv,Yp:Cv,bh:gv,$p:mv,Hr:Dc,zr:nv,jr:ev,Wp:Pv})});var _u=N((Cp,An)=>{var{ni:Bu}=L(),{Ih:Sv,Os:kv,fc:Tv,tu:Nv,Bh:Rv,Is:Av,Bs:Ev,nu:Mv,eu:Ov,su:Iv,ru:Fu,Fs:Bv,Gs:Fv,uu:Gv,Fh:Lv,hu:_v,fu:Uv,Gh:Jv,Lh:Kv,_h:Vv,oc:bv,Uh:dv,Jh:xv,Kh:Gu,ou:Hv,lu:Qv,cu:Xv}=et(),Lu=ai();An.s3=An.Zp||(An.Zp={create:i=>{var t=Bu.oh.get(i);if(t){var n=Object.create(t.prototype);return n.V=0,n}},createFromStream:i=>Bu.q(i,!0),checkConsistency:i=>Tv.t(i),sendAnnouncement:(i,t=-1,n=0,e=1)=>Sv.t(i,t,n,e),sendChatIndicator:i=>kv.t(i?0:1),sendInput:i=>Nv.t(i),sendChat:i=>Rv.t(i),joinRoom:(i,t,n,e,s,r)=>Av.t(i,t,n,e,s,r),setHeadlessAvatar:(i,t)=>xv.t(i,t),kickBanPlayer:(i,t,n)=>Ev.t(i,t,n),reorderPlayers:(i,t)=>bv.t(i,t),startGame:()=>Mv.t(),stopGame:()=>Ov.t(),pauseResumeGame:i=>Iv.t(i),setScoreLimit:i=>Fu.t(0,i),setTimeLimit:i=>Fu.t(1,i),setStadium:i=>Bv.t(i),setPlayerTeam:(i,t)=>{var n=Lu.s[t];if(n)return Fv.t(i,n)},setTeamsLock:i=>Gv.t(i),setPlayerAdmin:(i,t)=>Lv.t(i,t),autoTeams:()=>_v.t(),setPlayerSync:i=>Uv.t(i),ping:i=>{var t=new Jv;return t.xt=i,t},setAvatar:i=>Kv.t(i),setTeamColors:(i,t)=>{var n=Lu.s[i];if(n)return Vv.t(n,t)},setKickRateLimit:(i,t,n)=>dv.t(i,t,n),setDiscProperties:(i,t)=>Gu.t(i,!1,t),setPlayerDiscProperties:(i,t)=>Gu.t(i,!0,t),customEvent:(i,t)=>Hv.t(i,t),binaryCustomEvent:(i,t)=>Qv.t(i,t),setPlayerIdentity:(i,t)=>Xv.t(i,t)})});var Ne=N((gp,Xu)=>{var{te:Uu,Un:Ju}=E(),En=O(),{ni:Ku}=L(),{ji:Mn}=D(),{Tt:ge}=B(),Pe=ai(),{fh:Yv}=$n(),{Ih:$v,Os:Vu,tu:Wv,Bh:Se,Is:Zv,Bs:ke,nu:zv,eu:jv,su:Dv,ru:bu,Fs:i0,Gs:t0,uu:n0,Fh:du,hu:e0,fu:s0,Lh:Te,oc:r0,Uh:xu,_h:Hu,Jh:u0,Kh:Qu,ou:h0,lu:f0,cu:o0}=et();function l0(i,t,n,e,s){var r=t.St,u=e;Object.defineProperty(this,"config",{get(){return u}}),Object.defineProperty(this,"sdp",{get(){return t.Ei?null:t.e?.r.ui.Fi.remoteDescription.sdp}}),Object.defineProperty(this,"isHost",{get(){return t.Ei}}),Object.defineProperty(this,"currentPlayerId",{get(){return t.e?.r.Pn}}),Object.defineProperty(this,"currentPlayer",{get(){var h=t.e?.r.Pn;return t.e?.r.i.F.filter(v=>v.n==h)[0]}}),Object.defineProperty(this,"state",{get(){return t.e?.r?.i}}),Object.defineProperty(this,"stateExt",{get(){return t.e?.r?.i?.ti}}),Object.defineProperty(this,"gameState",{get(){return t.et?.f}}),Object.defineProperty(this,"gameStateExt",{get(){return t.et?.f?.ti}}),Object.defineProperty(this,"currentFrameNo",{get(){return t.e?.r?.k}}),Object.defineProperty(this,"banList",{get(){return t.e?.r?.hi?.Ut?.zp()}}),Object.defineProperty(this,"token",{get(){return t.e?.r?.hi?._t},set(h){var v=t.e?.r?.hi;v&&(v._t=h,v.mu(),t.e.Qe=null,v.tf=Uu(()=>{v.Cu(),this._onRoomTokenChange?.(v._t)},2*v._c))}}),Object.defineProperty(this,"requireRecaptcha",{get(){return t.e?.r?.hi?.nf},set(h){t.e?.r?.hi?.ef(h)}}),Object.defineProperty(this,"name",{get:function(){return t.e?.r?.i.P}}),Object.defineProperty(this,"password",{get:function(){return t.e?.r?.wt}}),Object.defineProperty(this,"geo",{get:function(){return t.e?.r?.ar}}),Object.defineProperty(this,"maxPlayerCount",{get:function(){var h=t.e?.r?.Xe;return h==null?null:h+1}}),Object.defineProperty(this,"fakePassword",{get:function(){return t.e?.r?.Ye}}),Object.defineProperty(this,"fixedPlayerCount",{get:function(){return t.e?.r?.pr}}),Object.defineProperty(this,"showInRoomList",{get:function(){return t.e?.r?.gu}}),Object.defineProperty(this,"unlimitedPlayerCount",{get:function(){return t.e?.r?.$e}}),Object.defineProperty(this,"link",{get:function(){return t.e?.Qe}}),Object.defineProperty(this,"timeLimit",{get:function(){return t.e?.r.i.Bi}}),Object.defineProperty(this,"scoreLimit",{get:function(){return t.e?.r.i.Li}}),Object.defineProperty(this,"redScore",{get:function(){var h=t.et?.f;return(h?.ti||h)?.Gt}}),Object.defineProperty(this,"blueScore",{get:function(){var h=t.et?.f;return(h?.ti||h)?.Ft}}),Object.defineProperty(this,"timeElapsed",{get:function(){var h=t.et?.f;return(h?.ti||h)?.an}}),Object.defineProperty(this,"stadium",{get:function(){return t.e?.r.i.T}}),Object.defineProperty(this,"players",{get:function(){return t.e?.r.i.F}}),this.zn=-1;var f=null;if(t.Uc){let h=function(a,C,T){for(var A=0,R=0;A<a.length&&R<C.length;){for(;A<a.length&&R<C.length&&a[A]==C[R]&&a[A]!=T;)A++,R++;if(a[A]==T)break;for(;A<a.length&&R<C.length&&a[A]!=C[R]&&a[A]!=T;)A++;if(a[A]==T)break}C[R]!=T&&C.splice(R,0,T)},v=function(a){Object.defineProperty(l,a,{get(){return u[a]},set(C){u[a]=C}})},w=function(a){v(a+"Before"),v(a),v(a+"After")};var S=h,m=v,P=w;this.libraries=n||[],this.librariesMap=this.libraries.reduce((a,C)=>(a[C.P]=C,a),{}),this.renderer=r,this.plugins=s||[],this.pluginsMap=this.plugins.reduce((a,C)=>(a[C.P]=C,a),{}),f=this.plugins.filter(a=>a.active);var l=this;this.setConfig=function(a){var C=u;C.finalize?.(),C.h=null,a=a||{},a.h=l,a.initialize?.(),l.Pu.jn=a,u=a,l._onConfigUpdate?.(C,a)},this.mixConfig=function(a){Object.keys(a).forEach(C=>{var T=a[C];if(typeof T=="function"){var A=u[C];A?typeof A=="function"&&(u[C]=function(...R){A(...R),T(...R)}):u[C]=T}})},this.setRenderer=function(a){r&&(r.finalize?.(),r.h=null),a&&(a.h=l,a.initialize?.());var C=r;l.renderer=a,l.Pu.St=a,t.St=a,r=a,l._onRendererUpdate?.(C,a)};var c=this.setPluginActive=function(a,C){var T=l.plugins.filter(R=>R.P==a)[0],A;if(!(!T||T.active==C))if(C){if(A=f.findIndex(R=>R.P==a),A>=0)return;h(l.plugins,f,T),T.active=C,l._onPluginActiveChange?.(T)}else{if(A=f.findIndex(R=>R.P==a),A<0)return;T.active=C,l._onPluginActiveChange?.(T),f.splice(A,1)}};this._modifyPlayerData=function(a,C,T,A,R,U){var I=[C,T,A],ii;return u.modifyPlayerDataBefore&&([I,ii]=u.modifyPlayerDataBefore(a,I[0],I[1],I[2],R,U)),ii!==!1&&(f.forEach($=>{$.modifyPlayerData&&I&&(I=$.modifyPlayerData(a,I[0],I[1],I[2],R,U,ii))}),u.modifyPlayerData&&I&&(I=u.modifyPlayerData(a,I[0],I[1],I[2],R,U,ii)),u.modifyPlayerDataAfter&&I&&(I=u.modifyPlayerDataAfter(a,I[0],I[1],I[2],R,U,ii))),I},w("modifyPlayerData"),this._modifyPlayerPing=function(a,C){var T;return u.modifyPlayerPingBefore&&([C,T]=u.modifyPlayerPingBefore(a,C)),T!==!1&&(f.forEach(A=>{A.modifyPlayerPing&&(C=A.modifyPlayerPing(a,C,T))}),u.modifyPlayerPing&&(C=u.modifyPlayerPing(a,C,T)),u.modifyPlayerPingAfter&&(C=u.modifyPlayerPingAfter(a,C,T))),C},w("modifyPlayerPing"),this._modifyClientPing=function(a){var C;return u.modifyClientPingBefore&&([a,C]=u.modifyClientPingBefore(a)),C!==!1&&(f.forEach(T=>{T.modifyClientPing&&(a=T.modifyClientPing(a,C))}),u.modifyClientPing&&(a=u.modifyClientPing(a,C)),u.modifyClientPingAfter&&(a=u.modifyClientPingAfter(a,C))),a},w("modifyClientPing"),this._modifyFrameNo=function(a){var C;return u.modifyFrameNoBefore&&([a,C]=u.modifyFrameNoBefore(a)),C!==!1&&(f.forEach(T=>{T.modifyFrameNo&&(a=T.modifyFrameNo(a,C))}),u.modifyFrameNo&&(a=u.modifyFrameNo(a,C)),u.modifyFrameNoAfter&&(a=u.modifyFrameNoAfter(a,C))),a},w("modifyFrameNo"),this._onOperationReceived=function(a,C,T,A){var R=u.onBeforeOperationReceived?.(a,C,T,A),U=R!==!1,I;return f.forEach(ii=>{I=ii.onOperationReceived,U&&I&&!I(a,C,T,A,R)&&(U=!1)}),I=u.onOperationReceived,U&&I&&!I(a,C,T,A,R)&&(U=!1),I=u.onAfterOperationReceived,U&&I&&!I(a,C,T,A,R)&&(U=!1),U},v("onBeforeOperationReceived"),v("onOperationReceived"),v("onAfterOperationReceived");var o=function(a,C){l["_on"+a]=function(...T){var A=u["onBefore"+a]?.(...T);A!==!1&&(f.forEach(R=>{R["on"+a]?.(...T,A)}),u["on"+a]?.(...T,A),r?.["on"+a]?.(...T,A),u["onAfter"+a]?.(...T,A))},v("onBefore"+a),v("on"+a),v("onAfter"+a)};Yv.forEach(({P:a,R2:C})=>{o(a,C)})}this.setProperties=function(h){t.Ei&&t.e?.jp?.(h)},this.setKickRateLimit=function(h,v,w){var a=xu.t(h,v,w);t.Q(a)!=!1&&t.e?.r.B(a)},this.executeEvent=function(h,v){t.Q(h,void 0,v)!=!1&&t.e?.r?.B(h)},this.clearEvents=function(){var h=t.e?.r?.gn;h&&(h.tt.length=0)},this.sendCustomEvent=function(h,v,w){var a=t.e?.r;if(!(!a?.i||w!=null&&!a.i.z(w)?.kn)){var C=h0.t(h,v);t.Q(C,w)!=!1&&(t.Ei?w!=null?t.We.then(()=>{a.Ze(C,w)}):a.Su(C,0,!0):a.sf&&a.B(C))}},this.sendBinaryCustomEvent=function(h,v,w){var a=t.e?.r;if(!(!a?.i||w!=null&&!a.i.z(w)?.kn)){var C=f0.t(h,v);t.Q(C,w)!=!1&&(t.Ei?w!=null?t.We.then(()=>{a.Ze(C,w)}):a.Su(C,0,!0):a.sf&&a.B(C))}},this.setPlayerIdentity=function(h,v,w){var a=t.e?.r;if(!(!a?.i||w!=null&&!a.i.z(w)?.kn)){var C=o0.t(h,v);t.Q(C,w)!=!1&&(t.Ei?w!=null?t.We.then(()=>{a.Ze(C,w)}):a.Su(C,0,!0):a.sf&&a.B(C))}},this.setHandicap=function(h){t.e?.r.za(h)},this.clearBan=function(h){t.Ei&&t.e?.r.Dp(h)},this.clearBans=function(){t.Ei&&t.e?.r.iy()},this.addPlayerBan=function(h){if(t.Ei){var v=t.e?.r.i.F.filter(w=>w.n==h)[0];if(v)return t.e?.r.ty(v)}},this.addIpBan=function(...h){if(t.Ei)return t.e?.r.ny(...h)},this.addAuthBan=function(...h){if(t.Ei)return t.e?.r.ey(...h)},this.removeBan=function(h){if(t.Ei)return t.e?.r.sy(h)},this.setAvatar=function(h){h=h?.substr(0,2)||"",l.Pu.yi.Wt.setValue("avatar",h);var v=Te.t(h);t.Q(v)!=!1&&t.e?.r.B(v)},this.setPlayerAvatar=function(h,v,w){if(!(!t.Ei&&(w||h!=t.e.r.Pn))){var a=w?u0.t(h,v):Te.t(v);t.Q(a,void 0,w?0:h)!=!1&&t.e?.r.B(a)}},this.reorderPlayers=function(h,v){var w=r0.t(h,v);t.Q(w)!=!1&&t.e?.r.B(w)},this.setChatIndicatorActive=function(h){var v=Vu.t(h?0:1);t.Q(v)!=!1&&t.e?.r.B(v)},this.setTeamColors=function(h,v,...w){var a=Hu.Mh(h,v,...w);t.Q(a)!=!1&&t.e?.r.B(a)},this.setUnlimitedPlayerCount=function(h){t.e?.ry?.(h)},this.setFakePassword=function(h){t.e?.uy?.(h)};var p=function(h,v){var w=t.e?.r;if(w){var a=Se.t(h);t.Q(a,v)!=!1&&(v!=null?t.We.then(()=>{w.Ze(a,v)}):w.B(a))}};this.sendChat=function(h,v){if(t.Ei){p(h,v);return}var w=t.e?.r;if(w){var a=Se.t(h);t.Q(a)!=!1&&w.B(a)}},this.sendChatIndicator=function(h){t.e?.hy(h)},this.sendAnnouncement=function(h,v,w=-1,a="",C=1){if(t.Ei){var T=t.e?.r;if(T){var A=$v.t(h,w,{bold:1,italic:2,small:3,"small-bold":4,"small-italic":5}[a]||0,C);t.Q(A,v)!=!1&&(v!=null?t.We.then(()=>{T.Ze(A,v)}):T.B(A))}}},this.setDiscProperties=function(h,v){if(t.Ei){var w=t.e?.r;if(w){var a=Qu.t(h,!1,v);t.Q(a)!=!1&&w.B(a)}}},this.setPlayerDiscProperties=function(h,v){if(t.Ei){var w=t.e?.r;if(w){var a=Qu.t(h,!0,v);t.Q(a)!=!1&&w.B(a)}}},this.getKeyState=function(){return t.In},this.setKeyState=function(h){l.zn<0?t.In=h:(h&16)>0&&(t.In&16)>0&&!l.currentPlayer?.Rt?(t.In=h&-17,Uu(()=>{t.In=h},l.zn)):t.In=h},this.extrapolate=function(h){return t.e?.r?.Sn(h)},this.startGame=function(){t.e?.mh()},this.stopGame=function(){t.e?.Ch()},this.pauseGame=function(){t.e?.fy()},this.autoTeams=function(){t.e?.oy()},this.lockTeams=function(){t.e?.ly(!t.et?.An)},this.isGamePaused=function(){return t.et?.f?.ft==120},this.resetTeams=function(){t.e?.Jc(h=>h.I.n!=0)},this.startRecording=function(){return t.e?.Kc(!0)},this.stopRecording=function(){return t.e?.Kc(!1)},this.isRecording=function(){return t.e?.pe!=null},this.randTeams=function(){t.e?.cy()},this.setSync=function(h){t.e?.r?.i.pc(h)},this.leave=function(){t.e?.rf()},this.setCurrentStadium=function(h){t.e?.vy(h)},this.setTimeLimit=function(h){t.e?.Ph(h)},this.setScoreLimit=function(h){t.e?.gh(h)},this.changeTeam=function(h){t.e?.oe(t.e?.r.Pn,Pe.s[h])},this.resetTeam=function(h){t.e?.Jc(v=>v.I.n==h)},this.setPlayerTeam=function(h,v){t.e?.oe(h,Pe.s[v])},this.setPlayerAdmin=function(h,v){var w=du.t(h,v);t.Q(w)!=!1&&t.e?.r?.B(w)},this.kickPlayer=function(h,v,w){var a=ke.t(h,v||"",w);t.Q(a)!=!1&&t.e?.r?.B(a)},this.fakePlayerJoin=function(h,v,w,a,C,T){var A=Zv.t(h,v,w,a,C,T);t.Q(A)!=!1&&t.e?.r?.B(A)},this.fakePlayerLeave=function(h){var v=t.e?.r.i.z(h);if(v){var w=ke.t(h,null,!0);if(t.Q(w)!=!1)return t.e?.r?.B(w),{id:v.n,name:v.P,flag:v.Ai,avatar:v.ki,conn:v.xn,auth:v.Wi}}};function q(h,v){t.Q(v,void 0,h)!=!1&&t.e?.r?.B(v)}this.fakeSendPlayerInput=function(h,v){q(v,Wv.t(h))},this.fakeSendPlayerChat=function(h,v){q(v,Se.t(h))},this.fakeSetPlayerChatIndicator=function(h,v){q(v,Vu.t(h?0:1))},this.fakeSetPlayerAvatar=function(h,v){q(v,Te.t(h))},this.fakeSetStadium=function(h,v){q(v,i0.t(h))},this.fakeStartGame=function(h){q(h,zv.t())},this.fakeStopGame=function(h){q(h,jv.t())},this.fakeSetGamePaused=function(h,v){q(v,Dv.t(h))},this.fakeSetScoreLimit=function(h,v){q(v,bu.t(0,h))},this.fakeSetTimeLimit=function(h,v){q(v,bu.t(1,h))},this.fakeSetTeamsLock=function(h,v){q(v,n0.t(h))},this.fakeAutoTeams=function(h){q(h,e0.t())},this.fakeSetPlayerTeam=function(h,v,w){var a=Pe.s[v];a&&q(w,t0.t(h,a))},this.fakeSetKickRateLimit=function(h,v,w,a){q(a,xu.t(h,v,w))},this.fakeSetTeamColors=function(h,v,w,a){q(a,Hu.Mh(h,v,...w))},this.fakeSetPlayerAdmin=function(h,v,w){q(w,du.t(h,v))},this.fakeKickPlayer=function(h,v,w,a){q(a,ke.t(h,v,w))},this.fakeSetPlayerSync=function(h,v){q(v,s0.t(h))},this.getPlayer=function(h){return t.e?.r.i.z(h)},this.getBall=function(h=!0){var v=t.et?.f;return(h?v?.ti:v)?.a.g[0]},this.getDiscs=function(h=!0){var v=t.et?.f;return(h?v?.ti:v)?.a.g},this.getDisc=function(h,v=!0){var w=t.et?.f;return(v?w?.ti:w)?.a.g[h]},this.getPlayerDisc=function(h,v=!0){var w=t.et?.f,a=(v?w?.ti:w)?.a.g,C=t.et?.T.g;if(!(!a||!C)){for(var T=C.length;T<a.length;T++)if(a[T].K==h)return a[T]}},this.getPlayerDisc_exp=function(h){return t.et?.z(h)?.H},this.takeSnapshot=()=>t.e?.r?.i?.copy(),this.exportStadium=()=>t.e?.r?.i?.bh(),this.createVertex=h=>t.e?.r?.i?.wc(h),this.createSegment=h=>t.e?.r?.i?.qc(h),this.createSegmentFromObj=h=>t.e?.r?.i?.x1(h),this.createGoal=h=>t.e?.r?.i?.mc(h),this.createPlane=h=>t.e?.r?.i?.Cc(h),this.createDisc=h=>t.e?.r?.i?.gc(h),this.createJoint=h=>t.e?.r?.i?.Pc(h),this.createJointFromObj=h=>t.e?.r?.i?.H1(h),this.addVertex=h=>t.e?.r?.i?.Q1(h),this.addSegment=h=>t.e?.r?.i?.X1(h),this.addGoal=h=>t.e?.r?.i?.Y1(h),this.addPlane=h=>t.e?.r?.i?.$1(h),this.addDisc=h=>t.e?.r?.i?.ms(h),this.addJoint=h=>t.e?.r?.i?.W1(h),this.addSpawnPoint=h=>t.e?.r?.i?.Z1(h),this.addPlayer=h=>t.e?.r?.i?.vu(h),this.findVertexIndicesOfSegmentObj=h=>t.e?.r?.i?.Nh(h),this.findVertexIndicesOfSegment=h=>t.e?.r?.i?.z1(h),this.updateVertex=(h,v)=>t.e?.r?.i?.j1(h,v),this.updateSegment=(h,v)=>t.e?.r?.i?.D1(h,v),this.updateGoal=(h,v)=>t.e?.r?.i?.ip(h,v),this.updatePlane=(h,v)=>t.e?.r?.i?.tp(h,v),this.updateDisc=(h,v)=>t.e?.r?.i?.np(h,v),this.updateDiscObj=(h,v)=>t.e?.r?.i?.au(h,v),this.updateJoint=(h,v)=>t.e?.r?.i?.ep(h,v),this.updateSpawnPoint=(h,v,w)=>t.e?.r?.i?.sp(h,v,w),this.updatePlayer=(h,v)=>t.e?.r?.i?.rp(h,v),this.removeVertex=h=>t.e?.r?.i?.up(h),this.removeSegment=h=>t.e?.r?.i?.hp(h),this.removeGoal=h=>t.e?.r?.i?.fp(h),this.removePlane=h=>t.e?.r?.i?.op(h),this.removeDisc=h=>t.e?.r?.i?.Xr(h),this.removeJoint=h=>t.e?.r?.i?.lp(h),this.removeSpawnPoint=(h,v)=>t.e?.r?.i?.cp(h,v),this.removePlayer=h=>t.e?.r?.i?.dh(h),this.updateStadiumPlayerPhysics=h=>t.e?.r?.i?.vp(h),this.updateStadiumBg=h=>t.e?.r?.i?.ap(h),this.updateStadiumGeneral=h=>t.e?.r?.i?.pp(h),this.updatePlugin=function(h,v){var w=l.plugins[h];if(!w)throw Mn(En.Oo,h);var{P:a,active:C}=w;if(a!=v.P)throw Mn(En.Io);C&&c(a,!1),w.finalize?.(),w.h=null,l.plugins[h]=v,l.pluginsMap[a]=v,v.h=l,v.initialize?.(),l._onPluginUpdate?.(w,v),C&&(v.active=!1,c(a,!0))},this.updateLibrary=function(h,v){var w=l.libraries[h];if(!w)throw Mn(En.Bo,h);var{P:a}=w;if(a!=v.P)throw Mn(En.Fo);w.finalize?.(),w.h=null,l.libraries[h]=v,l.librariesMap[a]=v,v.h=l,v.initialize?.(),l._onLibraryUpdate?.(w,v)},i?.(this),t.Uc&&(this.libraries.forEach(h=>{h.h=l,h.initialize?.()}),u.h=l,u.initialize?.(),r&&(r.h=l,r.initialize?.()),this.plugins.forEach(h=>{h.h=l,h.initialize?.()}),f.forEach(h=>{l._onPluginActiveChange?.(h)})),this.startStreaming=({immediate:h=!0,onClientCount:v,emitData:w})=>{var a=t.e?.r;if(!(!t.Ei||l.isRecording()||!a||a.en)){var C=new Map,T=ge.t(16384),A=0;return{onSuccess:()=>{a.en=function(R){if(h){T.p(2),T.Ti(a.k),T.xi(R.s),Ku.w(R,T),w?.(T.Vi()),T.v=0;return}var U=C.get(a.k);U||(U=[],C.set(a.k,U)),U.push(R)}},onDataReceived:R=>{R=new DataView(R.buffer,R.byteOffset,R.byteLength);var U=R.getUint8(0);switch(R=R.getUint16(1),U){case 0:{A=R,v?.(R);break}case 1:{var I=ge.t();I.p(1),I.xi(R);var ii=ge.t();t.e.r.ay(ii),I.Di(Ju.deflateRaw(ii.Vi())),w?.(I.Vi());break}}},interval:()=>{for(var R=C.keys(),U=R.next(),I=a.k;!U.done;){var ii=U.value,$=C.get(ii);T.xi(I-ii),T.xi($.length),$.forEach(ri=>{T.xi(ri.s),Ku.w(ri,T)}),U=R.next()}C.clear();var _=T.Vi();if(T.v=0,A!=0){_=Ju.deflateRaw(_);var Z=new Uint8Array(_.byteLength+5),z=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);z.setUint8(0,0),z.setUint32(1,I),Z.set(_,5),w?.(Z)}}}}},this.stopStreaming=()=>{var h=t.e?.r;!t.Ei||l.isRecording()||!h?.en||(h.en=null)}}Xu.s3=l0});var Re=N((Pp,On)=>{var{zt:Yu,jt:c0,Se:v0,ml:a0,O:p0}=E(),{Dh:y0}=Lt();function w0(i,t){return(Yu.ge?"https":"http")+"://"+Yu.ss+"/play?c="+i+(t?"&p=1":"")}function q0(i){var t=i?.Wt;t||(t=i.Wt={}),t.setValue=(r,u)=>{t[r]=u,t.onValueSet?.(r,u)};var n=t.crappy_router||!1;n!=t.crappy_router&&t.setValue("crappy_router",n),n=t.player_name||"abc",n!=t.player_name&&t.setValue("player_name",n),n=t.avatar||null,n!=t.avatar&&t.setValue("avatar",n);var e={lat:40,lon:40,flag:"tr"};if(!t.geo)t.setValue("geo",e);else{var s=t.geo;n=y0(s,e),(s.lat!=n.lat||s.lon!=n.lon||s.flag!=n.flag)&&t.setValue("geo",n)}}function m0(i){var t=i.yi={yr:new Set,e:null,et:null,A2:null,Ei:!1,We:Promise.resolve(),In:0,St:i.St,Wt:i.Wt,Uc:!i.Vc,bc:function(n,e,s){var r=i.h._onOperationReceived;if(!r)return!0;var u=n.eventType;return u==null?!0:r(u,n,e,s)},Q:function(n,e,s){if(t.Ei)return n.s=s||0,n.Wr=e,t.bc(n,t.e?.r.k,null)}};return i.yi=t,t}function $u(){this.nt=9,this.jt=null,this.Se=null,this.Vc=!1,this.zn=-1,this.St=null,this.jn={},this.wr=[],this.qr=[],this.uf=null,this.hf=null,this.ff=null,this.of=null,this.dc=null,this.xc=null,this.ku=null,this.Wt=null}function C0(i){var t=new $u;return t.nt=i.version==null?a0:i.version,t.jt=i.proxyAgent||c0,t.Se=i.identityToken||v0,t.Vc=i.noPluginMechanism,t.zn=i.kickTimeout||-1,t.St=i.renderer,t.jn=i.config||{},t.wr=i.libraries||[],t.qr=i.plugins||[],t.uf=i.preInit,t.hf=i.onSuccess,t.ff=i.onFailure,t.of=i.onLeave,t.dc=i.onConnectionStateChange,t.xc=i.onReverseConnection,t.ku=i.onRequestRecaptcha,t.Wt=i.storage,t.h=null,q0(t),t}p0($u,["version","proxyAgent","identityToken","noPluginMechanism","kickTimeout","renderer","config","libraries","plugins","preInit","onSuccess","onFailure","onLeave","onConnectionStateChange","onReverseConnection","onRequestRecaptcha","cancel","useRecaptchaToken","storage","room"],[]);On.s3=On.py||(On.py={Hc:w0,Qc:m0,Xc:C0})});var Ee=N((Sp,In)=>{var{te:g0,ke:ju,ne:P0,Sl:Wu,_n:Ae}=E(),Zu=O(),{wl:zu}=ct(),S0=1e4;function k0(){Wu(zu(Zu.Uo)||"NoProxyIdentityProblem");var i=zu(Zu.Jo);i&&Wu(i)}function Du(i){this.Tu=!0,i.Yc(),this.Fi=i.Fi,this.Dn=i.Dn,this.mr=i.mr,this.ye=i.ye,this.$c=Ae.now();var t=this,n,n=function(){var e=S0-(Ae.now()-t.$c);e<=0?t.ri():(ju(t.Wc),t.Wc=g0(n,e+1e3))};n(),this.Fi.oniceconnectionstatechange=function(){var e=t.Fi.iceConnectionState;e!="closed"&&e!="failed"||t.ri()},this.Dn.forEach(e=>{e.onmessage=function(s){t.Tu&&(t.$c=Ae.now(),t.lf?.(s.data))},e.onclose=function(){t.ri()}})}Du.prototype={qt:function(i,t){if(this.Tu){var n=this.Dn[i];if(n.readyState=="open")try{n.send(t.Vr())}catch(e){P0(e)}}},ri:function(){ju(this.Wc),this.Tu&&(this.Tu=!1,this.Fi.close(),this.Nu?.())}};In.s3=In.yy||(In.yy={Zc:[{P:"c1",cf:!0,vf:!0},{P:"c2",cf:!0,vf:!1},{P:"c3",cf:!1,vf:!1}],zc:k0,jc:Du})});var Me=N((kp,nh)=>{var{te:ih,ke:th,ne:T0,Rl:N0,O:R0}=E(),{Hr:A0}=B();function _t(i,t,n){this.ze=null,this.ye=null,this.mr=[],this.Dc=0,this.iv=!1,this.Ru=[],this.Dn=[],this.Fi=t&&new N0({iceServers:t},_t.wy);var e=this;this.af=new Promise(s=>{e.qy=s}),this.n=i,t&&(this.Fi.onicecandidate=function(s){if(!s.candidate){e.qy(e.Ru);return}s=s.candidate,s.candidate&&(e.pf?.(s),e.Ru.push(s))},n.forEach(s=>e.my(s)))}_t.wy={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};_t.prototype={yf:function(i=1e4){th(this.ze),this.ze=ih(this.Au.bind(this),i)},Cy:function(i,t){var n=this;this.tv(this.Fi.setRemoteDescription(i).then(()=>n.Fi.createAnswer()),t,500)},gy:function(){this.tv(this.Fi.createOffer(),[],1e3)},tv:function(i,t,n){var e=this;i.then(s=>e.Fi.setLocalDescription(s).then(()=>s)).then(s=>(t.forEach(r=>e.nv(r)),A0(e.af,n).then(()=>s,()=>s))).then(s=>{e.Cr(s)}).catch(s=>{T0(s),e.Eu()})},my:function(i){var t=this,n={id:this.Dn.length,negotiated:!0,ordered:i.vf};i.cf||(n.maxRetransmits=0);var e=this.Fi.createDataChannel(i.P,n);e.binaryType="arraybuffer",e.onopen=function(){t.Dn.find(s=>s.readyState!="open")||t.gr?.()},e.onclose=this.Eu,e.onmessage=this.Eu,this.Dn.push(e)},nv:function(i){var t=this;ih(()=>{t.Fi.addIceCandidate(i)},this.Dc)},Au:function(){this.Eu()},Eu:function(){this.je?.(),this.ri?.()},ri:function(){this.Yc(),this.Fi.close()},Yc:function(){th(this.ze),this.Cr=this.gr=this.pf=this.je=null,this.Fi.onicecandidate=null,this.Fi.ondatachannel=null,this.Fi.onsignalingstatechange=null,this.Fi.oniceconnectionstatechange=null,this.Dn.forEach(i=>{i.onopen=null,i.onclose=null,i.onmessage=null})}};R0(_t,[null,null,null,null,null,null,null,null,null,"id"],[]);nh.s3=_t});var sh=N((Tp,eh)=>{var{O:Oe}=E(),{zr:E0}=rt(),pi=O(),{Fc:mi,Gc:M0,Lc:O0}=Lt(),Bn=340282366920938463463374607431768211455n;function Ut(){this.Mu=!1,this.value=null,this.Bn=null}Ut.t=function(i,t){if(i==null)return;let n=new Ut,e=i.__proto__.constructor.name;return n.Mu=e=="BigInt",n.value=i,n.Bn=e!=t?.__proto__.constructor.name?n.Mu?Bn:-1:t,n};function st(){this.n=null,this.W=null,this.value=null}st.t=function(i,t,n){var e=new st;return e.n=i,e.W=t,e.value=n,e};st.prototype={Ou:function(){var i=new st;return i.n=this.n,i.W=this.W,i.value=this.value.Ou?this.value.Ou():this.value,i}};function kt(){this.Pr=null,this.wf=null,this.we=null,this.Wi=null}kt.t=function(i,t,n,e){var s=new kt;return s.Pr=i,s.wf=t,s.we=n,s.Wi=e,s};kt.prototype={Ou:function(){var i=new kt;return i.Pr=this.Pr,i.wf=this.wf,i.we=this.we,i.Wi=this.Wi,i}};function I0(i){var t=[],n=1,e=new Set,s=[];this.vu=f=>{var l=i.le.get(f?.n)?.ui;if(!(!l||t.findIndex(o=>o.W==pi.Ce&&o.value.Pr==f.n)>-1)){var c=[];return l.ye&&c.push(E0(l.ye)),l.mr.forEach(o=>{c.includes(o)||c.push(o)}),c.forEach(o=>{var p=mi(o);p&&s.push(Ut.t(p))}),e.add(f.Wi),t.push(st.t(n,pi.Ce,kt.t(f.n,f.name,c,f.Wi))),n++}},this.ev=(...f)=>f.map(l=>{var c=typeof l;if(c=="string")l={Sr:l};else if(c=="object")l={Sr:l.ip,Bn:l.mask};else return;var o=mi(l.Sr);if(o==null)return;let p=o.__proto__.constructor.name=="BigInt";var q=mi(l.Bn);o.__proto__.constructor.name!=q?.__proto__.constructor.name&&(q=p?Bn:-1,l.Bn=M0(q));for(var S=0;S<t.length;S++){let m=t[S];if(m.W==pi.ns&&o==mi(m.value.Sr)&&q==mi(m.value.Bn))return}return s.push(Ut.t(o,q)),t.push(st.t(n,pi.ns,l)),n++}),this.Py=(...f)=>f.map(l=>{if(!e.has(l))return t.push(st.t(n,pi.es,l)),e.add(l),n++}),this.qf=f=>{let l=mi(f);if(l==null)return!1;let c=l.__proto__.constructor.name=="BigInt";for(var o=0;o<s.length;o++){let p=s[o];if(c==p.Mu&&O0(l,p.value,p.Bn))return!0}return!1},this.Sy=f=>e.has(f);let r=(f,l)=>{let c=mi(f);if(c==null)return;let o=c.__proto__.constructor.name=="BigInt";var p=mi(l);p==null&&(p=o?Bn:-1);let q=p==(o?Bn:-1);for(var S=[],m=0;m<s.length;m++){let P=s[m];o==P.Mu&&c==P.value&&p==P.Bn&&S.push(m)}for(;S.length>0;)s.splice(S.pop(),1);for(S.length=0,t.forEach((P,h)=>{q&&P.W==pi.Ce&&P.value.we.findIndex(v=>mi(v)==c)>-1?(P.W=pi.es,P.value=P.value.Wi):P.W==pi.ns&&c==mi(P.value.Sr)&&p==mi(P.value.Bn)&&S.push(h)});S.length>0;)t.splice(S.pop(),1)},u=f=>{e.delete(f);var l=[],c=[];for(t.forEach((o,p)=>{o.W==pi.Ce&&f==o.value.Wi?(c.splice(c.length,0,...o.value.we),l.push(p)):o.W==pi.es&&f==o.value&&l.push(p)});l.length>0;)t.splice(l.pop(),1);this.ev(...c)};this.ky=f=>{var l=t.findIndex(p=>p.n==f);if(l<0)return!1;var{W:c,value:o}=t.splice(l,1)[0];switch(c){case pi.Ce:o.we.forEach(p=>{r(p)}),u(o.Wi);break;case pi.ns:r(o.Sr,o.Bn);break;case pi.es:u(o);break}return!0},this.dh=f=>{var l=t.findIndex(o=>o.W==0&&o.value?.Pr==f);if(l<0)return!1;var{value:c}=t.splice(l,1)[0];return c.we.forEach(o=>{r(o)}),u(c.Wi),!0},this.Ty=()=>{e.clear(),s.length=0,t.length=0},this.zp=()=>t.map(f=>f.Ou())}Oe(Ut,["ipv6","value","mask"],[]);Oe(st,["id","type","value"],[]);Oe(kt,["pId","pName","ips","auth"],[]);eh.s3=I0});var qh=N((Rp,wh)=>{var lh=O(),{Gr:Jt,zt:rh,du:B0,te:Kt,ke:Fn,rs:F0,us:uh,ne:G0,xu:hh,_n:Ln,Un:_n,Hu:fh,Qu:L0,O:Np}=E(),{ni:Gn}=L(),{ji:ch}=D(),{jr:_0,kh:U0}=rt(),{Zc:J0,zc:K0,jc:V0}=Ee(),b0=Me(),vh=qt(),d0=sh(),{Ll:oh,tn:Vt,Tt:si,Ea:ah,nh:x0,ii:H0}=B(),Q0=pe(),X0=me(),{fc:Y0,Fs:$0,ou:W0,lu:Z0,cu:z0}=et();function bt(i,t){this.si=i,this.nf=!1,this.De=!1,this.Iu=!1,this.ie=null,this.n="",this.Ny=5e4,this._c=1e4,this.qe=new Map,this._t=t||"",this.Cu()}bt.sv=function(i){try{if(i=i.candidate.split(" "),i[6]!="typ")throw null;if(i[7]=="srflx")return i[4]}catch{}return null};bt.prototype={ri:function(){if(Fn(this.tf),Fn(this.is),this.is=null,uh(this.rv),this.Y!=null)try{this.Y.onmessage=null,this.Y.onerror=null,this.Y.onclose=null,this.Y.onopen=null,this.Y.close(),this.Y=null}catch{}this.uv()},mf:function(i){if(!(!this.ie&&!i)){var t=this;if(this.ie!=null&&i!=null&&this.ie.byteLength==i.byteLength){var n=new Uint8Array(this.ie),e=new Uint8Array(i);if(n.findIndex((s,r)=>s!=e[r])<0)return}this.ie=i.slice(0),this.Iu=!0,this.Y!=null&&this.Y.readyState==1&&!this.is&&(this.Cf(),this.is=Kt(function(){t.is=null,t.Y.readyState==1&&t.Iu&&t.Cf()},1e4))}},ef:function(i){var t=this;function n(){t.Y!=null&&t.Y.readyState==1&&t.De!=t.nf&&t.hv(),t.fv=null}this.De=i,!this.fv&&(n(),this.fv=Kt(n,1e3))},Cu:function(i){var t=this;Q0.Oc({_t:i||this._t||""},(n,e)=>{if(t.si.useRecaptchaToken=null,!n||!e)throw null;Jt?.Xu&&(n=Jt?.Xu),n.endsWith("host")||(n.endsWith("/")||(n+="/"),n+="host");var s=t.si.Se;!Jt&&s&&(K0(),s=null);var r=s?[s]:[];if(t.si.jt||Jt?.Ur){var u={};t.si.jt&&(u.agent=t.si.jt),Jt.Ur&&(u.headers={Origin:(rh.ge?"https":"http")+"://"+rh.ss}),t.Y=new hh(n+"?token="+e,r,u)}else t.Y=new hh(n+"?token="+e,r);t.Y.binaryType="arraybuffer",t.Y.onopen=function(){t.Ry()},t.Y.onclose=function(f){t.mu(f.code!=4001)},t.Y.onerror=function(){t.mu(!0)},t.Y.onmessage=t.gf.bind(t)},n=>{if(!n)throw null;if(t.si.useRecaptchaToken=e=>{t.si.useRecaptchaToken=null,t.Cu(e)},!t.si.ku)throw ch(lh.So);t.si.ku(n)}).catch(function(n){G0(n),t.si.useRecaptchaToken=null,t.mu(!0)})},Ry:function(){var i=this;this.ie!=null&&this.Cf(),this.De!=0&&this.hv(),this.rv=F0(function(){i.Ay()},4e4)},gf:function(i){var t=new Vt(new DataView(i.data),!1);switch(t.A()){case 1:this.Pf(t);break;case 4:this.Sf(t);break;case 5:this.Ey(t);break;case 6:this.My(t);break;case 111:this.Oy(t);break}},Oy:function(i,t){Kt(()=>{try{this.si.h?.i.Oh(i.oi(),i.ls())}catch{t&&this.ts(t,4111)}},3e3)},Pf:function(i){var t=i.oi(),n=_0(i.bi(i.A()));try{i=new Vt(new DataView(_n.inflateRaw(i.bi()).buffer),!1);var e=i.A()!=0,s=i.mt(),r=[];i.ls().forEach(u=>r.push(new fh(u))),this.Iy(t,n,s,r,i,e)}catch{this.ts(t,0)}},Iy:function(i,t,n,e,s,r){var u=this;if(this.qe.size>=16){this.ts(i,4104);return}else if(this.Ut.qf(t)){this.ts(i,4102);return}for(var f=[],l=0;l<e.length;l++){var c=bt.sv(e[l]);if(c!=null){if(this.Ut.qf(c)){this.ts(i,4102);return}f.push(c)}}var o=this.kf?.(s);if(o!=null){this.ts(i,o);return}var p=new b0(i,B0,J0);for(r&&(p.Dc=2500),p.mr=f,p.ye="",l=0;l<t.length;l++)p.ye+=U0(t.charCodeAt(l));this.qe.set(i,p),p.je=()=>{u.Fn(0,p,null),u.qe.delete(p.n)},p.gr=()=>{u.qe.delete(p.n),u.Fn(0,p,null),u.Tf?.(new V0(p))},p.Cr=q=>{u.Nf(p,q,p.Ru,null),p.af.then(()=>{u.Fn(0,p,null)}),p.pf=S=>{u.Rf(p,S)}},p.yf(),p.Cy(new L0({sdp:n,type:"offer"}),e)},Sf:function(i){var t=i.oi(),n;try{i=new Vt(new DataView(_n.inflateRaw(i.bi()).buffer),!1),n=new fh(i.ls())}catch{return}this.By(t,n)},By:function(i,t){var n=this.qe.get(i);if(n){var e=bt.sv(t);e!=null&&(n.mr.push(e),this.Ut.qf(e))||n.nv(t)}},Ey:function(i){this.n=i.Te(i.A()),this.Af?.(this.n)},My:function(i){this._t=i.Te(i.R.byteLength-i.v)},Fn:function(i,t,n){if(!t.iv){i==0&&(t.iv=!0);var e=si.t(32,!1);e.p(i),e.Ti(t.n),n!=null&&e.Di(_n.deflateRaw(n.Vi())),this.Y.send(e.ee())}},ts:function(i,t){var n=si.t(16,!1);n.p(0),n.Ti(i),n.xi(t),this.Y.send(n.ee())},Ay:function(){var i=si.t(1,!1);i.p(8),this.Y.send(i.ee())},Cf:function(){this.Iu=!1;var i=si.t(256,!1);i.p(7),this.ie!=null&&i.br(this.ie),this.Y.send(i.ee())},hv:function(){var i=si.t(2,!1);i.p(this.si.nt),i.p(this.De?1:0),this.Y.send(i.ee()),this.nf=this.De,this.si.h._onRoomRecaptchaModeChange?.(this.De)},Nf:function(i,t,n,e){var s=si.t(32,!1);s.Ct(t.sdp),s.dr(n),e!=null&&s.Di(e.Vi()),this.Fn(1,i,s)},Rf:function(i,t){var n=si.t(32,!1);n.dr(t),this.Fn(4,i,n)},uv:function(){for(var i of this.qe)i[1].ri();this.qe.clear()},mu:function(i){this.uv(),Fn(this.is),this.is=null,this.Iu=!1,uh(this.rv),Fn(this.tf);var t=this;i&&(this.tf=Kt(()=>t.Cu(),this._c+this.Ny*Math.random()|0))}};function ph(i){this.ov=new Map,this.Fy=new ah(100,16),this.Gn=!1,this.Me=0,this.ui=i;var t=si.t(8);t.C(Math.random()),this.kr=t.Vi()}ph.prototype={qt:function(i,t=0){this.ui.qt(t,i)}};function yh(i,t){if(this.si=i,this.wt=null,this.Xe=32,this.le=new Map,this.kt=[],this.Bu=4,this.Gy=600,vh.call(this,t?.i),this.nt=t?.nt,this.Ly=1,this.lv=0,this.$e=!1,this.gu=!0,this.pr=null,this.Ye=null,this.He=Ln.now(),this.hi=t&&new bt(i,t._t),!!t){this.hi.Ut=new d0(this),this.hi.kf=this.kf.bind(this);var n=this;this.hi.Tf=function(e){n.Tf(e)},this.hi.Af=function(e){n.Af?.(e)}}}yh.prototype=H0(vh.prototype,{ri:function(){this.hi.ri(),this.kt.forEach(({ui:i})=>{i.Nu=null,i.lf=null,i.ri()})},_y:function(i,t,n,e){var s=this.le.get(i.n);if(s){e&&this.hi.Ut.vu(i);var r=si.t();r.p(5),r.p(e?1:0),r.Ct(t),r.Ct(n||""),s.qt(r),s.ui.ri()}},iy:function(){this.hi.Ut.Ty()&&this.si.h._onBansClear?.()},Dp:function(i){this.hi.Ut.dh(i)&&this.si.h._onBanClear?.(i)},ty:function(i){return this.hi.Ut.vu(i)},ny:function(...i){return this.hi.Ut.ev(...i)},ey:function(...i){return this.hi.Ut.Py(...i)},sy:function(i){return this.hi.Ut.ky(i)},mf:function(i){this.hi.mf(i)},ef:function(i){this.hi.ef(i)},B:function(i){i.Si=i.Z.ci?this.k+this.Bu+this.At:this.k,this.Cs(i),this.Fu(),this.kt.length>0&&this.Tr(this.Gu(i),1)},Su:function(i,t,n){if(i.s=t,n)i.b(this.i),this.Uy(i,1);else{if(this.kt.length==0)return;i.Si=i.Z.ci?this.k+this.Bu+this.At:this.k,this.Cs(i),this.Fu(),this.Tr(this.Gu(i),1)}},Ze:function(i,t,n){if(t==0){i.b(this.i);return}var e=this.le.get(t);if(e){n||(i.s=0);var s=si.t();s.p(6),Gn.w(i,s),e.qt(s,0)}},Xi:function(){var i=((Ln.now()-this.He)*this.nn|0)-this.k;i>0&&this.Xl(i),this.k-this.cv>=7&&this.Fu(),this.k-this.lv>=this.Gy&&(this.Fu(),this.Jy())},Sn:function(i=0){return this.At<0&&(this.At=0),this.Yl((Ln.now()-this.He+i)*this.nn-this.k+this.Bu+this.At)},kf:function(i){if(!this.$e&&this.kt.length>=this.Xe)return 4100;try{if(i.di()!=this.nt)throw null}catch{return 4103}try{var t=i.ct();if(this.wt!=null&&t!=this.wt)throw null}catch{return 4101}},Tf:function(i){var t=this;if(!this.$e&&this.kt.length>=this.Xe){i.ri();return}var n=new ph(i);this.kt.push(n),i.lf=s=>{t.Ky(new Vt(new DataView(s)),n)},i.Nu=()=>{oh(t.kt,n),t.le.delete(n.n),t.ce?.(n.n)};var e=si.t(n.kr.byteLength+1);e.p(0),e.Gi(n.kr.byteLength),e.Di(n.kr),n.qt(e)},Gu:function(i){var t=si.t();return t.p(2),this.Ef(i,t),t},Ef:function(i,t){t.Ti(i.Si),t.Gi(i.V),t.xi(i.s),t.Ti(i.re),Gn.w(i,t)},Fu:function(){if(!(this.k<=this.cv||this.kt.length==0)){var i=si.t();i.p(3),i.Ti(this.k),i.Ti(this.ue),this.Tr(i,2),this.cv=this.k}},Tr:function(i,t=0){this.kt.forEach(n=>{n.Gn&&n.qt(i,t)})},Uy:function(i){var t=si.t();t.p(6),Gn.w(i,t);var n=this.si.yi.yr;this.kt.forEach(e=>{e.Gn&&n.has(e.n)&&e.qt(t,0)})},Vy:function(i){var t=si.t();t.p(1);var n=si.t();n.xi(i.n),n.Ti(this.k),n.Ti(this.ue),n.Gi(this.ht),this.i.w(n);var e=this;this.gn.tt.forEach(s=>{e.Ef(s,n)}),t.Di(_n.deflateRaw(n.Vi())),i.qt(t)},ay:function(i){i.Ti(this.k),i.Ti(this.ue),i.Gi(this.ht),this.i.w(i);var t=this;this.gn.tt.forEach(n=>{t.Ef(n,i)})},by:function(i){Kt(()=>{this.i.F.forEach(t=>{t.qh&&this.si.h?.i.Oh(t.n,t.qh,i.n)})},3e3)},Jy:function(){if(this.lv=this.k,this.kt.length!=0){var i=Y0.t(this.i.d1());i.Si=this.k,i.V=this.ht++,i.s=0,this.Tr(this.Gu(i))}},dy:function(i,t){var n=this,e=i.bi(i.Ki()),s=i.bi(i.Ki()),r=t.kr;t.kr=null,X0.Lp(e,r).catch(()=>null).then(u=>{try{if(n.hi.Ut.Sy(u))throw ch(lh._o,u);if(n.kt.indexOf(t)<0)return;var f=n.Ly++;t.n=f,n.le.set(f,t),n.ve?.(f,new Vt(new DataView(s.buffer,s.byteOffset,s.byteLength),!1),t.ui.ye,u),t.Gn=!0,n.Vy(t),n.by(t)}catch(l){n.vv(t,l)}})},Ky:function(i,t){this.Xi();try{if(!t.Fy.Gl())throw 1;var n=i.A();if(t.Gn)switch(n){case 1:this.xy(i,t);break;case 2:this.Hy(i,t);break;default:throw 0}else if(n==0)this.dy(i,t);else throw 0;if(i.R.byteLength>i.v)throw 2}catch(e){this.vv(t,e)}},vv:function(i,t){this.si.onHostError?.(t,i.n),this.le.delete(i.n),oh(this.kt,i),i.Gn&&this.Qy?.(i.n),i.ui.ri()},Hy:function(i,t){var n=i.S(),e=this.si.h._modifyPlayerPing;e&&(t.Me=e(t.n,i.Ki()));var s=si.t();s.p(4),s.C((Ln.now()-this.He)*this.nn+this.Bu),s.C(n),t.qt(s,2)},xy:function(i,t){var n=i.oi(),e=i.oi(),s=Gn.q(i),r=s.Z.ph;if(r!=null){var u=t.ov.get(r);if(u||(u=new ah(r.yh,r.wh),t.ov.set(r,u)),!u.Gl())throw 3}if(s.s=t.n,s.re=e,s.Si=x0(n,this.k,this.k+120),!(s.__proto__.ei==$0&&s.T.g.length==0)&&this.si.yi.bc(s,this.k,n)){if(s.__proto__.ei==W0||s.__proto__.ei==Z0||s.__proto__.ei==z0){this.Su(s,s.s,!0);return}this.Cs(s),this.Tr(this.Gu(s),1)}}});wh.s3=yh});var Ie=N((Ep,Th)=>{var{rs:j0,us:D0,Lr:gh,_r:ia,ne:Ap}=E(),ji=ai(),{Os:Ph,tu:mh,nu:ta,eu:na,su:ea,ru:Ch,Fs:sa,Gs:Tt,uu:ra,hu:ua,fu:ha}=et(),{Np:fa}=ce();function Sh(i){this.Lu=0,this.Xy=i?.yi}Sh.prototype={Xi:function(){var i=this.Xy.In;!this._u||this.Lu==i||(this.Lu=i,this._u(mh.t(i)))},Vh:function(){!this._u||this.Lu==0||(this.Lu=0,this._u(mh.t(0)))}};function kh(i,t){if(this.si=i,this.av=!1,this.pe=null,this.Mf=0,this.Ni=new Sh(i),this.Qe=null,this.pv=!1,this.r=t,!!t){var n=this;t.i.Je=e=>{i.h._onPlayerInputChange?.(e.n,e.Ni)},t.i.ve=e=>{i.h._onPlayerJoin?.(e)},t.i.Us=e=>{i.h._onPlayerBallKick?.(e?.n)},t.i.Ks=e=>{i.h._onTeamGoal?.(e?.n)},t.i.ds=e=>{i.h._onGameEnd?.(e.n)},t.i.ur=(e,s,r)=>{r||i.h._onGamePauseChange?.(s,e?.n)},t.i.xs=function(e){i.h._onGameStart?.(e?.n)},t.i._s=()=>{i.h._onGameTick?.()},t.i.Js=()=>{i.h._onKickOff?.()},t.i.ps=(e,s,r,u)=>{i.h._onCollisionDiscVsDisc?.(e,s.K,r,u.K)},t.i.ys=(e,s,r)=>{i.h._onCollisionDiscVsPlane?.(e,s.K,r)},t.i.ws=(e,s,r)=>{i.h._onCollisionDiscVsSegment?.(e,s.K,r)},t.i.qs=(e,s,r,u)=>{i.h._onCollisionDiscVsVertex?.(e,s.K,r,u)},t.i.Re=(e,s,r)=>{i.h._onModifyJoint?.(e,s,r)},t.i.Ke=(e,s,r,u,f)=>{i.h._onAutoTeams?.(e,s,r,u,f)},t.i.js=(e,s)=>{i.h._onTimeLimitChange?.(e,s)},t.i.zs=(e,s)=>{i.h._onScoreLimitChange?.(e,s)},t.i.Ls=e=>{i.h._onPlayerDiscCreated?.(e)},t.i.$n=e=>{i.h._onPlayerDiscDestroyed?.(e)},t.i.ir=(e,s)=>{i.h._onPlayerAvatarChange?.(e,s)},t.i.Zs=(e,s)=>{i.h._onPlayerHeadlessAvatarChange?.(e,s)},t.i.sr=(e,s)=>{i.h._onPlayersOrderChange?.(e,s)},t.i.Ue=(e,s,r)=>{i.h._onPlayerTeamChange?.(e,s,r)},t.i.Qs=(e,s,r)=>{i.h._onTeamColorsChange?.(e,s,r)},t.i.Hs=(e,s)=>{i.h._onTeamsLockChange?.(e,s)},t.i.Da=(e,s,r)=>{if(i.yi.Ei){var u=t.i.z(e);u&&r==1&&(u.kn=!0,i.yi.yr.add(u.n))}else if(r==0){i.yi.yr.add(e);var u=t.i.z(e);u&&(u.kn=!0),t.sf=!0,u=t.i.z(s),u&&(u.kn=!0),i.yi.yr.add(s),t.B(Ph.t(1,s,1),0,!0)}},t.i.fr=(e,s,r)=>{i.h._onCustomEvent?.(e,s,r)},t.i.or=(e,s,r)=>{i.h._onBinaryCustomEvent?.(e,s,r)},t.i.hr=(e,s,r)=>{i.h._onIdentityEvent?.(e,s,r)},t.i.Ds=(e,s,r,u)=>{i.h._onSetDiscProperties?.(e,s,r,u)},t.i.rr=e=>{i.h._onPingData?.(e)},t.i.E1=()=>i?.h?.hostPing||0,t.i.Vh=()=>{n.Ni.Vh()},t.i.gs=e=>{i.h._onHandicapChange?.(e)},t.i.Vs=()=>{i.h._onTimeIsUp?.()},t.i.bs=()=>{i.h._onPositionsReset?.()},t.i.pc=function(e){e!=n.pv&&(n.pv=e,e=ha.t(e),i.yi.Q(e)!=!1&&t.B(e))},t.i.nr=function(e,s){i.h._onPlayerChat?.(e.n,s)},t.i.er=function(e,s,r,u){i.h._onAnnouncement?.(e,s,r,u)},t.i._e=function(e){i.h._onGameStop?.(e?.n)},t.i.Xs=function(e,s){i.h._onStadiumChange?.(s,e?.n)},t.i.Ys=function(e){i.h._onPlayerSyncChange?.(e?.n,e?.bt)},t.i.$s=function(e,s){i.h._onPlayerAdminChange?.(s?.n,s?.Pt,e?.n)},t.i.Ws=function(e,s,r,u){i.h._onKickRateLimitChange?.(s,r,u,e?.n)},t.i.ce=function(e,s,r,u){e.H&&i.h._onPlayerDiscDestroyed?.(e),n.Yy?.(e.n),s!=null&&n.$y?.(e,s,u?.P,r),i.h._onPlayerLeave?.(e,s,r,u?.n),i.yi.yr.delete(e.n)},t.i.tr=function(e,s){i.h._onPlayerChatIndicatorChange?.(e?.n,!s)},this.Ni._u=function(e){i.yi.Q(e)!=!1&&t.B(e)},this.Ph=function(e){var s=Ch.t(1,e);i.yi.Q(s)!=!1&&t.B(s)},this.gh=function(e){var s=Ch.t(0,e);i.yi.Q(s)!=!1&&t.B(s)},this.vy=function(e){var s=sa.t(e);i.yi.Q(s)!=!1&&t.B(s)},this.mh=function(){var e=ta.t();i.yi.Q(e)!=!1&&t.B(e)},this.Ch=function(){var e=na.t();i.yi.Q(e)!=!1&&t.B(e)},this.fy=function(){n.Wy()},this.oe=function(e,s){if(s){var r=Tt.t(e,s);i.yi.Q(r)!=!1&&t.B(r)}},this.oy=function(){var e=ua.t();i.yi.Q(e)!=!1&&t.B(e)},this.cy=function(){var e=[],s=0,r=0,u;function f(){return e.splice(Math.random()*e.length|0,1)[0]}if(t.i.F.forEach(l=>{l.I==ji.Oi?s++:l.I==ji.it?r++:e.push(l.n)}),e.length!=0){if(e.length==1){if(u=Tt.t(f(),Math.random()<.5?ji.Oi:ji.it),i.yi.Q(u)==!1)return;t.B(u);return}if(r==s){u=Tt.t(f(),ji.Oi),i.yi.Q(u)!=!1&&t.B(u),u=Tt.t(f(),ji.it),i.yi.Q(u)!=!1&&t.B(u);return}u=Tt.t(f(),r>s?ji.Oi:ji.it),i.yi.Q(u)!=!1&&t.B(u)}},this.ly=function(e){var s=ra.t(e);i.yi.Q(s)!=!1&&t.B(s)},this.Kc=function(e){if(e)return n.pe!=null?!1:(n.Zy(),i.h._onRoomRecordingChange?.(!0),!0);if(n.pe==null)return null;var s=n.pe.Tc();return n.pe=null,i.h._onRoomRecordingChange?.(s),s},this.yv=this.zy.bind(this),this.Mf=gh(this.yv),this.jy=j0(()=>{t.Xi()},50)}}kh.prototype={Zy:function(){this.pe=new fa(this.r,3)},ri:function(){ia(this.Mf),D0(this.jy)},Jc:function(i,t=ji.Yi){var n=this;this.r.i.F.slice().forEach(e=>{if(i(e)){var s=Tt.t(e.n,t);n.si.yi.Q(s)!=!1&&n.r.B(s)}})},zy:function(){this.Mf=gh(this.yv),this.Ni.Xi(),this.r.Xi(),this.si.yi.St?.render?.()},hy:function(i){if(this.av!=i){var t=Ph.t(i?0:1);this.si.yi.Q(t)!=!1&&(this.r.B(t),this.av=i)}},Wy:function(){if(this.r.i.f){var i=ea.t(this.r.i.f.ft!=120);this.si.yi.Q(i)!=!1&&this.r.B(i)}}};Th.s3=kh});var Oh=N((Mp,Mh)=>{var{rs:oa,us:la,ne:Nh}=E(),Nt=O(),{ji:Rt}=D(),{Dh:Rh}=Lt(),{Tt:ca}=B(),{pl:va,yl:aa}=ct(),pa=Ne(),{Hc:Ah,Qc:ya,Xc:wa}=Re(),{Bc:qa}=we(),ma=on(),{Os:Ca,Is:ga,Bs:Eh,Gh:Pa}=et(),Sa=Ct(),ka=qh(),Ta=Ie();function Na(i,t){var n=wa(t);n.onHostError=i.onError;var e=ya(n),s=function(){Nh("internal event: LeaveRoom"),aa(n.h),s=null,r=null,n.qr?.forEach(m=>{m.finalize?.(),m.h=null}),n.St&&(n.St.finalize?.(),n.St.h=null),n.jn.finalize?.(),n.jn.h=null,n.wr?.forEach(m=>{m.finalize?.(),m.h=null}),s=null,e.e=null,e.et=null,e=null,n.h=null,n.of?.()},r=function(){Nh("internal event: CreateRoomSucceeded"),r=null,n.h=new pa(n.uf,e,n.wr,n.jn,n.qr),va(n.h),n.h.Pu=n,n.h.zn=n.zn,n.h.hostPing=0,n.hf?.(n.h);var m=n.h._onPlayerObjectCreated;m&&e.e?.r.i.F.forEach(m)},u=n.Wt,f=null,l=new Sa;l.P=i.name;var c=new ka(n,{i:l,nt:n.nt,_t:i.token});c.ar=Rh(i.geo,u.geo,!1),c.Dy=!!i.noPlayer;function o(){if(c.gu){var m=new qa;m.nt=n.nt,m.P=l.P,m.F=c.pr!=null?c.pr:l.F.length,m.Zh=c.Xe+1,m.Ai=c.ar.flag,m.wt=c.Ye!=null?c.Ye:c.wt!=null,m.wu=c.ar.lat,m.qu=c.ar.lon;var P=ca.t(16);m.w(P),c.mf(P.Vr())}}var p;c.Dy||(p=new ma,p.P=u.player_name,p.Pt=!0,p.Ai=c.ar.flag,p.ki=u.avatar,p.kn=!0,l.F.push(p)),c.$e=!!i.unlimitedPlayerCount,c.gu=!!i.showInRoomList,c.pr=i.playerCount,c.Ye=i.fakePassword!=null?!!i.fakePassword:null,c.Xe=(i.maxPlayerCount|0)-1,c.wt=i.password==""?null:i.password,o();var q=new Ta(n,c),S=oa(()=>{var m=Pa.t(c);e.Q(m)!=!1&&c.B(m)},3e3);return c.Qy=function(m){if(l.z(m)){var P=Eh.t(m,Rt(Nt.Lo).toString(),!1);e.Q(P)!=!1&&c.B(P)}},c.ve=function(m,P,h,v){var w=P.mt();if(w.length>25)throw Rt(Nt.No,h,v,w);var a=P.mt();if(a.length>3)throw Rt(Nt.Ro,h,v,w,a);var C=P.ct();if(C?.length>2)throw Rt(Nt.Ao,h,v,w,a,C);var T=n.h._modifyPlayerData;if(T){var A=T(m,w,a,C,h,v);if(!A)throw Rt(Nt.Eo,h,v,w,a,C);[w,a,C]=A}var R=ga.t(m,w,a,C,h,v);if(e.Q(R)==!1)throw Rt(Nt.Mo,R);c.B(R),o(),e.We.then(()=>{e.e?.r.Ze(Ca.t(0,m,0),m,!0)})},c.ce=function(m){if(l.z(m)){var P=Eh.t(m,null,!1);e.Q(P)!=!1&&c.B(P)}},c.Af=function(m){f=m,q.Qe=Ah(m,c.wt!=null),n.h._onRoomLink?.(q.Qe)},q.$y=function(m,P,h,v){c._y(m,P,h,v)},q.Yy=function(){o()},q.rf=function(){c.ri(),q.ri(),la(S),s()},n.cancel=q.rf,q.jp=function(m){if(m){var P={};if(m.hasOwnProperty("name")&&(P.name=l.P=m.name||""),m.hasOwnProperty("password")&&(P.password=c.wt=m.password),m.hasOwnProperty("fakePassword")&&(P.fakePassword=c.Ye=m.fakePassword),m.hasOwnProperty("geo")){P.geo=m.geo;var h=Rh(m.geo,u.geo,!1);p&&(p.Ai=h.flag)}m.hasOwnProperty("unlimitedPlayerCount")&&(P.unlimitedPlayerCount=c.$e=!!m.unlimitedPlayerCount),m.hasOwnProperty("showInRoomList")&&(P.showInRoomList=c.gu=!!m.showInRoomList),m.hasOwnProperty("playerCount")&&(P.playerCount=c.pr=m.playerCount),m.hasOwnProperty("maxPlayerCount")&&(P.maxPlayerCount=c.Xe=m.maxPlayerCount==null?null:m.maxPlayerCount-1),o(),m.hasOwnProperty("password")&&f!=null&&(q.Qe=Ah(f,c.wt!=null)),n.h._onRoomPropertiesChange?.(P)}},q.ry=function(m){c.$e=m},q.uy=function(m){c.Ye=m,o()},e.Ei=!0,e.e=q,e.et=l,r(),n}Mh.s3=Na});var dh=N((Op,bh)=>{var{Gr:Un,zt:Ih,gl:Ra,du:Aa,te:Ea,ke:Bh,xu:Fh,_n:dt,Un:Fe,Hu:Gh,Qu:Ma}=E(),{Jf:Lh,Kf:_h,Vf:Oa,bf:xt,df:Ia}=O(),Ht=O(),{ni:Be}=L(),{ji:Qt,qa:Xt}=D(),{Zc:Ba,zc:Fa,jc:Ga}=Ee(),La=Me(),Jh=qt(),{tn:Jn,Tt:ot,Aa:Uh,ii:_a}=B(),Ua=Wn();function Kh(i,t,n,e){this.Gn=!1,this.Nr=!1;var s=i.Se;!Un&&s&&(Fa(),s=null);var r=this;this.ui=new La(0,Aa,Ba),this.ui.je=function(){r.Rr(Xt.aa())},this.ui.gr=function(){r.gr?.(new Ga(r.ui)),r.ui=null,r.Au()},this.ui.Cr=function(u){r.wv=u;var f=Un?.Xu||Ra;f.endsWith("client")||(f.endsWith("/")||(f+="/"),f+="client");var l=s?[s]:[];if(i.jt||Un?.Ur){var c={};i.jt&&(c.agent=i.jt),Un.Ur&&(c.headers={Origin:(Ih.ge?"https":"http")+"://"+Ih.ss}),r.Y=new Fh(f+"?id="+t+(e==null?"":"&token="+e),l,c)}else r.Y=new Fh(f+"?id="+t+(e==null?"":"&token="+e),l);r.Y.binaryType="arraybuffer",r.Y.onclose=function(o){r.Gn||r.Rr(Xt.ya(o.code))},r.Y.onerror=function(o){r.Gn||r.Rr(Xt.Al())},r.Y.onmessage=r.gf.bind(r),r.Y.onopen=function(){r.i2?.(),r.ui.yf(),r.Nf(r.wv,r.ui.Ru,n),r.ui.pf=r.Rf.bind(r),r.ui.af.then(function(){r.Fn(0,null)})}},this.ui.gy()}Kh.prototype={t2:function(){this.Rr(Xt.pa())},Au:function(){if(this.Y!=null)try{this.Y.onclose=null,this.Y.onmessage=null,this.Y.onerror=null,this.Y.onopen=null,this.Y.close(),this.Y=null}catch{}this.ui!=null&&(this.ui.ri(),this.ui=null)},Rr:function(i){this.je?.(i),this.Au()},gf:function(i){var t=new Jn(new DataView(i.data)),n=t.A();switch(t.R.byteLength>t.v&&(t=new Jn(new DataView(Fe.inflateRaw(t.bi()).buffer),!1)),n){case 1:{var e=[],s=t.mt();t.ls().forEach(r=>{e.push(new Gh(r))}),this.Pf(s,e);break}case 4:{this.Sf(new Gh(t.ls()));break}}},Pf:function(i,t){var n=this;this.ui.yf(this.Nr?1e4:4e3),this.Gn=!0,this.Cr?.(),this.ui.Fi.setRemoteDescription(new Ma({sdp:i,type:"answer"}),()=>{t.forEach(e=>{n.ui.Fi.addIceCandidate(e)})},()=>{n.Rr(Xt.Al())})},Sf:function(i){this.ui.Fi.addIceCandidate(i)},Fn:function(i,t){if(this.Y){var n=ot.t(32,!1);n.p(i),t!=null&&n.Di(Fe.deflateRaw(t.Vi())),this.Y.send(n.ee())}},Nf:function(i,t,n){var e=ot.t(32,!1);e.p(this.Nr?1:0),e.Ct(i.sdp),e.dr(t),n!=null&&e.Di(n.Vi()),this.Fn(1,e)},Rf:function(i){var t=ot.t(32,!1);t.dr(i),this.Fn(4,t)}};function Vh(i,t,n){this.si=i,this.Of=[],this.Ar=[],this.Uu=new Ua,this.n2=1,this.qv=0,this.me=Lh,this.If=new Uh(50),this.Ju=new Uh(50),this.e2=1e3,this.Bf=Qt(Ht.Br),Jh.call(this,n.i),this.Er=n.Er,this.Ff=n.Ff;var e=this,s,s=function(r){e.Mr(Lh);var u=ot.t();u.xi(i.nt),u.vt(n.wt),e.hi=new Kh(i,t,u,n._t),e.hi.Nr=r,e.hi.gr=function(l){e.hi=null,e.ui=l,l.lf=function(c){e.s2(new Jn(new DataView(c)))},l.Nu=function(){e.me!=xt&&e.Or?.(Qt(Ht.Fr)),e.ri()},e.ze=Ea(function(){e.Or?.(Qt(Ht.xf)),e.ri()},1e4),e.Mr(Oa,e.ui.Fi.remoteDescription.sdp)},e.hi.i2=function(){e.Mr(_h,e.hi.wv.sdp)};var f=!1;e.hi.Cr=function(){f=!0},e.hi.je=function(l){!r&&e.me==_h&&f?(e.r2?.(),s(!0)):(e.Or?.(l[0]),e.ri(l[1]||l[0]))}};s(n.Nr)}Vh.prototype=_a(Jh.prototype,{ri:function(i){this.hi!=null&&(this.hi.je=null,this.hi.t2(),this.hi=null),Bh(this.ze),this.ui!=null&&(this.ui.Nu=null,this.ui.ri(),this.ui=null),this.Bf=i||Qt(Ht.Fr),this.Mr(Ia),this.si._onRoomLeave?.(this.Bf)},Mr:function(i,t){this.me!=i&&(this.me=i,this.si.Zt?.(i,t),this.Zt?.(i))},mv:function(){return this.me==xt},Xi:function(){this.mv()&&dt.now()-this.qv>this.e2&&this.u2(),this.yn=dt.now()*this.nn+this.If.xr(.5)-this.k,this.Cv()},Sn:function(i=0){return this.mv()?(this.At<0&&(this.At=0),this.Yl((dt.now()+i)*this.nn+this.If.xr(.5)-this.k+this.At,this.Uu)):this.i},Cv:function(){this.yn<0&&(this.yn=0),this.yn>this.Zr&&(this.yn=this.Zr)},s2:function(i){switch(i.A()){case 0:this.h2(i);break;case 1:this.f2(i);break;case 2:this.o2(i);break;case 3:this.l2(i);break;case 4:this.c2(i);break;case 5:this.v2(i);break;case 6:this.a2(i);break}},h2:function(i){var t=this,n=i.bi(i.Ki());(this.Ff?.Up(n)||Promise.resolve(null)).catch(()=>null).then(e=>{t.p2(e)})},f2:function(i){var t=Fe.inflateRaw(i.bi());for(i=new Jn(new DataView(t.buffer,t.byteOffset,t.byteLength)),this.Pn=i.di(),this.k=i.oi(),this.ue=i.oi(),this.ht=i.Ki(),this.yn=10,this.i.q(i);i.v<i.R.byteLength;)this.Cs(this.gv(i));Bh(this.ze),this.Mr(xt)},p2:function(i){var t=ot.t();t.p(0),i?(t.Gi(i.byteLength),t.Di(i)):t.Gi(0),t.Gi(this.Er.byteLength),t.br(this.Er),this.qt(t),this.Er=null},qt:function(i,t=0){this.ui.qt(t,i)},gv:function(i){var t=i.oi(),n=i.Ki(),e=i.di(),s=i.oi(),r=Be.q(i);return r.s=e,r.re=s,r.Si=t,r.V=n,r},o2:function(i){var t=this.gv(i);this.Cs(t),t.s==this.Pn&&this.Uu.Wa(t.re),this.Pv()},a2:function(i){var t=Be.q(i);t.s=0,t.re=0,t.b(this.i),this.en?.(t)},l2:function(i){this.Ar.push({Ku:i.oi(),y2:i.oi()}),this.Pv()},Pv:function(){if(this.me==xt){var i=this;this.Ar.forEach(n=>{n.Ku<=i.k||n.y2==i.ue+i.ht+i.gn.Za(n.Ku)&&i.w2(n.Ku-i.k)});var t=0;this.Ar.forEach(n=>{n.Ku>i.k&&(i.Ar[t++]=n)}),this.Ar.length=t,this.Uu.Ya(this.k)}},v2:function(i){var t=i.A()!=0,n=i.mt(),e="";i.R.byteLength>i.v&&(e=i.mt()),this.ri(Qt(Ht.jf,n,t,e))},c2:function(i){var t=i.S(),n=i.S(),e=dt.now()-n;this.If.Il(t-n*this.nn),this.Ju.Il(e),t=0,this.Of.findIndex(s=>{if(s>n)return!0;this.q2?.(s<n?-1:e),t++}),this.Of.splice(0,t)},u2:function(){var i=dt.now();this.qv=i,this.Of.push(i);var t=this.Ju.xr(.5)|0,n=this.si.h?._modifyClientPing;n&&(t=n(t));var e=ot.t();e.p(2),e.C(i),e.Gi(t),this.qt(e,2)},w2:function(i){this.Xl(i),this.yn-=i,this.Cv()},B:function(i){if(this.me==xt){var t=this.n2++,n=0;this.At<0&&(this.At=0),i.Z.ci&&(n=this.k+(this.yn|0)+this.At);var e=this.si.h?._modifyFrameNo;e&&(n=e(n));var s=ot.t();s.p(1),s.Ti(n),s.Ti(t),Be.w(i,s),this.qt(s),i.Z.ai&&(i.re=t,i.s=this.Pn,i.Si=n,this.Uu.lh(i))}}});bh.s3=Vh});var Xh=N((Ip,Qh)=>{var{ne:lt}=E(),xh=O(),{ji:Hh}=D(),{Tt:Ja}=B(),Ka=Ne(),{pl:Va,yl:Ge}=ct(),{Hc:ba,Qc:da,Xc:xa}=Re(),Ha=Ct(),Qa=dh(),Xa=Ie();function Ya(i,t){var n=i.id,e=i.password,s=i.token,r=i.authObj;if(!n||!r)throw Hh(xh.To);var u=xa(t);e==""&&(e=null);var f=da(u),l=h=>{lt("internal event: LeaveRoom",h.toString()),Ge(u.h),u.Zt=null,l=null,u.qr?.forEach(v=>{v.finalize?.(),v.h=null}),u.St&&(u.St.finalize?.(),u.St.h=null),u.jn.finalize?.(),u.jn.h=null,u.wr?.forEach(v=>{v.finalize?.(),v.h=null}),u._onRoomLeave=null,f.e=null,f.et=null,f=null,u.h=null,u.of?.(h)},c=()=>{lt("internal event: JoinRoomSucceeded"),u.Zt=null,c=null,u.h=new Ka(u.uf,f,u.wr,u.jn,u.qr),Va(u.h),u.h.Pu=u,u.h.zn=u.zn,u.hf?.(u.h);var h=u.h?._onPlayerObjectCreated;h&&f.e?.r.i.F.forEach(h),h=u.h?._onPlayerDiscCreated,h&&f.e?.r.i.F.filter(v=>v.H!=null).forEach(h)};u.Zt=(h,v)=>{lt("internal event: ConnectionStateChange"),u.dc?.(h,v),h==4&&(u.Zt=null,c=null,u.h=null)},u._onRoomLeave=l;try{var o=u.Wt.crappy_router,p=new Ha,q=Ja.t();q.Ct(u.Wt.player_name),q.Ct(u.Wt.geo.flag),q.vt(u.Wt.avatar);var S=new Qa(u,n,{i:p,Er:q.Vr(),wt:e,Nr:o,_t:s,Ff:r});lt("Connecting to master..."),u.cancel=()=>{S.Zt=null,S.Or=null,S.ri()};var m=h=>{Ge(u.h),u.cancel=null,u.ff?.(h)},P=()=>{u.cancel=null;var h=new Xa(u,S);h.Qe=ba(n,!1),S.q2=v=>{u.h._onPingChange?.(v,S.Ju.xr(.5),S.Ju.Na())},h.rf=()=>{S.Zt=null,S.ri(),h.ri()},S.Zt=()=>{S.Zt=null,h.ri(),h.pe?.Tc(),m(S.Bf)},f.Ei=!1,f.e=h,f.et=p,c?.()};S.Or=h=>{S.Or=null,S.Zt=null,h.$u==1&&h.Wu[0]==4004&&u.ku?.(),m(h)},S.Zt=h=>{switch(h){case 1:lt("Connecting to peer...");break;case 2:lt("Awaiting state...");break;case 3:P()}},S.r2=()=>{lt("Trying reverse connection..."),u.xc?.()}}catch(h){Ge(u.h),u.cancel=null,u.ff?.(Hh(xh.Zf,h))}return u}Qh.s3=Ya});var zh=N((Bp,Zh)=>{var{_n:$a,Un:Wa}=E(),Za=Ct(),$h=qt(),{ni:Le}=L(),{tn:Yh,ii:za}=B(),{Ap:ja}=ve();function Wh(i){$h.call(this,i),this.M=1,this.He=$a.now(),this.Zn=!1,this.m2=[],this.Ir=[],this.maxFrameNo=0}Wh.prototype=za($h.prototype,{B:function(){},Sn:function(i=0){return this.i},Xi:function(){var i=this.maxFrameNo;if(!(this.k>=i))do{var t=0,n=this.Ir[0];if(!n||this.k>n.Si)break;for(;n?.Si==this.k;)n.b(this.i),this.m2.push(n),n=this.Ir[++t];this.i.Hi(1),this.k++,this.Ir.splice(0,t)}while(this.k<i)},Yh:function(i){if(!(i<0)){if(i==0){this.Zn=!0;return}this.k=this.k*i/this.M|0,this.M=i,this.Zn=!1}},Hi:function(i){this.Zn&&this.i.Hi(i)}});function Da(i,t={},n){var e=new Za,s=new Wh(e),r=new ja(s,t,n),u;function f(o){var p=o.oi(),q=o.Ki(),S=o.di(),m=o.oi(),P=Le.q(o);return P.s=S,P.re=m,P.Si=p,P.V=q,P}function l(o){o.Si==s.k&&o.V<=s.ht?(o.V=s.ht++,s.pi(o)):s.gn.lh(o)}var c=new Yh(new DataView(i.buffer,i.byteOffset,i.byteLength));for(s.k=c.oi(),s.ue=c.oi(),s.ht=c.Ki(),e.q(c);c.v<c.R.byteLength;)l(f(c));return i=null,c=null,u={state:e,extrapolate:o=>s.Sn(o),readStream:o=>{if(s.maxFrameNo=o.oi(),o.R.byteLength!=o.R.byteOffset+o.v){var p=Wa.inflateRaw(new Uint8Array(o.R.buffer,o.v)),q,S,m,P,h;for(o=new Yh(new DataView(p.buffer,p.byteOffset,p.byteLength));o.v<p.byteLength;)for(P=s.maxFrameNo-o.di(),q=o.di(),h=0;h<q;h++)S=o.di(),m=Le.q(o,!0),m.s=S,m.Si=P,s.Ir.push(m)}},readImmediateStream:o=>{var p=s.maxFrameNo=o.oi(),q=o.di(),S=Le.q(o,!0);S.s=q,S.Si=p,s.Ir.push(S)},takeSnapshot:()=>e.copy(),useSnapshot:function(o){var p=o.copy();r.Mc(p),e=u.state=p},setSimulationSpeed:function(o){s.Yh(o)},runSteps:function(o){s.Hi(o)},destroy:r.ri},Object.defineProperty(u,"gameState",{get(){return e.f}}),Object.defineProperty(u,"currentPlayerId",{get(){return 0}}),Object.defineProperty(u,"currentFrameNo",{get(){return s.k}}),Object.defineProperty(u,"maxFrameNo",{get(){return s.maxFrameNo}}),u}Zh.s3=Da});var Dh=N((Fp,jh)=>{var i1=O(),{Pe:t1,O:n1}=E();function At(i,t=null){this.P=i,this.h=null,this.defineMetadata(t)}At.prototype.defineMetadata=function(i){};At.prototype.defineVariable=function(i){var t=this,n=i.name,e=i.value;t1?t[n]=e:Object.defineProperty(t,n,{get:()=>e,set:s=>{var r=e;s!=r&&(e=s,t.h?._onVariableValueChange?.(t,n,r,e))}})};At.prototype.setVariableGUIProps=function(i,...t){};At.addonType=i1.Uf;n1(At,["name","room"],[]);jh.s3=At});var nf=N((Gp,tf)=>{var e1=O(),{Pe:s1,O:r1}=E();function Et(i=null){this.h=null,this.defineMetadata(i)}Et.prototype.defineMetadata=function(i){};Et.prototype.defineVariable=function(i){var t=this,n=i.name,e=i.value;s1?t[n]=e:Object.defineProperty(t,n,{get:()=>e,set:s=>{var r=e;s!=r&&(e=s,t.h?._onVariableValueChange?.(t,n,r,e))}})};Et.prototype.setVariableGUIProps=function(i,...t){};Et.addonType=e1.Gf;r1(Et,["room"],[]);tf.s3=Et});var rf=N((Lp,sf)=>{var ef=O(),{Pe:u1,O:h1}=E();function Mt(i,t=!1,n=null){this.P=i,this.h=null,this.defineMetadata(n),this.defineVariable({name:"active",description:"Whether this plugin is active or not.",type:ef.al,value:t})}Mt.prototype.defineMetadata=function(i){};Mt.prototype.defineVariable=function(i){var t=this,n=i.name,e=i.value;u1?t[n]=e:Object.defineProperty(t,n,{get:()=>e,set:s=>{var r=e;s!=r&&(e=s,t.h?._onVariableValueChange?.(t,n,r,e))}})};Mt.prototype.setVariableGUIProps=function(i,...t){};Mt.addonType=ef.Lf;h1(Mt,["name","room"],[]);sf.s3=Mt});var hf=N((_p,uf)=>{var f1=O(),{Pe:o1,O:l1}=E();function Ot(i=null){this.h=null,this.defineMetadata(i)}Ot.prototype.defineMetadata=function(i){};Ot.prototype.defineVariable=function(i){var t=this,n=i.name,e=i.value;o1?t[n]=e:Object.defineProperty(t,n,{get:()=>e,set:s=>{var r=e;s!=r&&(e=s,t.h?._onVariableValueChange?.(t,n,r,e))}})};Ot.prototype.setVariableGUIProps=function(i,...t){};Ot.addonType=f1._f;l1(Ot,["room"],[]);uf.s3=Ot});var y1=N((Up,pf)=>{var y=O(),c1=ct(),v1=be(),{ua:ff,ha:of,fa:lf,oa:cf,la:vf,ca:af,va:a1}=de(),p1=D();pf.s3=(i,t)=>{v1(i,t);var{se:n}=pt(),{Ha:e,Qa:s}=$n(),{Cp:r,gp:u,Pp:f,Sp:l,kp:c,Tp:o}=ce(),{Ep:p}=ve(),{tn:q,Tt:S}=B(),{kh:m,Sh:P}=rt(),{Kp:h,Vp:v,$h:w,bp:a,dp:C,Be:T,Fc:A,Gc:R,xp:U,Hp:I,Lc:ii,In:$,Qp:_,Xp:Z,Wh:z,Dh:ri,Yp:yi,bh:Ci,$p:x,Hr:Q,zr:qi,jr:li,Wp:fi}=Lt();return{version:"1.5.0",AddonType:{RoomConfig:y.Gf,Plugin:y.Lf,Renderer:y._f,Library:y.Uf},AllowFlags:{JoinRoom:y.kv,CreateRoom:y.Tv},BackgroundType:{None:y.Nv,Grass:y.Rv,Hockey:y.Av},BanEntryType:{Player:y.Ce,IP:y.ns,Auth:y.es},CameraFollow:{None:y.Ev,Player:y.Mv},CollisionFlags:{ball:y.Ov,red:y.Iv,blue:y.Bv,redKO:y.Fv,blueKO:y.Gv,wall:y.Lv,kick:y._v,score:y.Uv,free1:y.Jv,free2:y.Kv,free3:y.Vv,free4:y.bv,free5:y.dv,free6:y.xv,free7:y.Hv,free8:y.Qv,free9:y.Xv,free10:y.Yv,free11:y.$v,free12:y.Wv,free13:y.Zv,free14:y.zv,free15:y.jv,free16:y.Dv,free17:y.i0,free18:y.t0,free19:y.n0,free20:y.e0,c0:y.s0,c1:y.r0,c2:y.u0,c3:y.h0},ConnectionState:{ConnectingToMaster:y.Jf,ConnectingToPeer:y.Kf,AwaitingState:y.Vf,Active:y.bf,ConnectionFailed:y.df},Direction:{Backward:y.f0,Still:y.o0,Forward:y.l0},GamePlayState:{BeforeKickOff:y.v0,Playing:y.a0,AfterGoal:y.p0,Ending:y.y0},OperationType:{SendAnnouncement:y.Ko,SendChatIndicator:y.Vo,CheckConsistency:y.bo,SendInput:y.xo,SendChat:y.Ho,JoinRoom:y.Qo,KickBanPlayer:y.Xo,StartGame:y.Yo,StopGame:y.$o,PauseResumeGame:y.Wo,SetGamePlayLimit:y.Zo,SetStadium:y.zo,SetPlayerTeam:y.jo,SetTeamsLock:y.Do,SetPlayerAdmin:y.il,AutoTeams:y.tl,SetPlayerSync:y.nl,Ping:y.el,SetAvatar:y.sl,SetTeamColors:y.rl,ReorderPlayers:y.ul,SetKickRateLimit:y.hl,SetHeadlessAvatar:y.fl,SetDiscProperties:y.ol,CustomEvent:y.ll,BinaryCustomEvent:y.cl,SetPlayerIdentity:y.vl},PlayerPositionInGame:{None:y.w0,GK:y.q0,SW:y.m0,WBL:y.C0,DL:y.g0,DC:y.P0,DR:y.S0,WBR:y.k0,DML:y.T0,DMC:y.N0,DMR:y.R0,ML:y.A0,MC:y.E0,MR:y.M0,AML:y.O0,AMC:y.I0,AMR:y.B0,FL:y.F0,FC:y.G0,FR:y.L0,ST:y._0},VariableType:{Void:y.U0,Boolean:y.al,Integer:y.J0,Number:y.K0,String:y.V0,Color:y.b0,CollisionFlags:y.d0,Coordinate:y.x0,Team:y.H0,TeamWithSpec:y.Q0,BgType:y.X0,CameraFollow:y.Y0,KickOffReset:y.$0,Flag:y.W0,File:y.Z0,PlayerId:y.z0,Keys:y.j0,Progress:y.D0,PlayerPositionInGame:y.ia},Callback:{add:e,remove:s},Utils:{generateAuth:h,authFromKey:v,getRoomList:w,calculateAllRoomDistances:a,numberToColor:C,colorToNumber:T,ipToNumber:A,numberToIp:R,authToNumber:U,numberToAuth:I,compareBits:ii,keyState:$,reverseKeyState:_,runAfterGameTick:Z,getGeo:z,parseGeo:ri,parseStadium:yi,exportStadium:Ci,getDefaultStadiums:x,numberToHexString:m,parseHexInt:P,promiseWithTimeout:Q,hexStrToNumber:qi,byteArrayToIp:li,refreshRoomToken:fi},EventFactory:_u(),Room:{create:Oh(),join:Xh(),sandbox:p,streamWatcher:zh()},Replay:{ReplayData:r,read:u,readAll:f,writeAll:l,trim:c,trimAsync:o},Query:{getVertexIndexAtMapCoord:ff,getSegmentIndexAtMapCoord:of,getGoalIndexAtMapCoord:lf,getPlaneIndexAtMapCoord:cf,getJointIndexAtMapCoord:vf,getDiscIndexAtMapCoord:af,getSpawnPointIndexAtMapCoord:a1,getVertexAtMapCoord:(V,X,F)=>V.f?.a.N[ff(V,X,F)],getSegmentAtMapCoord:(V,X,F)=>V.f?.a.G[of(V,X,F)],getGoalAtMapCoord:(V,X,F)=>V.T.Ui[lf(V,X,F)],getPlaneAtMapCoord:(V,X,F)=>V.f?.a.X[cf(V,X,F)],getJointAtMapCoord:(V,X,F)=>V.f?.a.wi[vf(V,X,F)],getDiscAtMapCoord:(V,X)=>V.f?.a.g[af(V,X)]},Library:Dh(),RoomConfig:nf(),Plugin:rf(),Renderer:hf(),Language:c1.na,Errors:{HBError:p1.Zu,ErrorCodes:{Empty:y.Br,ConnectionClosed:y.Fr,GameStateTimeout:y.xf,RoomClosed:y.Hf,RoomFull:y.Qf,WrongPassword:y.Xf,BannedBefore:y.Yf,IncompatibleVersion:y.$f,FailedHost:y.Wf,Unknown:y.Zf,Cancelled:y.zf,FailedPeer:y.c0,KickedNow:y.jf,Failed:y.Df,MasterConnectionError:y.Vu,StadiumParseError:y.io,StadiumParseSyntaxError:y.to,StadiumParseUnknownError:y.no,ObjectCastError:y.eo,TeamColorsReadError:y.so,UTF8CharacterDecodeError:y.ro,ReadTooMuchError:y.uo,ReadWrongStringLengthError:y.ho,EncodeUTF8CharNegativeError:y.fo,EncodeUTF8CharTooLargeError:y.oo,CalculateLengthOfUTF8CharNegativeError:y.lo,CalculateLengthOfUTF8CharTooLargeError:y.co,BufferResizeParameterTooSmallError:y.vo,BadColorError:y.ao,BadTeamError:y.po,StadiumLimitsExceededError:y.yo,MissingActionConfigError:y.wo,UnregisteredActionError:y.qo,MissingImplementationError:y.Ln,AnnouncementActionMessageTooLongError:y.mo,ChatActionMessageTooLongError:y.Co,KickBanReasonTooLongError:y.go,ChangeTeamColorsInvalidTeamIdError:y.Po,MissingRecaptchaCallbackError:y.So,ReplayFileVersionMismatchError:y.bu,ReplayFileReadError:y.ko,JoinRoomNullIdAuthError:y.To,PlayerNameTooLongError:y.No,PlayerCountryTooLongError:y.Ro,PlayerAvatarTooLongError:y.Ao,PlayerJoinBlockedByMPDError:y.Eo,PlayerJoinBlockedByORError:y.Mo,PluginNotFoundError:y.Oo,PluginNameChangeNotAllowedError:y.Io,LibraryNotFoundError:y.Bo,LibraryNameChangeNotAllowedError:y.Fo,AuthFromKeyInvalidIdFormatError:y.Go,BadActorError:y.Lo,AuthBannedError:y._o,NoProxyIdentityProblem:y.Uo,NoProxyIdentitySolution:y.Jo}},Impl:{Core:{Point:n,TeamColors:qn(),Team:ai()},Stream:{Reader:q,Writer:S}}}}});return y1();})();if (typeof exports !== 'undefined') { if (typeof module !== 'undefined' && module.exports) exports = module.exports = EE; exports.abcHaxballAPI = EE; } else if (typeof root !== 'undefined') root['abcHaxballAPI'] = EE; else window['abcHaxballAPI'] = EE;
