var fO=(()=>{var U9K={};var zY=(y,Y)=>()=>(Y||y((Y={bL:{}}).bL,Y),Y.bL);var tj=zY((JY,ZY)=>{var bY=(()=>{var y=(S,b)=>()=>(b||S((b={bL:{}}).bL,b),b.bL),Y=y((S,b)=>{function f(e,L){this.x=e,this.y=L}f.prototype={Yz:function(){this.x=-this.x,this.y=-this.y}},b.bL=f}),j=y((S,b)=>{var f=Y();b.bL=function(e){var{i:L=32,z:k=63,r:c=1,iy:i=0,hy:A=0}=e||{};this.i=L,this.z=k,this.r=c,this.h=new f(i,A)}}),O=y((S,b)=>{function f(L){var{i:k=32,z:c=63,r:i=1,ny:A=0,v:J=null,s:T=null}=L||{};this._p=this.gp=this.qy=null,this.QR=0,this.fO=null,this.v=J,this.s=T,this.ny=A,this.r=i,this.z=c,this.i=k,this.wy=1/0}var e=Y();f.prototype={LO:function(L){if(L*=.017453292519943295,0>L){L=-L;var k=this.v;this.v=this.s,this.s=k,this.ny=-this.ny}.17435839227423353<L&&5.934119456780721>L&&(this.wy=1/Math.tan(L/2))},jz:function(){return isFinite(this.wy)?114.59155902616465*Math.atan(1/this.wy):0},UY:function(){var{wy:L,s:{h:k},v:{h:c}}=this,i,A,J,T;isFinite(L)?(J=.5*(k.x-c.x),T=.5*(k.y-c.y),i=c.x+J-T*L,A=c.y+T+J*L,J=c.x-i,T=c.y-A,this.QR=Math.sqrt(J*J+T*T),this._p=new e(A-c.y,c.x-i),this.gp=new e(k.y-A,i-k.x),0>=L&&(this._p.Yz(),this.gp.Yz()),this.fO=new e(i,A)):(J=c.x-k.x,T=c.y-k.y,A=Math.sqrt(T*T+J*J),this.qy=new e(-T/A,J/A))}},b.bL=f}),p=y((S,b)=>{var f=Y();b.bL=function(e){var{i:L=32,z:k=63,r:c=1,xy:i=0,zY:A=0,lY:J=0}=e||{};this.i=L,this.z=k,this.r=c,this.xy=i,this.qy=new f(A,J)}}),x=y((S,b)=>{function f(L){var{Rh:k=0,xh:c=0,zh:i=0,lh:A=0}=L||{};this.rY=new e(i,A),this.iY=new e(k,c)}var e=Y();f.prototype={FR:function({x:L,y:k},{x:c,y:i}){var{iY:{x:A,y:J},rY:{x:T,y:I}}=this,U=c-L,Z=i-k;return 0<Z*(A-L)-U*(J-k)==0<Z*(T-L)-U*(I-k)?!1:(U=T-A,Z=I-J,0<Z*(L-A)-U*(k-J)!=0<Z*(c-A)-U*(i-J))}},b.bL=f}),l=y((S,b)=>{var f=Y();b.bL=function(e){var{i:L=63,z:k=63,N:c=.99,F:i=1,r:A=.5,I:J=10,y9:T=0,Y9:I=0,j9:U=0,X9:Z=0,iy:W=0,hy:Q=0}=e||{};this.i=L,this.z=k,this.N=c,this.F=i,this.r=A,this.I=J,this.T=new f(T,I),this.P=new f(U,Z),this.h=new f(W,Q)}}),_=y((S,b)=>{b.bL=function(f){var{$Y:e=1/0,Cy:L=100,dy:k=100,ay:c=0,vy:i=0}=f||{};this.$Y=e,this.Cy=L,this.dy=k,this.ay=c,this.vy=i}}),r=y((S,b)=>{function f(L){e.apply(this,[L])}var e=l();f.prototype={Xz:function(L,k,c){var{P:i,F:A}=this;i.x+=L*k*A,i.y+=L*c*A},rh:function(L,k){var{P:c}=this;c.x+=L,c.y+=k},ih:function(){var{x:L,y:k}=this.P;return 0<L*L+k*k}},b.bL=f}),D=y((S,b)=>{function f(){this.Z=[],this.k=[],this.M=[],this.t=[],this._y=[]}f.prototype={Fy:function(e,L){var k,c,i,A,J,T,{Z:I,M:U,t:Z,k:W,_y:Q}=this;I.forEach(({h:t,P:C,T:w,N:G})=>{var{x:jy,y:Xy}=C;t.x+=e*jy,t.y+=e*Xy,C.x=G*(jy+w.x),C.y=G*(Xy+w.y)}),I.forEach((t,C)=>{var{r:w,I:G,z:jy,i:Xy,F:zy,h:m,P:Ry}=t;for(k=C+1;k<I.length;k++)if(i=I[k],i.z&Xy&&i.i&jy){var{h:ky,P:Ly}=i,Dy=m.x-ky.x,Cy=m.y-ky.y,dy=Dy*Dy+Cy*Cy,yy=i.I+G;if(0<dy&&dy<=yy*yy){dy=Math.sqrt(dy),Dy/=dy,Cy/=dy;var Ty=zy/(zy+i.F);yy-=dy,dy=yy*Ty,m.x+=Dy*dy,m.y+=Cy*dy,yy-=dy,ky.x-=Dy*yy,ky.y-=Cy*yy,yy=Dy*(Ry.x-Ly.x)+Cy*(Ry.y-Ly.y),0>yy&&(yy*=w*i.r+1,Ty*=yy,Ry.x-=Dy*Ty,Ry.y-=Cy*Ty,Ty=yy-Ty,Ly.x+=Dy*Ty,Ly.y+=Cy*Ty,L?.UR?.(C,t,k,i))}}if(zy!=0){U.forEach((N,xy)=>{if(N.z&Xy&&N.i&jy){var{qy:{x:s,y:V}}=N;A=N.xy-(s*m.x+V*m.y)+G,0<A&&(m.x+=s*A,m.y+=V*A,A=Ry.x*s+Ry.y*V,0>A&&(A*=w*N.r+1,Ry.x-=A*s,Ry.y-=A*V,L?.MR?.(C,t,xy)))}}),Z.forEach((N,xy)=>{if(N.z&Xy&&N.i&jy){var s,V,K,{x:ry,y:iy}=m;if(isFinite(N.wy)){if(V=N.fO,s=ry-V.x,V=iy-V.y,K=N._p,yy=N.gp,(0<K.x*s+K.y*V&&0<yy.x*s+yy.y*V)==0>=N.wy||(yy=Math.sqrt(s*s+V*V),yy==0))return;K=yy-N.QR,s/=yy,V/=yy}else{var{x:qy,y:cy}=N.v.h,{x:Hy,y:Qy}=N.s.h;if(V=Hy-qy,s=Qy-cy,K=ry-Hy,yy=iy-Qy,0>=(ry-qy)*V+(iy-cy)*s||0<=K*V+yy*s)return;V=N.qy,s=V.x,V=V.y,K=s*K+V*yy}if(yy=N.ny,yy==0)0>K&&(K=-K,s=-s,V=-V);else if(0>yy&&(yy=-yy,K=-K,s=-s,V=-V),K<-yy)return;K>=G||(K=G-K,m.x+=s*K,m.y+=V*K,K=s*Ry.x+V*Ry.y,0>K&&(K*=w*N.r+1,Ry.x-=s*K,Ry.y-=V*K,L?.nR?.(C,t,xy)))}});var Ay=G*G;W.forEach((N,xy)=>{if(N.z&Xy&&N.i&jy&&(A=m.x-N.h.x,J=m.y-N.h.y,T=A*A+J*J,0<T&&T<=Ay)){T=Math.sqrt(T),A/=T,J/=T,T=G-T,m.x+=A*T,m.y+=J*T,T=A*Ry.x+J*Ry.y;var s=0>T;s&&(T*=w*N.r+1,Ry.x-=A*T,Ry.y-=J*T),L?.NR?.(C,t,xy,s)}})}});for(var gy=0;2>gy;gy++)Q.forEach(({vy:t,ay:C,$Y:w,dy:G,Cy:jy},Xy)=>{if(t=I[t],C=I[C],t&&C){var{h:zy,P:m,F:Ry}=t,{h:ky,P:Ly,F:Dy}=C;if(c=zy.x-ky.x,C=zy.y-ky.y,i=Math.sqrt(c*c+C*C),!(0>=i)){if(c/=i,C/=i,k=Ry/(Ry+Dy),k!=k&&(k=.5),G>=jy)A=G,J=0;else if(i<=G)A=G,J=1;else if(i>=jy)A=jy,J=-1;else return;i=A-i,isFinite(w)?(k=w*i*.5,c*=k,C*=k,m.x+=c*Ry,m.y+=C*Ry,Ly.x-=c*Dy,Ly.y-=C*Dy,L?.dO?.(Xy,!1,!0)):(A=i*k,zy.x+=c*A*.5,zy.y+=C*A*.5,i-=A,ky.x-=c*i*.5,ky.y-=C*i*.5,i=c*(m.x-Ly.x)+C*(m.y-Ly.y),(w=0>=J*i)&&(k*=i,m.x-=c*k,m.y-=C*k,k=i-k,Ly.x+=c*k,Ly.y+=C*k),L?.dO?.(Xy,!0,w))}}})},Ap:function(e){this.Z.push(e)},eO:function(e){e=this.Z.indexOf(e),0>e||this.Z.splice(e,1)}},b.bL=f});return y((S,b)=>{b.bL={HX:Y(),kO:j(),$O:O(),qO:p(),hh:x(),CO:l(),TO:_(),VR:r(),BR:D()}})()})();typeof JY<"u"?(typeof ZY<"u"&&ZY.bL&&(JY=ZY.bL=bY),JY.pz=bY):typeof root<"u"?root.nago=bY:window.nago=bY});var rX=zY((wx,lX)=>{function vy(y,Y){return Y={bL:{}},y(Y,Y.bL),Y.bL}Object.assign(U9K,{qY:null,JY:{Sp:"www.haxball.com",Oz:"p2p.haxball.com",tX:!0},OY:null,Rz:9,WX:null,KR:[{urls:"stun:stun.l.google.com:19302"}],xz:"",PO:"",hY:null,_Y:null,cO:null,Dp:null,zz:null,GR:null,bp:null,oO:null,lz:null,XX:null,Jp:null,cy:null,rz:null,Ny:null,iz:null,Zp:null,aR:null});var hp=(y,Y)=>{var j=U9K,O=Y?.backend;O&&(O.hostname!=null&&(j.JY.Sp=O.hostname),O.hostnameWs!=null&&(j.JY.Oz=O.hostnameWs),O.secure!=null&&(j.JY.tX=O.secure)),O=Y?.proxy,O&&(j.qY={_h:O.HttpUrl,fp:O.WebSocketUrl,HO:O.WebSocketChangeOriginAllowed}),Y?.version!=null&&(j.Rz=Y.version),j.xz=(j.JY.tX?"wss":"ws")+"://"+j.JY.Oz+"/",j.PO=j?.qY?._h||(j.JY.tX?"https":"http")+"://"+j.JY.Sp+"/rs/",Y?.stunServer!=null&&(j.KR=[{urls:Y.stunServer}]),j.hY=y.setTimeout?.bind(y),j._Y=y.clearTimeout?.bind(y),j.cO=y.setInterval?.bind(y),j.Dp=y.clearInterval?.bind(y),j.zz=y.console?.log?.bind(y),j.GR=y.console?.warn?.bind(y),j.bp=y.requestAnimationFrame?.bind(y),j.oO=y.cancelAnimationFrame?.bind(y),j.lz=y.fetch?.bind(y),j.XX=y.crypto?.subtle,j.Jp=y.WebSocket,j.cy=y.performance,j.rz=y.JSON5,j.Ny=y.pako,j.OY=Y?.proxyAgent,j.WX=Y?.identityToken;var p=y.webkitRTCPeerConnection||y.mozRTCPeerConnection||y.RTCPeerConnection,x=y.webkitRTCIceCandidate||y.mozRTCIceCandidate||y.RTCIceCandidate,l=y.webkitRTCSessionDescription||y.mozRTCSessionDescription||y.RTCSessionDescription;return j.iz=p,j.Zp=x,j.aR=l,j},M=vy(function(y){y.bL=y.vR||(y.vR={wX:0,Lp:1,dp:2,hz:-1,_z:0,gz:1,Az:2,Sz:3,Dz:4,bz:0,tO:1,Jz:2,Zz:3,fz:4,Lz:5,dz:6,ez:7,kz:8,$z:9,sR:10,qz:12,uR:14,Cz:18,Tz:20,Pz:21,cz:22,oz:23,Hz:24,tz:25,Wz:26,wz:27,Iz:31,Ez:32,Ij:33,mz:36,yx:38,Qz:40,Fz:41,Uz:51,Mz:55,nz:56,Yx:59,Nz:2,Vz:6,Bz:17})}),Yj=null;function Gy(y,Y=null){this.abbr=y,this.api={errors:{}},this.defineMetadata(Y)}Object.defineProperty(Gy,"current",{get:function(){return Yj},set:function(y){Yj=y,Gy.gh?.(y)}});Gy.prototype.defineMetadata=function(y){};Gy.resolveText=function(y,Y){if(y){Y=Y.map(_=>_?.p9||_);for(var j=/\$([\d]+)\?\("([^"]*)":"([^"]*)"\)/gm,O=/\$([\d]+)/gm,p,x="",l=0;(p=j.exec(y))!=null;)x+=y.substring(l,p.index)+(Y[p[1]-1]?p[2]:p[3]),l=p.index+p[0].length;for(x+=y.substring(l),y="",l=0;(p=O.exec(x))!=null;)y+=x.substring(l,p.index)+Y[p[1]-1],l=p.index+p[0].length;return y+=x.substring(l),y}};Gy.jx=(y,Y)=>Gy.resolveText(Yj?.api?.errors?.[y],Y||[]);var Vj=Gy,Iy=vy(function(y){var{E:Y}=U9K,{jx:j}=Vj;function O(){this.Kz=M.bz,this.Gz=null;var x=this;this.toString=()=>j(x.Kz,x.Gz)}function p(x,...l){var _=new O;return _.Kz=x,_.Gz=l,_}Y(O,[],["code","params"],[]),y.bL=y.Ah||(y.Ah={Vy:p,ep:O})}),$y=vy(function(y){var{hY:Y,_Y:j,cy:O,E:p}=U9K,{Vy:x}=Iy;let l=.97;function _(i,A){var J=i.indexOf(A);return J<0?!1:(i.splice(J,1),!0)}function r(i,A=1){if(A<=0){i();return}Promise.resolve().then(()=>{r(i,A-1)})}function D(i,A=!1){this.$=i,this.Iy=A,this._=0}D.Ey=function(i,A){var J=i.getUint8(A),T=A;if(!(J&128))A++;else if((J&224)==192)J=(J&31)<<6|i.getUint8(A+1)&63,A+=2;else if((J&240)==224)J=(J&15)<<12|(i.getUint8(A+1)&63)<<6|i.getUint8(A+2)&63,A+=3;else if((J&248)==240)J=(J&7)<<18|(i.getUint8(A+1)&63)<<12|(i.getUint8(A+2)&63)<<6|i.getUint8(A+3)&63,A+=4;else if((J&252)==248)J=(J&3)<<24|(i.getUint8(A+1)&63)<<18|(i.getUint8(A+2)&63)<<12|(i.getUint8(A+3)&63)<<6|i.getUint8(A+4)&63,A+=5;else if((J&254)==252)J=(J&1)<<30|(i.getUint8(A+1)&63)<<24|(i.getUint8(A+2)&63)<<18|(i.getUint8(A+3)&63)<<12|(i.getUint8(A+4)&63)<<6|i.getUint8(A+5)&63,A+=6;else throw x(M.Tz,A,J);return{Sh:J,Dh:A-T}},D.prototype={Uy:function(i){if(i==null&&(i=this.$.byteLength-this._),this._+i>this.$.byteLength)throw x(M.Pz);var A=new Uint8Array(this.$.buffer,this.$.byteOffset+this._,i);return this._+=i,A},az:function(i){var A=this.Uy(i);return i=new ArrayBuffer(i),new Uint8Array(i).set(A),i},kp:function(){return this.$.getInt8(this._++)},q:function(){return this.$.getUint8(this._++)},Xx:function(){var i=this.$.getInt16(this._,this.Iy);return this._+=2,i},By:function(){var i=this.$.getUint16(this._,this.Iy);return this._+=2,i},W:function(){var i=this.$.getInt32(this._,this.Iy);return this._+=4,i},ry:function(){var i=this.$.getUint32(this._,this.Iy);return this._+=4,i},px:function(){var i=this.$.getFloat32(this._,this.Iy);return this._+=4,i},d:function(){var i=this.$.getFloat64(this._,this.Iy);return this._+=8,i},Ey:function(){var{_:i,$:A}=this,J=0,T,I=0;do T=A.getUint8(i+J),J<5&&(I|=(T&127)<<7*J>>>0),++J;while(T&128);return this._+=J,I|0},pX:function(i){for(var{_:A,$:J}=this,T,I="",U=A+i;A<U;)T=D.Ey(J,A),A+=T.Dh,I+=String.fromCodePoint(T.Sh);if(A!=U)throw x(M.cz,A-U);return this._=A,I},gY:function(){var i=this.Ey();return i<=0?null:this.pX(i-1)},ZY:function(){return this.pX(this.Ey())},vz:function(){return this.pX(this.q())},$p:function(){return JSON.parse(this.ZY())}};function S(i,A=!1){this.$=i,this.Iy=A,this._=0}S.j=function(i=16,A=!1){return new S(new DataView(new ArrayBuffer(i)),A)},S.oy=function(i,A,J){var T=J;if(i<0)throw x(M.oz,i);if(i<128)A.setUint8(J,i&127),++J;else if(i<2048)A.setUint8(J,i>>6&31|192),A.setUint8(J+1,i&63|128),J+=2;else if(i<65536)A.setUint8(J,i>>12&15|224),A.setUint8(J+1,i>>6&63|128),A.setUint8(J+2,i&63|128),J+=3;else if(i<2097152)A.setUint8(J,i>>18&7|240),A.setUint8(J+1,i>>12&63|128),A.setUint8(J+2,i>>6&63|128),A.setUint8(J+3,i&63|128),J+=4;else if(i<67108864)A.setUint8(J,i>>24&3|248),A.setUint8(J+1,i>>18&63|128),A.setUint8(J+2,i>>12&63|128),A.setUint8(J+3,i>>6&63|128),A.setUint8(J+4,i&63|128),J+=5;else if(i<-2147483648)A.setUint8(J,i>>30&1|252),A.setUint8(J+1,i>>24&63|128),A.setUint8(J+2,i>>18&63|128),A.setUint8(J+3,i>>12&63|128),A.setUint8(J+4,i>>6&63|128),A.setUint8(J+5,i&63|128),J+=6;else throw x(M.Hz,i);return J-T},S.bh=function(i){if(i<0)throw x(M.tz,i);if(i<128)return 1;if(i<2048)return 2;if(i<65536)return 3;if(i<2097152)return 4;if(i<67108864)return 5;if(i<-2147483648)return 6;throw x(M.Wz,i)},S.WO=function(i){for(var A=0,J=i.length,T=0;T<J;T++)A+=S.bh(i.charCodeAt(T));return A},S.Jh=function(i){return i>>>=0,i<128?1:i<16384?2:i<2097152?3:i<268435456?4:5},S.prototype={wO:function(){var i=new ArrayBuffer(this._),A=new Uint8Array(this.$.buffer,this.$.byteOffset,this._);return new Uint8Array(i).set(A),i},my:function(){return new Uint8Array(this.$.buffer,this.$.byteOffset,this._)},OX:function(){return new DataView(this.$.buffer,this.$.byteOffset,this._)},Zh:function(){return new D(this.OX(),this.Iy)},Yj:function(i){this.$.byteLength>=i||this.fh(2*this.$.byteLength>=i?2*this.$.byteLength:i)},fh:function(i){if(i<1)throw x(M.wz);if(!(this.$.byteLength>=i)){var A=new Uint8Array(this.$.buffer);i=new ArrayBuffer(i),new Uint8Array(i).set(A),this.$=new DataView(i)}},g:function(i){var A=this._++;this.Yj(this._),this.$.setUint8(A,i)},Ox:function(i){var A=this._;this._+=2,this.Yj(this._),this.$.setInt16(A,i,this.Iy)},My:function(i){var A=this._;this._+=2,this.Yj(this._),this.$.setUint16(A,i,this.Iy)},m:function(i){var A=this._;this._+=4,this.Yj(this._),this.$.setInt32(A,i,this.Iy)},ey:function(i){var A=this._;this._+=4,this.Yj(this._),this.$.setUint32(A,i,this.Iy)},Rx:function(i){var A=this._;this._+=4,this.Yj(this._),this.$.setFloat32(A,i,this.Iy)},J:function(i){var A=this._;this._+=8,this.Yj(this._),this.$.setFloat64(A,i,this.Iy)},sy:function(i){var A=this._;this._+=i.byteLength,this.Yj(this._),new Uint8Array(this.$.buffer,this.$.byteOffset,this.$.byteLength).set(i,A)},IO:function(i){this.sy(new Uint8Array(i))},fY:function(i){this.oy(S.WO(i)),this.EO(i)},AY:function(i){if(i==null){this.oy(0);return}this.oy(S.WO(i)+1),this.EO(i)},sz:function(i){var A=S.WO(i);if(A>255)throw null;this.g(A),this.EO(i)},mO:function(i){this.fY(JSON.stringify(i))},EO:function(i){var{_:A}=this,J=i.length;this.Yj(A+S.WO(i));for(var{$:T}=this,I=0;I<J;I++)A+=S.oy(i.charCodeAt(I),T,A);this._=A},oy:function(i){var{_:A}=this;i>>>=0,this.Yj(A+S.Jh(i));var{$:J}=this;J.setUint8(A,i|128),i>=128?(J.setUint8(A+1,i>>7|128),i>=16384?(J.setUint8(A+2,i>>14|128),i>=2097152?(J.setUint8(A+3,i>>21|128),i>=268435456?(J.setUint8(A+4,i>>28&127),i=5):(J.setUint8(A+3,J.getUint8(A+3)&127),i=4)):(J.setUint8(A+2,J.getUint8(A+2)&127),i=3)):(J.setUint8(A+1,J.getUint8(A+1)&127),i=2)):(J.setUint8(A,J.getUint8(A)&127),i=1),this._+=i}};function b(i){this.qp=[];for(var A=0;A<i;A++)this.qp.push(0);this.Cp=0,this.xx=0}b.prototype={Lh:function(i){this.xx-=this.qp[this.Cp],this.qp[this.Cp]=i,this.xx+=i,this.Cp++,this.Cp>=this.qp.length&&(this.Cp=0)},dh:function(){return this.xx/this.qp.length}};function f(i){this.eh=i,this.Ky=[],this.Tp=0}f.prototype={uz:function(i){this.Tp=0;var A=0;this.Ky.forEach((T,I)=>{T.zx++,T.IX*=l,this.Ky[A].zx<T.zx&&(A=I),this.Tp+=T.IX});var J;for(this.Ky.length>=this.eh?(J=this.Ky[A],this.Tp-=J.IX,this.Ky.splice(A,1)):J={},J.value=i,J.IX=1,J.zx=0,this.Tp+=J.IX,i=0;i<this.Ky.length&&this.Ky[i].value<=J.value;++i);this.Ky.splice(i,0,J)},QO:function(i){if(this.Ky.length==0)return 0;if(this.Ky.length==1)return this.Ky[0].value;i*=this.Tp;for(var A=this.Ky[0].IX,J=0;J<this.Ky.length-1&&!(A>=i);)A+=this.Ky[++J].IX;return this.Ky[J].value},kh:function(){return this.Ky.length==0?0:this.Ky[this.Ky.length-1].value}};function e(i,A){this.yl=i,this.Yl=A,this.Pp=i,this.lx=U9K.cy.now()}e.prototype={jl:function(i=1){return this.Fy(),i>this.Pp?!1:(this.Pp-=i,!0)},Fy:function(){var i=U9K.cy.now(),A=Math.floor((i-this.lx)/this.Yl);this.lx+=A*this.Yl,this.Pp+=A,this.Pp>=this.yl&&(this.Pp=this.yl,this.lx=i)}};let L="0123456789ABCDEF";var k=i=>(i=parseInt(i),isNaN(i)?null:i),c={name:"Integer"};p(D,[],["dataView","littleEndian","offset"],["readUint8Array","readArrayBuffer","readInt8","readUint8","readInt16","readUint16","readInt32","readUint32","readFloat32","readFloat64","readUTF8Char","readStringContents","readNullableString","readString","readString2","readJSON"]),p(S,[],["dataView","littleEndian","offset"],["toArrayBuffer","toUint8Array","toDataView","createStreamReader","doubleSizeIfNecessary","resize","writeUint8","writeInt16","writeUint16","writeInt32","writeUint32","writeFloat32","writeFloat64","writeUint8Array","writeArrayBuffer","writeString","writeNullableString","writeString2","writeJSON","writeStringContents","writeUTF8Char"]),S.create=S.j,y.bL=y.$h||(y.$h={FO:(i,A,J)=>i<A?A:i>J?J:i,cp:_,Ej:D,mj:S,qh:b,Ch:f,Th:e,UO:c,MO:(i,A)=>{var J=A!=null;if(J){switch(A){case Array:J=i instanceof Array;break;case Boolean:J=typeof i=="boolean";break;case Number:J=typeof i=="number";break;case c:J=typeof i=="number"&&(i|0)===i;break;case String:J=typeof i=="string";break;default:J=!1}if(J)return i}throw x(M.Cz,JSON.stringify(i),A.name||JSON.stringify(A))},nO:(i,A)=>new Promise((J,T)=>{var I=U9K.hY(()=>{T("Timed out")},A);i.then(U=>{U9K._Y(I),J(U)},U=>{U9K._Y(I),T(U)})}),jj:(i,A)=>{var J=Object.create(i);for(var T in A)J[T]=A[T];return A.toString!==Object.prototype.toString&&(J.toString=A.toString),J},NO:i=>{for(var A="",J=0;J<i.length;)A+=String.fromCharCode(L.indexOf(i.charAt(J++))<<4|L.indexOf(i.charAt(J++)));return A},VO:i=>i.reduce((A,J)=>A+String.fromCharCode(J),""),BO:k,O9:i=>k("0x"+i),op:(i,A)=>{var J="";do J=L.charAt(i&15)+J,i>>>=4;while(i>0);if(A!=null)for(;J.length<A;)J="0"+J;return J},KO:i=>{var A;if(i?.includes(".")){if(A=i.split("."),A.length>4)return;for(;A.length<4;)A.splice(0,0,"");return A.reduce((U,Z,W)=>{if(U!=null){var Q=parseInt(Z.length>0?Z:"0");return isNaN(Q)||Q<0||Q>255?null:(U|=Q<<24-W*8,U)}},0)}if(i?.includes(":")){A=i.split(":");var J=i.indexOf("::");if(J!=i.lastIndexOf("::"))return;if(J>=0){var T=A.length;if(T>9)return;J=A.findIndex(U=>U.length==0),(J==0||J==T-2&&A[T-1].length==0)&&(A.splice(J,1),T--),A[J]="0";for(var I=0;I<8-T;I++)A.splice(J+1,0,"0")}return A.length!=8?void 0:A.reduce((U,Z,W)=>{if(U!=null){var Q=parseInt(Z,16);if(!(isNaN(Q)||Q<0||Q>65535))return U|=BigInt(Q)<<112n-BigInt(W)*16n,U}},0n)}},GO:i=>{var A=i?.__proto__.constructor.name,J,T;if(A=="BigInt"){var I={Hp:-1,MY:0},U={Hp:-1,MY:0};for(T=[],J=0;J<8;J++){var Z=i&65535n;Z==0?(U.MY==0&&(U.Hp=7-J),U.MY++,U.MY>I.MY&&(I.MY=U.MY,I.Hp=U.Hp)):U.MY=0,T.splice(0,0,Z.toString(16)),i>>=16n}I.MY>0&&(J=I.Hp-I.MY+1,T.splice(J,I.MY-1),T[J]="");var W=T.join(":");return W.length==0?W="::":W.charAt(W.length-1)==":"?W+=":":W.charAt(0)==":"&&(W=":"+W),W}else if(A=="Number"){for(T=[],J=0;J<4;J++)T.splice(0,0,""+(i&255)),i>>=8;return T.join(".")}},rx:i=>{if(i.length==43){for(var A=0n,J=0,T=252;J<43;J++,T-=6){var I=i.charCodeAt(J);if(I==45)I=0;else if(I==95)I=63;else if(I>=48&&I<=57)I-=47;else if(I>=65&&I<=90)I-=54;else if(I>=97&&I<=122)I-=60;else return;A|=BigInt(I)<<BigInt(T)}return A}},ix:i=>{var A=i?.__proto__.constructor.name;if(A=="BigInt"){for(var J="",T=0;T<43;T++){if(A=Number(i&63n),A==0)A=45;else if(A==63)A=95;else if(A>=1&&A<=10)A+=47;else if(A>=11&&A<=36)A+=54;else if(A>=37&&A<=62)A+=60;else return;J=String.fromCharCode(A)+J,i>>=6n}return J}},aO:(i,A,J)=>!((i^A)&J),tp:(i,A,J=!0)=>!i&&J?null:(typeof i=="string"&&(i=JSON.parse(i)),{lat:i?.lat||A?.lat||40,lon:i?.lon||A?.lon||40,flag:i?.flag||A?.flag||"tr"}),hx:r})}),{Ej:Wj,mj:_p}=$y,{Vy:gp}=Iy,pj={name:"ECDSA",namedCurve:"P-256"},Bj={name:"ECDSA",hash:{name:"SHA-256"}};function Ap(y,Y,j){try{return U9K.XX.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["sign"],kty:"EC",d:j,x:y,y:Y},pj,!0,["sign"])}catch(O){return Promise.reject(O)}}function Sp(y,Y){try{return U9K.XX.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",x:y,y:Y},pj,!0,["verify"])}catch(j){return Promise.reject(j)}}function ay(){this.x=null,this.y=null,this._x=null,this.gx=null}ay.Ph=function(){try{return U9K.XX.generateKey(pj,!0,["sign","verify"]).then(function(y){var Y=y.privateKey;return U9K.XX.exportKey("jwk",Y).then(function(j){var O=new ay;return O.x=j.x,O.y=j.y,O._x=j.d,O.gx=Y,O})})}catch(y){return Promise.reject(y)}};ay.ch=function(y){var Y=y.split(".");if(Y.length!=4||Y[0]!="idkey")return Promise.reject(gp(M.Uz));var j=Y[1],O=Y[2],p=Y[3];return Ap(j,O,p).then(function(x){var l=new ay;return l.x=j,l.y=O,l._x=p,l.gx=x,l})};ay.oh=function(y,Y){try{var j=new Wj(new DataView(y.buffer,y.byteOffset,y.byteLength),!1);j.q();var O=j.Uy(j.By()),p=j.Uy();j=new Wj(new DataView(O.buffer,O.byteOffset,O.byteLength),!1);var x=j.ZY(),l=j.ZY(),_=j.Uy();if(_.byteLength!=Y.byteLength)return Promise.reject(null);for(var r=0;r<_.byteLength;r++)if(_[r]!=Y[r])return Promise.reject(null);return Sp(x,l).then(function(D){return U9K.XX.verify(Bj,D,p,O)}).then(function(D){if(!D)throw null;return x})}catch(D){return Promise.reject(D)}};ay.prototype={Hh:function(){return"idkey."+this.x+"."+this.y+"."+this._x},th:function(y){try{var Y=_p.j(1024);Y.g(1);var j=Y._;Y.My(0);var O=Y._;Y.fY(this.x),Y.fY(this.y),Y.sy(y);var p=Y._-O;return Y.$.setUint16(j,p,Y.Iy),U9K.XX.sign(Bj,this.gx,new Uint8Array(Y.$.buffer,Y.$.byteOffset+O,p)).then(function(x){return Y.IO(x),Y.my()})}catch(x){return Promise.reject(x)}}};var Kj=ay,jj=vy(function(y){function Y(l,_,r,D,S,b,f){return new Promise(function(e,L){var k={method:r,body:S};l!=null&&(k.agent=l);var c=f||{};b!=null&&Object.assign(c,{"Content-type":b}),k.headers=c,U9K.lz(_,k).then(async i=>{i.status>=200&&i.status<300?e(await i[D]()):L("status: "+i.status)}).catch(i=>{L(i)})})}function j(l,_,r,D){return Y(l,_,"GET",r,null,null,D)}function O(l,_,r){return j(l,_,"json",r).then(function(D){if(D.error!=null)throw D.error;return D.data})}function p(l,_,r,D,S){return Y(l,_,"POST","json",r,D,S).then(function(b){if(b.error!=null)throw b.error;return b.data})}function x({Xl:l,CY:_,pl:r,OY:D,Wh:S,EX:b,nY:f,mX:e,QX:L}){var k;if(D||U9K.qY?.HO){var c={};D&&(c.agent=D);var i=S||{};U9K.qY.HO&&Object.assign(i,{Origin:(U9K.JY.tX?"https":"http")+"://"+U9K.JY.Sp}),c.headers=i,k=new U9K.Jp(l+"?token="+_,r,c)}else k=new U9K.Jp(l+"?token="+_,r);return k.binaryType="arraybuffer",k.onopen=b,k.onclose=f,k.onerror=e,k.onmessage=L,k}y.bL=y.wh||(y.wh={Ax:l=>j(l,U9K.PO+"api/list","arrayBuffer"),Sx:l=>O(l,U9K.PO+"api/geo").then(_=>({lat:_.lat,lon:_.lon,flag:_.code.toLowerCase()})),Dx:({OY:l,CY:_,Ih:r=""},D,S)=>p(l,U9K.PO+"api/host","token="+_+"&rcr="+r,"application/x-www-form-urlencoded",{Accept:"*/*","Content-length":"11","Content-type":"application/x-www-form-urlencoded",Priority:"u=1, i","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}).then(b=>{switch(b.action){case"connect":D(b.url,b.token);break;case"recaptcha":S(b.sitekey);break}}),Ol:x})}),{Vy:yY}=Iy,{jj:Dp}=$y;function Zy(){this.YY=0}Zy.vO=new Map;Zy.Eh=function(y){if(y.Xj==null)throw yY(M.Iz);y.prototype.Xj=y.Xj,Zy.vO.set(y.prototype.eventType,y)};Zy.S=function(y,Y){var j=y?.FX?.prototype?.eventType;if(j==null)throw yY(M.Ez);Y.g(j),y.S(Y)};Zy.D=function(y,Y){var j=Uy.sO(y.q());return j.Zy=0,j.D(y,Y),j};Zy.prototype={H:function(){throw yY(M.Ij)},D:function(){throw yY(M.Ij)},S:function(){throw yY(M.Ij)},copy:function(){throw yY(M.Ij)},FX:Zy};Zy.prototype.eventType=null;function Uy(){}Uy.V=Zy;Uy.gy=function({X:y,zy:Y,jy:j,Q:O,Ay:p,Sy:x,H:l,S:_,D:r}){function D(){this.YY=0,O.call(this)}return D.j=function(...S){return p(new D,...S)},D.prototype=Dp(Zy.prototype,{H:function(S){l.call(this,S)},S:function(S){_.call(this,S)},D:function(S,b){r.call(this,S,b)},copy:function(){var S=D.j(...x.call(this));return S.YY=this.YY,S.Zy=this.Zy,S.p=this.p,S.uO=this.uO,to},FX:D}),D.prototype.eventType=y,D.Xj={zy:Y,jy:j},Zy.Eh(D),D};Uy.Wp=function(y,Y){Zy.vO.delete(y.prototype.eventType),y.prototype.eventType=Y,Zy.vO.set(Y,y)};Uy.sO=y=>{var Y=Zy.vO.get(y);if(Y){var j=Object.create(Y.prototype);return j.YY=0,j}};Uy.bx=Zy.D;Uy.Jx=Zy.S;var My=Uy,Oj=vy(function(y){var{Vy:Y}=Iy,{gy:j}=My,O=j({X:M.Nz,zy:!1,jy:!1,Q:function(){this.Ry=null},Ay:function(l,_){return l.Ry=_,l},Sy:function(){var l=null;return this.Ry&&(l=new ArrayBuffer(this.Ry.byteLength),new Uint8Array(l).set(new Uint8Array(this.Ry))),[l]},H:function(l){l.mh(this.Ry)},S:function(l){l.oy(this.Ry.byteLength),l.IO(this.Ry)},D:function(l){this.Ry=l.az(l.Ey())}}),p=j({X:M.Vz,zy:!1,jy:!1,Q:function(){this.X=0,this.pj=null,this.wp=!1,this.p=0},Ay:function(l,_,r,D){return l.X=_,l.pj=r,l.wp=D,l},Sy:function(){return[this.X,this.pj,this.wp]},H:function(l){l.TY(this.p,128)&&l.Qh(l.G(this.X),this.pj,this.wp,l.G(this.p))},S:function(l){this.pj!=null&&(this.pj=this.pj.substring(0,100)),l.m(this.X),l.AY(this.pj),l.g(this.wp?1:0)},D:function(l){if(this.X=l.W(),this.pj=l.gY(),this.wp=l.q()!=0,this.pj!=null&&this.pj.length>100)throw Y(M.mz)}}),x=j({X:M.Bz,zy:!1,jy:!1,Q:function(){this.Lj=null,this.p=0},Ay:function(l,_){return l.Lj=_,l},Sy:function(){return[this.Lj.slice()]},H:function(l){this.p==0&&l.Fh(this.Lj)},S:function(l){l.oy(this.Lj.length),this.Lj.forEach(_=>l.oy(_))},D:function(l){var _=l.Ey();this.Lj=[];for(var r=0;r<_;r++)this.Lj.push(l.Ey())}});y.bL=y.Uh||(y.Uh={RX:O,xX:p,zX:x})});function Gj(){}Gj.Zx=function({Q:y,LY:Y}){function j(){this.SY=-1,this.u=null,this.X=0,this.L="Player",this.UX=0,this.ky=null,this.Oj=!1,this.Qj=null,this.Gy=null,this.fx=null,y?.call(this)}return j.LY=function(O,p,x){O.X=p.X,O.L=p.L,O.UX=p.UX,O.ky=p.ky,O.Oj=p.Oj,Y?.(O,p,x)},j.prototype={dY:function(O){return O!=this.SY&&(this.u||(this.u=new j),this.SY=O,j.LY(this.u,this,O)),this.u}},j};var bp=Gj,aj=vy(function(y){var{E:Y}=U9K;function j(){this.NY=0,this.L="",this.ky="",this.yR=0,this.YR=0,this.PY=!1,this.Lx=0,this.o=0}j.prototype={Rl:function(){this.L=this.L.substring(0,40),this.ky=this.ky.substring(0,3)},S:function(p){this.Rl(),p.Iy=!0,p.My(this.NY),p.sz(this.L),p.sz(this.ky),p.Rx(this.yR),p.Rx(this.YR),p.g(this.PY?1:0),p.g(this.Lx),p.g(this.o),p.Iy=!1},D:function(p){p.Iy=!0,this.NY=p.By(),this.L=p.vz(),this.ky=p.vz(),this.yR=p.px(),this.YR=p.px(),this.PY=p.q()!=0,this.Lx=p.q(),this.o=p.q(),p.Iy=!1,this.Rl()}};function O(){this.Ry=null,this.X="",this.xy=1/0}Y(j,[],["version","name","flag","lat","lon","password","maxPlayers","players"],[]),Y(O,[],["data","id","dist"],[]),y.bL=y.Mh||(y.Mh={xl:j,zl:O})}),{Ej:KY,mj:GY}=$y,{V:wj}=My;function Jp(y,{Q:Y,Ip:j,Ep:O,mp:p,dx:x,ex:l}){function _(){this.R=new y.Rj(y),this.xj=[],this.MX=0,Y?.call(this)}return _.prototype={nh:function(r){var D=0,S=new KY(new DataView(r.buffer),!1);j?.call(this,S),this.MX=S.ry();var b,f=U9K.Ny.inflateRaw(S.Uy());S=new KY(new DataView(f.buffer,f.byteOffset,f.byteLength)),O?.call(this,S,this);var e=null;for(f=S.Uy(),S=new KY(new DataView(f.buffer,f.byteOffset,f.byteLength),!1),this.R.D(S);S._<S.$.byteLength;)b=S.Ey(),D+=b,b=S.By(),e=wj.D(S,!0),e.p=b,e.frameNo=D,this.xj.push(e)},Nh:function(){var r=GY.j(16384),D=0;this.R.S(r),this.xj.forEach(e=>{var L=e.frameNo;L<D||(r.oy(L-D),D=L,r.My(e.p),wj.S(e,r))});var S=GY.j(1e3);x?.call(this,S,this),S.sy(r.my());var b=U9K.Ny.deflateRaw(S.my()),f=GY.j(b.byteLength+32);return p?.call(this,f),f.ey(this.MX),f.sy(b),f.my()},Vh:function(r){var{R:D,xj:S,MX:b}=this,f=r?.beginFrameNo||0;f<0&&(f=0);var e=r?.endFrameNo||b-1;if(e>=b&&(e=b-1),!(e<f)){for(var L=0,k=0,c=S[0];k<f;){for(;k==c?.frameNo;)c.H(D),c=S[++L];k++,D.Qy(1)}S=S.filter(i=>i.frameNo>=f&&i.frameNo<=e),S.forEach(i=>{i.frameNo-=f}),this.xj=S,l?.call(this,f,e),this.MX=e-f+1}},Bh:function(r){var{R:D,xj:S,MX:b}=this,f=r?.beginFrameNo||0;f<0&&(f=0);var e=r?.endFrameNo||b-1;if(e>=b&&(e=b-1),e<f)return Promise.resolve();var L=0,k=0,c=S[0];return new Promise((i,A)=>{var J;J=_setInterval(()=>{if(k>=f){_clearInterval(J),S=S.filter(T=>T.frameNo>=f&&T.frameNo<=e),S.forEach(T=>{T.frameNo-=f}),this.xj=S,l?.call(this,f,e),this.MX=e-f+1,i();return}for(;k==c?.frameNo;)c.H(D),c=S[++L];k++,D.Qy(1)},0)})}},_}function vj(){}vj.Kh=Jp;var Zp=vj,{V:fp}=My,{mj:aY}=$y;function Lp({Q:y,mp:Y,lX:j}){function O(p){this.Gh=p?.f,this.rX=aY.j(1e3),this.Qp=aY.j(16384),this.R=p;var x=this,l=p.f;p.O.S(this.Qp),p.VY=_=>{var r=p.f;x.Qp.oy(r-l),l=r,x.Qp.My(_.p),fp.S(_,x.Qp)},y?.call(this)}return O.prototype={lX:function(){this.R.VY=null,j?.call(this),this.rX.sy(this.Qp.my());var p=U9K.Ny.deflateRaw(this.rX.my()),x=aY.j(p.byteLength+32);return Y?.call(this,x),x.ey(this.R.f-this.Gh),x.sy(p),x.my()}},O}function sj(){}sj.ah=Lp;var dp=sj;function uj(){this.uy=[]}uj.prototype={kx:function(y){var Y=0,{Zy:j,YY:O}=y;this.uy.find(p=>{var x=p.Zy;if(x>j)return!0;if(x==j){if(x=p.YY,x>O)return!0;x==O&&O++}Y++}),y.YY=O,this.uy.splice(Y,0,y)},vh:function(y){var Y=this.uy.findIndex(j=>j.Zy>=y);Y<0?this.uy.length=0:this.uy.splice(0,Y)},sh:function(y,Y){var{uy:j}=this;if(j.length=0,y=y.uy,Y=Y.uy,y.length==0){Y.forEach(D=>j.push(D));return}if(Y.length==0){y.forEach(D=>j.push(D));return}for(var O=0,p=y.length,x=0,l=Y.length;;){var _=y[O],r=Y[x];if(_.Zy<=r.Zy){if(j.push(_),O++,O>=p){for(;x<l;)j.push(Y[x++]);break}}else if(j.push(r),x++,x>=l){for(;O<p;)j.push(y[O++]);break}}},uh:function(y){var Y=0,{uy:j}=this;j.forEach(O=>{O.iX!=y&&(j[Y++]=O)}),j.length=Y},y_:function(y){var Y=this.uy.findIndex(j=>j.Zy>=y);return Y<0?this.uy.length:Y}};var Xj=uj,{Vy:vY}=Iy;function yX(y){this.$x=new Xj,this.hX=0,this.RY=0,this.dj=new Xj,this.cY=0,this.ej=0,this.BY=.06,this.qx=16.666666666666668,this.jR=120,this.f=0,this.O=y,this.Cx=0,this.Tx=null}yX.prototype={kj:function(){throw vY(M.Ij)},zj:function(y=0){throw vY(M.Ij)},Fy:function(){throw vY(M.Ij)},ll:function(y){this.Tx=null;for(var{uy:Y}=this.dj,j=0,O=Y.length,p,x=0;x<y;x++){for(;j<O&&(p=Y[j],p.Zy==this.f);)p.H(this.O),this.VY?.(p),this.RY++,j++;this.O.Qy(1),this.hX+=this.RY,this.RY=0,this.f++}for(;j<O&&(p=Y[j],!(p.Zy!=this.f||p.YY!=this.RY));)p.H(this.O),this.VY?.(p),this.RY++,j++;Y.splice(0,j)},a:function(y){y.Zy==this.f&&y.YY<=this.RY?(y.YY=this.RY++,y.H(this.O),this.VY?.(y)):this.dj.kx(y)},rl:function(y,Y){if(y<=0)return this.O;y>this.jR&&(y=this.jR);var j=this.Tx=this.O.dY(++this.Cx),O;Y!=null?(this.$x.sh(this.dj,Y),O=this.$x):O=this.dj,O=O.uy;for(var p=0,x=O.length,l=y|0,_=this.f,r=_+l;_<=r;_++){for(;p<x;){var D=O[p];if(D.Zy>_)break;D.Xj.zy&&D.H(j),p++}j.Qy(_!=r?1:y-l)}return this.$x.uy.length=0,j},Y_:function(y){this.cY=y*this.BY|0,this.O.Px?.(y)}};var wy=yX,{ep,Vy:kp}=Iy,{Ej:sY,jj:$p}=$y,{V:qp}=My;function Cp(y,{Ip:Y,Ep:j,Fj:O,$j:p}){function x(r,D,S){this.XR=0,this.nX=-1,this.lj=0,this.cx=0,this.rj=0,this.ox=0,wy.call(this,D);var b=new sY(new DataView(r.buffer),!1);Y?.call(this,b),this.Hx=b.ry();var f=U9K.Ny.inflateRaw(b.Uy());this.NX=new sY(new DataView(f.buffer,f.byteOffset,f.byteLength)),j?.call(this,this.NX),f=this.NX.Uy(),this.NX=new sY(new DataView(f.buffer,f.byteOffset,f.byteLength),!1),this.pR(),this.cx=U9K.cy.now(),this.ej=-1,this.R9=S,this.VX=null,this.tx=null}x.prototype=$p(wy.prototype,{il:function(){var{NX:r}=this;if(r.$.byteLength>r._){this.ox+=r.Ey();var D=r.By();this.Fp=qp.D(r,!0),this.Fp.p=D}else this.Fp=null},kj:function(){},zj:function(r=0){this.Fy();var D=this.O.dY(++this.Cx);return D.Qy(this.lj+r*this.BY|0),D},Fy:function(){var r=U9K.cy.now(),D=r-this.cx;this.cx=r;var S=!1,b=!1;this.nX>=0?(this.rj+=1e4,this.rj>this.nX&&(this.rj=this.nX,this.nX=-1,S=!0)):this.rj+=D*this.XR;var f=this.Hx*this.qx;for(this.rj>f&&(this.rj=f,b=!0),D=this.rj*this.BY,f=D|0,this.lj=D-f;this.f<f;){for(;this.Fp!=null&&this.ox==this.f;)this.Fp.H(this.O),this.VY?.(this.Fp),this.il();this.f++,this.O.Qy(1)}S&&(this.VX.Fj(),this.tx?.onDestinationTimeReached?.()),b&&(this.XR=0,this.VX.$j(),this.tx?.onEnd?.())},hl:function(r){this.VX.$j(),this.nX=r,this.rj>r&&this.pR()},pR:function(){this.ox=0,this.NX._=0,this.f=0,this.rj=0,this.O.D(this.NX),this.il()}});function l(r,D,S){var b=0,f=S?.requestAnimationFrame||U9K.bp,e=S?.cancelAnimationFrame||U9K.oO,L=D?.render,k=L&&function(){r.nX>0||L()},c=function(){b=f(c),r.Fy(),k?.()};b=f(c),this.$j=function(){p?.(r)},this.Fj=function(){O?.(r,D)},this.Xy=function(){e(b),this.$j()},this.pR=()=>{r.pR()}}function _(r,D,S){var b,f=new y.Rj(y);try{b=new x(r,f,D),b.VX=new l(b,D,S)}catch(L){throw L instanceof ep?L:kp(M.Qz,L)}var e={state:f,extrapolate:L=>b.zj(L),getSpeed:()=>b.XR,setSpeed:L=>{b.VX.Fj(),b.XR=L},getTime:()=>b.rj,length:()=>b.qx*b.Hx,setTime:L=>{b.hl(L)},getCurrentFrameNo:()=>b.f,setCurrentFrameNo:L=>{b.hl(b.qx*L)},destroy:()=>{b.VX.Xy()}};return Object.defineProperty(e,"gameState",{get(){return f.l}}),Object.defineProperty(e,"currentPlayerId",{get(){return b.ej}}),Object.defineProperty(e,"maxFrameNo",{get(){return b.Hx}}),b.tx=e,e}return _}function YX(){}YX.j_=Cp;var Tp=YX,{Kh:Pp}=Zp,{ah:cp}=dp,{j_:op}=Tp;function Hp(y,{Ip:Y,mp:j,Ry:{Q:O,Ep:p,dx:x,ex:l},X_:{Q:_,lX:r},p_:{Fj:D,$j:S}}){var b=Pp(y,{Q:O,Ip:Y,mp:j,Ep:p,dx:x,ex:l});return{O_:b,R_:cp({Q:_,mp:j,lX:r}),x_:op(y,{Ip:Y,Ep:p,Fj:D,$j:S}),z_:function(f){var e=new b;return e.nh(f),e},l_:function(f){return f.Nh()},r_:function(f,e){f?.Vh(e)},i_:function(f,e){return f?.Bh(e)||Promise.resolve()}}}function jX(){}jX.Wx=Hp;var tp=jX,{cp:Wp,Ej:wp,mj:Ij}=$y;function XX(){}XX.wx=function(y,{Q:Y,LY:j,_X:O,Qy:p,h_:x,__:l}){function _(){this.SY=-1,this.u=null,this.L="",this.o=[],this.BX=y,Y?.call(this)}return _.LY=function(r,D,S){if(r.L=D.L,!D.o)r.o=null;else{r.o||(r.o=[]);for(var b=r.o,f=D.o,e=f.length;b.length>e;)b.pop();for(var L=0;L<e;L++)b[L]=f[L].dY(S)}j?.(r,D,S)},_.prototype={Fh:function(r){this.o.find((D,S)=>{if(S>=r.length)return!0;D.UX=r[S]}),this.Ix?.(r)},Qh:function(r,D,S,b){r?.X&&(Wp(this.o,r),O?.call(this,r),this._X?.(r,D,S,b))},g_:function(r,D,S,b,f,e){var L=new this.BX.gX;L.X=r,L.L=D,L.ky=S,L.Jy=b,L.Qj=f,L.Gy=e,this.o.push(L),this.Up?.(L)},_l:function(r,D,S){var b=this.G(r);b&&(b.fx=D,this.Ex?.(r,D,S))},G:function(r){return this.o.find(D=>D.X==r)},Qy:function(r){p?.call(this,r)},S:function(r){r.AY(this.L),x?.call(this,r)},D:function(r){this.L=r.gY(),l?.call(this,r)},gl:function(){var r=0,D=Ij.j();for(this.S(D),D=D.Zh();D._<=D.$.byteLength-4;)r^=D.W();return r},A_:function(){var r=Ij.j(4);return r.m(this.gl()),r.wO()},mh:function(r){this.Al?.(this.gl()!=new wp(new DataView(r)).W())},TY:function(r){return r==0||this.G(r)?.oY},dY:function(r){return r!=this.SY&&(this.u||(this.u=new this.BX.Rj(this.BX)),this.SY=r,_.LY(this.u,this,r)),this.u}},_};var Ip=XX,{E:qY}=U9K,{KO:oy,GO:Ep,aO:mp,NO:Qp}=$y,kY=340282366920938463463374607431768211455n;function iY(){this.OR=!1,this.value=null,this.HY=null}iY.j=function(y,Y){if(y==null)return;let j=new iY,O=y.__proto__.constructor.name;return j.OR=O=="BigInt",j.value=y,j.HY=O!=Y?.__proto__.constructor.name?j.OR?kY:-1:Y,j};function Fy(){this.X=null,this.B=null,this.value=null}Fy.j=function(y,Y,j){var O=new Fy;return O.X=y,O.B=Y,O.value=j,O};Fy.prototype={Mp:function(){var y=new Fy;return y.X=this.X,y.B=this.B,y.value=this.value.Mp?this.value.Mp():this.value,y}};function $Y(){this.Uj=null,this.HY=null}$Y.j=function(y,Y){var j=new $Y;return j.Uj=y,j.HY=Y,j};function YY(){this.np=null,this.mx=null,this.AX=null,this.Gy=null}YY.j=function(y,Y,j,O){var p=new YY;return p.np=y,p.mx=Y,p.AX=j,p.Gy=O,p};YY.prototype={Mp:function(){var y=new YY;return y.np=this.np,y.mx=this.mx,y.AX=this.AX,y.Gy=this.Gy,y}};function Fp(y){var Y=[],j=1,O=new Set,p=[];this.RR=_=>{var r=y.SX.get(_?.X)?.py;if(!(!r||Y.findIndex(S=>S.B==M.wX&&S.value.np==_.X)>-1)){var D=[];return r.DX&&D.push(Qp(r.DX)),r.Np.forEach(S=>{D.includes(S)||D.push(S)}),D.forEach(S=>{var b=oy(S);b&&p.push(iY.j(b))}),O.add(_.Gy),Y.push(Fy.j(j,M.wX,YY.j(_.X,_.name,D,_.Gy))),j++}},this.Sl=(..._)=>_.map(r=>{var D=typeof r;if(D=="string")r={Uj:r};else if(D=="object")r={Uj:r.ip,HY:r.mask};else return;var S=oy(r.Uj);if(S==null)return;let b=S.__proto__.constructor.name=="BigInt";var f=oy(r.HY);S.__proto__.constructor.name!=f?.__proto__.constructor.name&&(f=b?kY:-1,r.HY=Ep(f));for(var e=0;e<Y.length;e++){let L=Y[e];if(L.B==M.Lp&&S==oy(L.value.Uj)&&f==oy(L.value.HY))return}return p.push(iY.j(S,f)),Y.push(Fy.j(j,M.Lp,$Y.j(r.Uj,r.HY))),j++}),this.S_=(..._)=>_.map(r=>{if(!O.has(r))return Y.push(Fy.j(j,M.dp,r)),O.add(r),j++}),this.Qx=_=>{let r=oy(_);if(r==null)return!1;let D=r.__proto__.constructor.name=="BigInt";for(var S=0;S<p.length;S++){let b=p[S];if(D==b.OR&&mp(r,b.value,b.HY))return!0}return!1},this.D_=_=>O.has(_);let x=(_,r)=>{let D=oy(_);if(D==null)return;let S=D.__proto__.constructor.name=="BigInt";var b=oy(r);b==null&&(b=S?kY:-1);let f=b==(S?kY:-1);for(var e=[],L=0;L<p.length;L++){let k=p[L];S==k.OR&&D==k.value&&b==k.HY&&e.push(L)}for(;e.length>0;)p.splice(e.pop(),1);for(e.length=0,Y.forEach((k,c)=>{f&&k.B==M.wX&&k.value.AX.findIndex(i=>oy(i)==D)>-1?(k.B=M.dp,k.value=k.value.Gy):k.B==M.Lp&&D==oy(k.value.Uj)&&b==oy(k.value.HY)&&e.push(c)});e.length>0;)Y.splice(e.pop(),1)},l=_=>{O.delete(_);var r=[],D=[];for(Y.forEach((S,b)=>{S.B==M.wX&&_==S.value.Gy?(D.splice(D.length,0,...S.value.AX),r.push(b)):S.B==M.dp&&_==S.value&&r.push(b)});r.length>0;)Y.splice(r.pop(),1);this.Sl(...D)};this.b_=_=>{var r=Y.findIndex(b=>b.X==_);if(r<0)return!1;var{B:D,value:S}=Y.splice(r,1)[0];switch(D){case M.wX:S.AX.forEach(b=>{x(b)}),l(S.Gy);break;case M.Lp:x(S.Uj,S.HY);break;case M.dp:l(S);break}return!0},this.Fx=_=>{var r=Y.findIndex(S=>S.B==0&&S.value?.np==_);if(r<0)return!1;var{value:D}=Y.splice(r,1)[0];return D.AX.forEach(S=>{x(S)}),l(D.Gy),!0},this.J_=()=>{O.clear(),p.length=0,Y.length=0},this.Z_=()=>Y.map(_=>_.Mp())}qY(iY,[],["ipv6","value","mask"],[]);qY(Fy,[],["id","type","value"],[]);qY($Y,[],["ip","mask"],[]);qY(YY,[],["pId","pName","ips","auth"],[]);var Up=Fp,pX=vy(function(y){function j(O){this.xR=!0,O.Dl(),this.fy=O.fy,this.Mj=O.Mj,this.Np=O.Np,this.DX=O.DX,this.bl=U9K.cy.now();var p=this,x,x=function(){var l=1e4-(U9K.cy.now()-p.bl);l<=0?p.Xy():(U9K._Y(p.Jl),p.Jl=U9K.hY(x,l+1e3))};x(),this.fy.oniceconnectionstatechange=function(){var l=p.fy.iceConnectionState;l!="closed"&&l!="failed"||p.Xy()},this.Mj.forEach(l=>{l.onmessage=function(_){p.xR&&(p.bl=U9K.cy.now(),p.QX?.(_.data))},l.onclose=function(){p.Xy()}})}j.prototype={DY:function(O,p){if(this.xR){var x=this.Mj[O];if(x.readyState=="open")try{x.send(p.wO())}catch{}}},Xy:function(){U9K._Y(this.Jl),this.xR&&(this.xR=!1,this.fy.close(),this.zR?.())}},y.bL=y.f_||(y.f_={Zl:[{L:"c1",Ux:!0,Mx:!0},{L:"c2",Ux:!0,Mx:!1},{L:"c3",Ux:!1,Mx:!1}],fl:j})}),{E:Mp}=U9K,{nO:np}=$y;function hY(y,Y,j){this.KX=null,this.DX=null,this.Np=[],this.Ll=0,this.dl=!1,this.lR=[],this.Mj=[],this.fy=Y&&new U9K.iz({iceServers:Y},hY.L_);var O=this;this.nx=new Promise(p=>{O.d_=p}),this.X=y,Y&&(this.fy.onicecandidate=function(p){if(!p.candidate){O.d_(O.lR);return}p=p.candidate,p.candidate&&(O.Nx?.(p),O.lR.push(p))},j.forEach(p=>O.e_(p)))}hY.L_={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};hY.prototype={Vx:function(y=1e4){U9K._Y(this.KX),this.KX=U9K.hY(this.rR.bind(this),y)},k_:function(y,Y){var j=this;this.el(this.fy.setRemoteDescription(y).then(()=>j.fy.createAnswer()),Y,500)},$_:function(){this.el(this.fy.createOffer(),[],1e3)},el:function(y,Y,j){var O=this;y.then(p=>O.fy.setLocalDescription(p).then(()=>p)).then(p=>(Y.forEach(x=>O.kl(x)),np(O.nx,j).then(()=>p,()=>p))).then(p=>{O.Vp(p)}).catch(()=>{O.iR()})},e_:function(y){var Y=this,j={id:this.Mj.length,negotiated:!0,ordered:y.Mx};y.Ux||(j.maxRetransmits=0);var O=this.fy.createDataChannel(y.L,j);O.binaryType="arraybuffer",O.onopen=function(){Y.Mj.find(p=>p.readyState!="open")||Y.Bp?.()},O.onclose=this.iR,O.onmessage=this.iR,this.Mj.push(O)},kl:function(y,Y){var j=this;U9K.hY(()=>{j.fy?.addIceCandidate(y).catch(O=>Y?.(O))},this.Ll)},rR:function(){this.iR()},iR:function(){this.GX?.(),this.Xy?.()},Xy:function(){if(this.fy){this.Dl();var y=this.fy;this.fy=null,Promise.resolve().then(()=>y.close())}},Dl:function(){U9K._Y(this.KX),this.Vp=this.Bp=this.Nx=this.GX=null,this.fy.onicecandidate=null,this.fy.ondatachannel=null,this.fy.onsignalingstatechange=null,this.fy.oniceconnectionstatechange=null,this.Mj.forEach(y=>{y.onopen=null,y.onclose=null,y.onmessage=null})}};Mp(hY,[],[null,null,null,null,null,null,null,null,null,"id"],[]);var OX=hY,{V:fY}=My,{Vy:LY}=Iy,{cp:Ej,Ej:lY,mj:by,qh:Np,Th:mj,FO:Qj,jj:Vp,VO:Bp,op:Kp}=$y,{RX:Gp}=Oj,{Zl:ap,fl:vp}=pX,sp=2e4;function up(y){function Y(p,x){this.eY=p,this.Bx=!1,this.aX=!1,this.hR=!1,this.nj=null,this.X="",this.Kx=null,this.bX=new Map,this.CY=x||"",this._R()}Y.$l=function(p){try{if(p=p.candidate.split(" "),p[6]!="typ")throw null;if(p[7]=="srflx")return p[4]}catch{}return null},Y.prototype={Xy:function(){if(U9K._Y(this.Kx),U9K._Y(this.vX),this.vX=null,U9K.Dp(this.ql),this.yy!=null)try{this.yy.onmessage=null,this.yy.onerror=null,this.yy.onclose=null,this.yy.onopen=null,this.yy.close(),this.yy=null}catch{}this.Cl()},Gx:function(p){if(!(!this.nj&&!p)){var x=this;if(this.nj!=null&&p!=null&&this.nj.byteLength==p.byteLength){var l=new Uint8Array(this.nj),_=new Uint8Array(p);if(l.findIndex((r,D)=>r!=_[D])<0)return}this.nj=p.slice(0),this.hR=!0,this.yy!=null&&this.yy.readyState==1&&!this.vX&&(this.ax(),this.vX=U9K.hY(function(){x.vX=null,x.yy.readyState==1&&x.hR&&x.ax()},1e4))}},vx:function(p){var x=this;function l(){x.yy!=null&&x.yy.readyState==1&&x.aX!=x.Bx&&x.Tl(),x.Pl=null}this.aX=p,!this.Pl&&(l(),this.Pl=U9K.hY(l,1e3))},_R:function(p){var x=this;jj.Dx({OY:x.eY.Dy.OY,CY:p||this.CY||""},(l,_)=>{if(x.eY.gR.useRecaptchaToken=null,!l||!_)throw null;U9K.qY?.fp&&(l=U9K.qY?.fp),l.endsWith("host")||(l.endsWith("/")||(l+="/"),l+="host"),x.yy=jj.Ol({Xl:l,CY:_,pl:y?.(x.eY.Dy)||[],OY:x.eY.Dy.OY,Wh:{"Cache-control":"no-cache",Pragma:"no-cache","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"},EX:function(){x.q_()},nY:function(r){x.Kp(r.code!=4001)},mX:function(r){x.Kp(!0),x.eY.Dy.nY?.(LY(M.Yx,r))},QX:x.sx.bind(x)})},l=>{if(!l)throw null;x.eY.gR.useRecaptchaToken=_=>{x.eY.gR.useRecaptchaToken=null,x._R(_)},x.Kp(!1),x.eY.Dy.nY?.(LY(M.yx,l))}).catch(function(l){x.eY.gR.useRecaptchaToken=null,x.Kp(!0),x.eY.Dy.nY?.(LY(M.Yx,l))})},q_:function(){var p=this;this.nj!=null&&this.ax(),this.aX!=0&&this.Tl(),this.ql=U9K.cO(function(){p.C_()},4e4)},sx:function(p){var x=new lY(new DataView(p.data),!1);switch(x.q()){case 1:this.ux(x);break;case 4:this.y5(x);break;case 5:this.T_(x);break;case 6:this.P_(x);break;case 111:this.c_(x);break}},c_:function(p,x){var l=this;U9K.hY(()=>{try{l.eY.Dy?.state._l(p.ry(),p.$p())}catch{x&&l.sX(x,4111)}},3e3)},ux:function(p){var x=p.ry(),l=Bp(p.Uy(p.q()));try{p=new lY(new DataView(U9K.Ny.inflateRaw(p.Uy()).buffer),!1);var _=p.q()!=0,r=p.ZY(),D=[];p.$p().forEach(S=>D.push(new U9K.Zp(S))),this.o_(x,l,r,D,p,_)}catch{this.sX(x,0)}},o_:function(p,x,l,_,r,D){var S=this;if(this.bX.size>=16){this.sX(p,4104);return}else if(this.tY.Qx(x)){this.sX(p,4102);return}for(var b=[],f=0;f<_.length;f++){var e=Y.$l(_[f]);if(e!=null){if(this.tY.Qx(e)){this.sX(p,4102);return}b.push(e)}}var L=this.Y5?.(r);if(L!=null){this.sX(p,L);return}var k=new OX(p,U9K.KR,ap);for(D&&(k.Ll=2500),k.Np=b,k.DX="",f=0;f<x.length;f++)k.DX+=Kp(x.charCodeAt(f));this.bX.set(p,k),k.GX=()=>{S.qj(0,k,null),S.bX.delete(k.X)},k.Bp=()=>{S.bX.delete(k.X),S.qj(0,k,null),S.j5?.(new vp(k))},k.Vp=c=>{S.X5(k,c,k.lR,null),k.nx.then(()=>{S.qj(0,k,null)}),k.Nx=i=>{S.p5(k,i)}},k.Vx(),k.k_(new U9K.aR({sdp:l,type:"offer"}),_)},y5:function(p){var x=p.ry(),l;try{p=new lY(new DataView(U9K.Ny.inflateRaw(p.Uy()).buffer),!1),l=new U9K.Zp(p.$p())}catch{return}this.H_(x,l)},H_:function(p,x){var l=this.bX.get(p);if(l){var _=Y.$l(x);_!=null&&(l.Np.push(_),this.tY.Qx(_))||l.kl(x)}},T_:function(p){this.X=p.pX(p.q()),this.O5?.(this.X)},P_:function(p){this.CY=p.pX(p.$.byteLength-p._)},qj:function(p,x,l){if(!x.dl){p==0&&(x.dl=!0);var _=by.j(32,!1);_.g(p),_.ey(x.X),l!=null&&_.sy(U9K.Ny.deflateRaw(l.my())),this.yy.send(_.OX())}},sX:function(p,x){var l=by.j(16,!1);l.g(0),l.ey(p),l.My(x),this.yy.send(l.OX())},C_:function(){var p=by.j(1,!1);p.g(8),this.yy.send(p.OX())},ax:function(){this.hR=!1;var p=by.j(256,!1);p.g(7),this.nj!=null&&p.IO(this.nj),this.yy.send(p.OX())},Tl:function(){var p=by.j(2,!1);p.g(this.eY.Dy?.NY),p.g(this.aX?1:0),this.yy.send(p.OX()),this.Bx=this.aX,this.eY.Dy?._onRoomRecaptchaModeChange?.(this.aX)},X5:function(p,x,l,_){var r=by.j(32,!1);r.fY(x.sdp),r.mO(l),_!=null&&r.sy(_.my()),this.qj(1,p,r)},p5:function(p,x){var l=by.j(32,!1);l.mO(x),this.qj(4,p,l)},Cl:function(){for(var p of this.bX)p[1].Xy();this.bX.clear()},Kp:function(p){this.Cl(),U9K._Y(this.vX),this.vX=null,this.hR=!1,U9K.Dp(this.ql),U9K._Y(this.Kx);var x=this;p&&(this.Kx=U9K.hY(()=>x._R(),sp))}};function j(p){this.cl=new Np(15),this.R5=0,this.ol=new Map,this.t_=new mj(100,16),this.Cj=!1,this.UX=0,this.py=p;var x=by.j(8);x.J(Math.random()),this.Gp=x.my()}j.prototype={DY:function(p,x=0){this.py.DY(x,p)}};function O(p,x){this.gR=p,this.PY=null,this.JX=32,this.SX=new Map,this.kY=[],this.Nj=4,this.W_=600,wy.call(this,x),this.w_=1,this.Hl=0,this.uX=!1,this.AR=!0,this.ap=null,this.yp=null,this.ZX=0,this.Yy=null,this.Dy=null}return O.prototype=Vp(wy.prototype,{fX:function(p){this.ZX=U9K.cy.now(),this.Yy=new Y(this,p),this.Yy.tY=new Up(this),this.Yy.Y5=this.Y5.bind(this);var x=this;this.Yy.j5=function(l){x.j5(l)},this.Yy.O5=function(l){x.O5?.(l)}},Xy:function(){this.Yy.Xy(),this.kY.forEach(({py:p})=>{p.zR=null,p.QX=null,p.Xy()}),this.Dy=null},I_:function(p,x,l,_){var r=this.SX.get(p.X);if(r){_&&this.Yy.tY.RR(p);var D=by.j();D.g(5),D.g(_?1:0),D.fY(x),D.fY(l||""),r.DY(D),r.py.Xy()}},E_:function(){this.Yy.tY.J_()&&this.Dy?._onBansClear?.()},m_:function(p){this.Yy.tY.Fx(p)&&this.Dy?._onBanClear?.(p)},Q_:function(p){return this.Yy.tY.RR(p)},F_:function(...p){return this.Yy.tY.Sl(...p)},U_:function(...p){return this.Yy.tY.S_(...p)},M_:function(p){return this.Yy.tY.b_(p)},Gx:function(p){this.Yy.Gx(p)},vx:function(p){this.Yy.vx(p)},kj:function(p){p.Zy=p.Xj.jy?this.f+this.Nj+this.cY:this.f,this.a(p),this.SR(!0),this.kY.length>0&&this.vp(this.DR(p),1)},tl:function(p,x,l){if(p.p=x,l)p.H(this.O),this.n_(p,1);else{if(this.kY.length==0)return;p.Zy=p.Xj.jy?this.f+this.Nj+this.cY:this.f,this.a(p),this.SR(),this.vp(this.DR(p),1)}},x5:function(p,x,l){if(x==0){p.H(this.O);return}var _=this.SX.get(x);if(_){l||(p.p=0);var r=by.j();r.g(6),fY.S(p,r),_.DY(r,0)}},Fy:function(){var p=((U9K.cy.now()-this.ZX)*this.BY|0)-this.f;p>0&&this.ll(p),this.f-this.Wl>=7&&this.SR(!0),this.f-this.Hl>=this.W_&&(this.SR(!0),this.N_())},zj:function(p=0){return this.cY<0&&(this.cY=0),this.rl((U9K.cy.now()-this.ZX+p)*this.BY-this.f+this.Nj+this.cY)},Y5:function(p){if(!this.uX&&this.kY.length>=this.JX)return 4100;try{if(p.By()!=this.Dy?.NY)throw null}catch{return 4103}try{var x=p.gY();if(this.PY!=null&&x!=this.PY)throw null}catch{return 4101}},j5:function(p){var x=this;if(!this.uX&&this.kY.length>=this.JX){p.Xy();return}var l=new j(p);this.kY.push(l),p.QX=r=>{x.V_(new lY(new DataView(r)),l)},p.zR=()=>{Ej(x.kY,l),x.SX.delete(l.X),x._X?.(l.X)};var _=by.j(l.Gp.byteLength+1);_.g(0),_.oy(l.Gp.byteLength),_.sy(l.Gp),l.DY(_)},DR:function(p){var x=by.j();return x.g(2),this.z5(p,x),x},z5:function(p,x){x.ey(p.Zy),x.oy(p.YY),x.My(p.p),x.ey(p.iX),fY.S(p,x)},SR:function(p){if(!(this.f<=this.Wl||this.kY.length==0)){var x=by.j();x.g(3),x.ey(this.f),x.ey(this.hX),this.vp(x,2),p&&this.B_?.(x),this.Wl=this.f}},vp:function(p,x=0){this.kY.forEach(l=>{l.Cj&&l.DY(p,x)})},n_:function(p){var x=by.j();x.g(6),fY.S(p,x);var l=this.Dy.sp;this.kY.forEach(_=>{_.Cj&&l.has(_.X)&&_.DY(x,0)})},K_:function(p){var x=by.j();x.g(1);var l=by.j();l.My(p.X),l.ey(this.f),l.ey(this.hX),l.oy(this.RY),this.O.S(l);var _=this;this.dj.uy.forEach(r=>{_.z5(r,l)}),x.sy(U9K.Ny.deflateRaw(l.my())),p.DY(x)},G_:function(p){p.ey(this.f),p.ey(this.hX),p.oy(this.RY),this.O.S(p);var x=this;this.dj.uy.forEach(l=>{x.z5(l,p)})},a_:function(p){var x=this;U9K.hY(()=>{x.O.o.forEach(l=>{l.fx&&x.Dy.setPlayerIdentity(l.X,l.fx,p.X)})},3e3)},N_:function(){if(this.Hl=this.f,this.kY.length!=0){var p=Gp.j(this.O.A_());p.Zy=this.f,p.YY=this.RY++,p.p=0,this.vp(this.DR(p))}},v_:function(p,x){var l=this,_=p.Uy(p.Ey()),r=p.Uy(p.Ey()),D=x.Gp;x.Gp=null,Kj.oh(_,D).catch(()=>null).then(S=>{try{if(l.Yy.tY.D_(S))throw LY(M.nz,S);if(l.kY.indexOf(x)<0)return;var b=l.w_++;x.X=b,l.SX.set(b,x),(l.Up?.(b,new lY(new DataView(r.buffer,r.byteOffset,r.byteLength),!1),x.py.DX,S)||Promise.resolve()).then(()=>{x.Cj=!0,l.K_(x),l.a_(x)}).catch(f=>{l.mX(x,f)})}catch(f){l.mX(x,f)}})},V_:function(p,x){this.Fy();try{if(!x.t_.jl())throw 1;var l=p.q();if(x.Cj)switch(l){case 1:this.s_(p,x);break;case 2:this.u_(p,x);break;default:throw 0}else if(l==0)this.v_(p,x);else throw 0;if(p.$.byteLength>p._)throw 2}catch(_){this.mX(x,_)}},mX:function(p,x){this.yg?.(x,p.X),this.SX.delete(p.X),Ej(this.kY,p),p.Cj&&this.Yg?.(p.X),p.py.Xy()},u_:function(p,x){var l=p.d(),_=this.Dy?._modifyPlayerPing;_&&(x.UX=_(x.X,p.Ey()));var r=by.j();r.g(4),r.J((U9K.cy.now()-this.ZX)*this.BY+this.Nj),r.J(l),x.DY(r,2)},s_:function(p,x){var l=p.ry(),_=p.ry(),r=fY.D(p),D=r.Xj.bR;if(D!=null){var S=x.ol.get(D);if(S||(S=new mj(D.JR,D.ZR),x.ol.set(D,S)),!S.jl())throw 3}var b=Qj(l,this.f,this.f+20);if(r.Xj.jy){var f=this.f+this.Nj,e=l-f;e<-this.Nj-3?b=f:x.cl.Lh(Qj(e,-this.Nj,this.Nj)),b<f&&x.cl.dh()<-.85&&(b=f),b<x.R5&&(b=x.R5),x.R5=b}r.p=x.X,r.iX=_,r.Zy=b,this.Dy?.jg(r,l)&&(this.a(r),this.vp(this.DR(r),1))}}),O}var yO=up,{_z:YO,gz:Fj,Az:jO,Sz:rY,Dz:XO}=M,Jy=M,{V:uY}=My,{Vy:Wy}=Iy,{Ej:dY,mj:Ky,Ch:Uj,jj:pO}=$y,{Zl:OO,fl:RO}=pX,Mj={4001:Jy.Zz,4004:Jy.yx,4100:Jy.fz,4101:Jy.Lz,4102:Jy.dz,4103:Jy.ez};function xO(y){function Y(O,p,x,l){this.Dy=O,this.Cj=!1,this.up=!1;var _=this;this.py=new OX(0,U9K.KR,OO),this.py.GX=function(){_.yO(Wy(Jy.kz))},this.py.Bp=function(){_.Bp?.(new RO(_.py)),_.py=null,_.rR()},this.py.Vp=function(r){_.wl=r;var D=U9K.qY?.fp||U9K.xz;D.endsWith("client")||(D.endsWith("/")||(D+="/"),D+="client");var S=y?.(O.Dy)||[];if(O.OY||U9K.qY?.HO){var b={},f={"Cache-control":"no-cache",Pragma:"no-cache","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"};O.OY&&(b.agent=O.OY),U9K.qY.HO&&Object.assign(f,{Origin:(U9K.JY.tX?"https":"http")+"://"+U9K.JY.Sp}),b.headers=f,_.yy=new U9K.Jp(D+"?id="+p+(l==null?"":"&token="+l),S,b)}else _.yy=new U9K.Jp(D+"?id="+p+(l==null?"":"&token="+l),S);_.yy.binaryType="arraybuffer",_.yy.onclose=function(e){var L=k=>Mj[k]?Wy(Mj[k]):Wy(Jy.tO,k);_.Cj||_.yO(L(e.code))},_.yy.onerror=function(e){_.Cj||_.yO(Wy(Jy.uR))},_.yy.onmessage=_.sx.bind(_),_.yy.onopen=function(){_.Xg?.(),_.py.Vx(),_.X5(_.wl,_.py.lR,x),_.py.Nx=_.p5.bind(_),_.py.nx.then(function(){_.qj(0,null)})}},this.py.$_()}Y.prototype={pg:function(){this.yO(Wy(Jy.sR))},rR:function(){if(this.yy!=null)try{this.yy.onclose=null,this.yy.onmessage=null,this.yy.onerror=null,this.yy.onopen=null,this.yy.close(),this.yy=null}catch{}this.py!=null&&(this.py.Xy(),this.py=null)},yO:function(O){this.GX?.(O),this.rR()},sx:function(O){var p=new dY(new DataView(O.data)),x=p.q();switch(p.$.byteLength>p._&&(p=new dY(new DataView(U9K.Ny.inflateRaw(p.Uy()).buffer),!1)),x){case 1:{var l=[],_=p.ZY();p.$p().forEach(r=>{l.push(new U9K.Zp(r))}),this.ux(_,l);break}case 4:{this.y5(new U9K.Zp(p.$p()));break}}},ux:function(O,p){var x=this;this.py.Vx(this.up?1e4:4e3),this.Cj=!0,this.Vp?.(),this.py.fy.setRemoteDescription(new U9K.aR({sdp:O,type:"answer"}),()=>{p.forEach(l=>{x.py.fy?.addIceCandidate(l).catch(()=>{})})},()=>{x.yO(Wy(Jy.uR))})},y5:function(O){this.py.fy?.addIceCandidate(O).catch(()=>{})},qj:function(O,p){if(this.yy){var x=Ky.j(32,!1);x.g(O),p!=null&&x.sy(U9K.Ny.deflateRaw(p.my())),this.yy.send(x.OX())}},X5:function(O,p,x){var l=Ky.j(32,!1);l.g(this.up?1:0),l.fY(O.sdp),l.mO(p),x!=null&&l.sy(x.my()),this.qj(1,l)},p5:function(O){var p=Ky.j(32,!1);p.mO(O),this.qj(4,p)}};function j(O,p){this.l5=[],this.YO=[],this.fR=new Xj,this.Og=1,this.Il=0,this.LX=null,this.r5=new Uj(50),this.LR=new Uj(50),this.Rg=1e3,wy.call(this,O),this.dR=null,this.xg=p,this.Dy=null}return j.prototype=pO(wy.prototype,{fX:function(O,p,x,l){var _=this;this.jO(YO);var r=Ky.j();r.My(this.Dy.NY),r.AY(p),this.Yy=new Y(this,O,r,x),this.Yy.up=l,this.Yy.Bp=function(S){_.Yy=null,_.py=S,S.QX=function(b){_.zg(new dY(new DataView(b)))},S.zR=function(){_.LX!=rY&&_.XO?.(Wy(Jy.tO)),_.Xy()},_.KX=U9K.hY(function(){_.XO?.(Wy(Jy.Jz)),_.Xy()},1e4),_.jO(jO,_.py.fy.remoteDescription.sdp)},this.Yy.Xg=function(){_.jO(Fj,_.Yy.wl.sdp)};var D=!1;this.Yy.Vp=function(){D=!0},this.Yy.GX=function(S){!l&&_.LX==Fj&&D?(_.Dy.eR?.(Jy.hz),_.fX(O,p,x,!0)):(_.Yy.GX=null,_.XO?.(S),_.Xy(S))}},Xy:function(O){this.Yy!=null&&(this.Yy.pg(),this.Yy=null),U9K._Y(this.KX),this.py!=null&&(this.py.zR=null,this.py.Xy(),this.py=null),this.jO(XO,O||Wy(Jy.tO)),this.Dy=null},jO:function(O,p){this.LX!=O&&(this.LX=O,this.Dy.eR?.(O,p),this.Yp?.(O,p))},El:function(){return this.LX==rY},Fy:function(){this.El()&&U9K.cy.now()-this.Il>this.Rg&&this.lg(),this.lj=U9K.cy.now()*this.BY+this.r5.QO(.5)-this.f,this.ml()},zj:function(O=0){return this.El()?(this.cY<0&&(this.cY=0),this.rl((U9K.cy.now()+O)*this.BY+this.r5.QO(.5)-this.f+this.cY,this.fR)):this.O},ml:function(){this.lj<0&&(this.lj=0),this.lj>this.jR&&(this.lj=this.jR)},zg:function(O){switch(O.q()){case 0:this.rg(O);break;case 1:this.ig(O);break;case 2:this.hg(O);break;case 3:this._g(O);break;case 4:this.gg(O);break;case 5:this.Ag(O);break;case 6:this.Sg(O);break}},rg:function(O){var p=this,x=O.Uy(O.Ey());(this.xg?.th(x)||Promise.resolve(null)).catch(()=>null).then(l=>{p.Dg(l)})},ig:function(O){var p=U9K.Ny.inflateRaw(O.Uy());for(O=new dY(new DataView(p.buffer,p.byteOffset,p.byteLength)),this.ej=O.By(),this.f=O.ry(),this.hX=O.ry(),this.RY=O.Ey(),this.lj=10,this.O.D(O);O._<O.$.byteLength;)this.a(this.Ql(O));U9K._Y(this.KX),this.jO(rY)},Dg:function(O){var p=Ky.j();p.g(0),O?(p.oy(O.byteLength),p.sy(O)):p.oy(0),p.oy(this.dR.byteLength),p.IO(this.dR),this.DY(p),this.dR=null},DY:function(O,p=0){this.py.DY(p,O)},Ql:function(O){var p=O.ry(),x=O.Ey(),l=O.By(),_=O.ry(),r=uY.D(O);return r.p=l,r.iX=_,r.Zy=p,r.YY=x,r},hg:function(O){var p=this.Ql(O);this.a(p),p.p==this.ej&&this.fR.uh(p.iX),this.Fl()},Sg:function(O){var p=uY.D(O);p.p=0,p.iX=0,p.H(this.O),this.VY?.(p)},_g:function(O){this.YO.push({kR:O.ry(),bg:O.ry()}),this.Fl()},Fl:function(){if(this.LX==rY){var O=this;this.YO.forEach(x=>{x.kR<=O.f||x.bg==O.hX+O.RY+O.dj.y_(x.kR)&&O.Jg(x.kR-O.f)});var p=0;this.YO.forEach(x=>{x.kR>O.f&&(O.YO[p++]=x)}),this.YO.length=p,this.fR.vh(this.f)}},Ag:function(O){var p=O.q()!=0,x=O.ZY(),l="";O.$.byteLength>O._&&(l=O.ZY()),this.Xy(Wy(Jy.qz,x,p,l))},gg:function(O){var p=O.d(),x=O.d(),l=U9K.cy.now()-x;this.r5.uz(p-x*this.BY),this.LR.uz(l),p=0,this.l5.findIndex(_=>{if(_>x)return!0;this.Zg?.(_<x?-1:l),p++}),this.l5.splice(0,p)},lg:function(){var O=U9K.cy.now();this.Il=O,this.l5.push(O);var p=this.LR.QO(.5)|0,x=this.Dy?._modifyClientPing;x&&(p=x(p));var l=Ky.j();l.g(2),l.J(O),l.oy(p),this.DY(l,2)},Jg:function(O){this.ll(O),this.lj-=O,this.ml()},kj:function(O,p,x,l=!0){if(!(l&&this.LX!=rY)){var _=this.Og++,r=0;this.cY<0&&(this.cY=0),O.Xj.jy&&(r=this.f+(this.lj|0)+this.cY);var D=Ky.j();D.g(1),D.ey(r),D.ey(_),uY.S(O,D),this.DY(D),O.Xj.zy&&(O.iX=_,O.p=this.ej,O.Zy=r,this.fR.kx(O))}}}),j}var zO=xO,{zz:lO}=U9K,{Vy:eY}=Iy,{tp:rO,mj:iO}=$y,{xl:hO}=aj,{xX:nj,zX:_O}=Oj;function RX(){}RX.i5=function(y,{Q:Y,fg:j,Lg:O,dg:p,eg:x,kg:l,$g:_,qg:r,Cg:D,Tg:S,Pg:b,cg:f}){let e=yO(O),L=zO(O);function k(A,J){var T=A.id,I=A.password,U=A.token,Z=A.authObj;if(!T||!Z)throw eY(M.Fz);var W=j(J),Q={};I==""&&(I=null);try{var gy=W.pO.up,t=new y.Rj(y),C=new L(t,Z);C.Ul=Xy=>{C.Ul=null,p?.(w,Xy),w.Ml?.call?.(w,Xy)};var w=new y.jp(W,C);C.dR=x?.(W.pO),C.Dy=w,C.fX(T,I,U,gy),Q.cancel=()=>{C.Yp=null,C.XO=null,C.Xy(eY(M.sR))};var G=Xy=>{Q.cancel=null,p?.(w,Xy),C.Ul?.(Xy)};C.XO=Xy=>{C.XO=null,C.Yp=null,G(Xy)},C.Yp=Xy=>{Xy==3&&(Q.cancel=null,w.fX(),w.OO=T,C.Zg=zy=>{w._onPingChange?.(zy,C.LR.QO(.5),C.LR.kh())},w.nl=()=>{C.Yp=null,C.Xy(),w.Xy()},C.Yp=(zy,m)=>{C.Yp=null,w.Xy(),w.dX?.lX(),G(m)},w.Nl?.call?.(w),w.EX?.(w),l?.(w))}}catch(Xy){Q.cancel=null;var jy=eY(M.$z,Xy);p?.(w,jy),w.nY?.(jy)}return Q}function c(A,J){var T=j(J),I={},U=new y.Rj(y);U.L=A.name;var Z=new e(I,U);Z.B_=A.onHostSpecificDataSent,Z.yg=A.onError,Z.Tj=rO(A.geo,T.pO.Tj,!1),Z.Xp=!!A.noPlayer;var W;Z.Xp||(W=new y.gX,W.L=T.pO.Vl,W.oY=!0,W.ky=Z.Tj.flag,W.Jy=T.pO.Jy,W.eX=!0,U.o.push(W)),Z.uX=!!A.unlimitedPlayerCount,Z.AR=!!A.showInRoomList,Z.ap=A.playerCount,Z.yp=A.fakePassword!=null?!!A.fakePassword:null,Z.JX=(A.maxPlayerCount|0)-(Z.Xp?0:1),Z.PY=A.password==""?null:A.password;var Q=new y.jp(T,Z);Q.RO=function(){if(Z.AR){var t=new hO;t.NY=Q.NY,t.L=U.L,t.o=Z.ap!=null?Z.ap:U.o.length,t.Lx=Z.JX+(Z.Xp?0:1),t.ky=Z.Tj.flag,t.PY=Z.yp!=null?Z.yp:Z.PY!=null,t.yR=Z.Tj.lat,t.YR=Z.Tj.lon;var C=iO.j(16);t.S(C),Z.Gx(C.wO())}},Z.Dy=Q,Z.fX(A.token),Q.RO(),Q.fX();var gy=U9K.cO(()=>{Q.C(_O.j(Z.O.o.map(t=>{var C=Z.SX.get(t.X);return C?C.UX:Z.O.og?.()})))},3e3);return Z.Yg=function(t){U.G(t)&&Q.C(nj.j(t,eY(M.Mz).toString(),!1))},Z.Up=async(t,C,w,G)=>{var jy=await _?.(Q,t,C,w,G);if(jy)throw jy;Q.RO()},Z._X=function(t){U.G(t)&&Q.C(nj.j(t,null,!1))},Z.O5=function(t){Q.OO=t,r?.(Q)},Q.Hg=function(t,C,w,G){Z.I_(t,C,w,G)},I.cancel=Q.nl=function(){Z.Xy(),Q.Xy(),U9K.Dp(gy),D?.(Q),Q.Ml?.call?.(Q)},Q.Nl?.call?.(Q),Q.hostPing=0,Q.EX?.(Q),S?.(Q),I}function i(A,J){this.Hy=J instanceof e,this.R=J,this.h5=0,this.Bl=this.tg.bind(this),Y?.call(this,A,J)}return i.prototype={fX:function(A=50){var J=this.R;this.h5=U9K.bp(this.Bl),this.Wg=U9K.cO(()=>{J.Fy()},A)},tg:function(){this.h5=U9K.bp(this.Bl),b?.call(this),this.R.Fy(),f?.call(this)},Xy:function(){U9K.oO(this.h5),U9K.Dp(this.Wg)},nY:function(A){A&&lO?.(A.toString()||A)},C:function(A,J){return this.Hy&&(A.p=J||0),this.R.kj(A),!0}},i.wg=k,i.j=c,i};var gO=RX,{jj:AO}=$y;function SO(y,{Q:Y,Fj:j,$j:O}){function p(_){wy.call(this,_),this.xj=[],this.P=1,this.ZX=U9K.cy.now(),this.Vj=!1}p.prototype=AO(wy.prototype,{kj:function(){},zj:function(_=0){this.Fy();var r=this.O.dY(++this.Cx);return r.Qy(_*this.BY|0),r},Fy:function(){var _=this.xj;this.xj=[];for(var r=((U9K.cy.now()-this.ZX)*this.BY*this.P|0)-this.f,D=0;D<r;D++)this.f+=1,this.Vj||this.O.Qy(1);_.forEach(this.a)},Kl:function(_){this.xj.push(_)},a:function(_){this.Ig?.(_)!=!1&&(_.H(this.O),this.VY?.(_))},_5:function(_){if(!(_<0)){if(_==0){this.Vj=!0;return}this.f=this.f*_/this.P|0,this.P=_,this.Vj=!1}},Qy:function(_){this.Vj&&this.O.Qy(_)}});function x(_,r,D){var S=0,b=D?.requestAnimationFrame||U9K.bp,f=D?.cancelAnimationFrame||U9K.oO,e=r?.render,L=function(){S=b(L),_.Fy(),e?.()};function k(){S=b(L),j?.(_,r)}function c(){f(S),O?.(_)}this.initialize=k,!D?.delayedInit&&k(),this.Xy=function(){c()},this.Gl=function(i){c(),_.O=i,k()}}function l(_,r){var D=new y.Rj(y),S=new p(D),b=new x(S,_,r),f;return f={state:D,initialize:()=>b.initialize(),extrapolate:e=>S.zj(e),takeSnapshot:()=>D.copy(),useSnapshot:function(e){var L=e.copy();b.Gl(L),D=L,f.state=L},executeEvent:function(e){S.Kl(e)},applyEvent:function(e){S.a(e)},setSimulationSpeed:function(e){S._5(e)},runSteps:function(e){S.Qy(e)},destroy:b.Xy},Y?.call(f,S,r,_),Object.defineProperty(f,"gameState",{get(){return D.l}}),Object.defineProperty(f,"currentPlayerId",{get(){return 0}}),Object.defineProperty(f,"currentFrameNo",{get(){return S.f}}),f}return{Eg:x,mg:l}}function xX(){}xX.g5=SO;var DO=xX,{Ej:Nj,jj:bO}=$y,{V:yj}=My;function JO(y,Y){function j(p){wy.call(this,p),this.P=1,this.ZX=U9K.cy.now(),this.Vj=!1,this.Qg=[],this.xO=[],this.maxFrameNo=0}j.prototype=bO(wy.prototype,{kj:function(){},zj:function(p=0){return this.O},Fy:function(){var p=this.maxFrameNo;if(!(this.f>=p))do{var x=0,l=this.xO[0];if(!l||this.f>l.Zy)break;for(;l?.Zy==this.f;)l.H(this.O),this.Qg.push(l),l=this.xO[++x];this.O.Qy(1),this.f++,this.xO.splice(0,x)}while(this.f<p)},_5:function(p){if(!(p<0)){if(p==0){this.Vj=!0;return}this.f=this.f*p/this.P|0,this.P=p,this.Vj=!1}},Qy:function(p){this.Vj&&this.O.Qy(p)}});function O(p,x={},l){var _=new y.Rj(y),r=new j(_),D=new Y(r,x,l),S;function b(L){var k=L.ry(),c=L.Ey(),i=L.By(),A=L.ry(),J=yj.D(L);return J.p=i,J.iX=A,J.Zy=k,J.YY=c,J}function f(L){L.Zy==r.f&&L.YY<=r.RY?(L.YY=r.RY++,r.Kl(L)):r.dj.kx(L)}var e=new Nj(new DataView(p.buffer,p.byteOffset,p.byteLength));for(r.f=e.ry(),r.hX=e.ry(),r.RY=e.Ey(),_.D(e);e._<e.$.byteLength;)f(b(e));return p=null,e=null,S={state:_,extrapolate:L=>r.zj(L),readStream:L=>{if(r.maxFrameNo=L.ry(),L.$.byteLength!=L.$.byteOffset+L._){var k=U9K.Ny.inflateRaw(new Uint8Array(L.$.buffer,L._)),c,i,A,J,T;for(L=new Nj(new DataView(k.buffer,k.byteOffset,k.byteLength));L._<k.byteLength;)for(J=r.maxFrameNo-L.By(),c=L.By(),T=0;T<c;T++)i=L.By(),A=yj.D(L,!0),A.p=i,A.Zy=J,r.xO.push(A)}},readImmediateStream:L=>{var k=r.maxFrameNo=L.ry(),c=L.By(),i=yj.D(L,!0);i.p=c,i.Zy=k,r.xO.push(i)},takeSnapshot:()=>_.copy(),useSnapshot:function(L){var k=L.copy();D.Gl(k),_=S.state=k},setSimulationSpeed:function(L){r._5(L)},runSteps:function(L){r.Qy(L)},destroy:D.Xy},Object.defineProperty(S,"gameState",{get(){return _.l}}),Object.defineProperty(S,"currentPlayerId",{get(){return 0}}),Object.defineProperty(S,"currentFrameNo",{get(){return r.f}}),Object.defineProperty(S,"maxFrameNo",{get(){return r.maxFrameNo}}),S}return O}function zX(){}zX.A5=JO;var ZO=zX,fO=(y,Y)=>{var j=hp(y,Y);let O=M,p=Iy,x=Vj,l=Kj,{Ej:_,mj:r,UO:D,cp:S,MO:b,FO:f,jj:e,op:L,BO:k,KO:c,GO:i,rx:A,ix:J,aO:T,hx:I,tp:U,nO:Z,NO:W,VO:Q}=$y,gy=jj;var{gy:t,Wp:C,sO:w,bx:G,Jx:jy}=My,{RX:Xy,xX:zy,zX:m}=Oj,{Zx:Ry}=bp,{zl:ky,xl:Ly}=aj,{Wx:Dy}=tp,{wx:Cy}=Ip,{i5:dy}=gO,{g5:yy}=DO,{A5:Ty}=ZO;return{Y:j,Oy:{zO:{$R:_,lO:r},V:{gy:t,Wp:C,sO:w,bx:G,Jx:jy,S5:{RX:Xy,xX:zy,zX:m}},wx:Cy,Zx:Ry,i5:dy,Wx:Dy,g5:yy,A5:Ty,zl:ky},Fg:{gX:O.wX,Ug:O.Lp,Mg:O.dp},ng:{Ng:O.hz,Vg:O._z,Bg:O.gz,Kg:O.Az,Gg:O.Sz,ag:O.Dz},x9:{z9:O.Nz,l9:O.Vz,r9:O.Bz},qR:{cp:S,UO:D,MO:b,FO:f,jj:e,vg:function(){try{return l.Ph().then(Ay=>[Ay.Hh(),Ay])}catch(Ay){return Promise.reject(Ay)}},sg:function(Ay){try{return l.ch(Ay)}catch(N){return Promise.reject(N)}},Ax:()=>gy.Ax().then(Ay=>{var N=new _(new DataView(Ay),!1);N.q();for(var xy=[];N._!=N.$.byteLength;){var s=N.pX(N.By()),V=N.az(N.By());try{var K=new Ly;K.D(new _(new DataView(V),!1));var ry=new ky;ry.Ry=K,ry.X=s,xy.push(ry)}catch{}}return xy}),ug:(Ay,N)=>{let xy=Math.PI/180,s=Ay.lat,V=Ay.lon;N.forEach(K=>{var{yR:ry,YR:iy}=K.Ry,qy=Math.cos(xy*(ry-s)),cy=Math.cos(xy*(ry+s));K.xy=6378*Math.acos((qy-cy+(qy+cy)*Math.cos(xy*(iy-V)))/2),isFinite(K.xy)||(K.xy=22e3)})},KO:c,GO:i,rx:A,ix:J,aO:T,hx:I,Sx:gy.Sx,tp:U,op:L,BO:k,nO:Z,NO:W,VO:Q,yA:function({token:Ay="",rcr:N=""}){return new Promise(xy=>{gy.Dx({CY:Ay,Ih:N},(s,V)=>{xy({code:0,value:V})},s=>{xy({code:1,value:s})}).catch(s=>{xy({code:2,value:s})})})},YA:function({token:Ay="",proxyAgent:N}){return new Promise((xy,s)=>{var V,K;function ry(){V?.close(),V=null,K?xy(K):s()}gy.Dx({CY:Ay},(iy,qy)=>{(!iy||!qy)&&ry(),j.qY?.fp&&(iy=j.qY?.fp),iy.endsWith("host")||(iy.endsWith("/")||(iy+="/"),iy+="host"),V=gy.Ol({Xl:iy,CY:qy,OY:N,pl:[],mX:ry,nY:ry,QX:cy=>{var Hy=new _(new DataView(cy.data),!1);switch(Hy.q()){case 5:K={roomId:Hy.pX(Hy.q()),newToken:qy},ry();break}}})},()=>ry()).catch(()=>ry())})}},jA:x,kX:{ep:p.ep,Vy:p.Vy,XA:{pA:O.bz,OA:O.tO,RA:O.Jz,xA:O.Zz,zA:O.fz,lA:O.Lz,rA:O.dz,iA:O.ez,hA:O.kz,_A:O.$z,gA:O.sR,AA:O.qz,SA:O.uR,DA:O.Cz,bA:O.Tz,JA:O.Pz,ZA:O.cz,fA:O.oz,LA:O.Hz,dA:O.tz,eA:O.Wz,kA:O.wz,$A:O.Iz,qA:O.Qz,CA:O.Ez,TA:O.Ij,PA:O.mz,cA:O.yx,oA:O.Fz,HA:O.Uz,tA:O.Mz,WA:O.nz,wA:O.Yx}}}};lX.bL=fO});var KX=zY((Ex,BX)=>{function jY(y,Y){return Y={bL:{}},y(Y,Y.bL),Y.bL}var B=jY(function(y){y.bL=y.vR||(y.vR={al:0,vl:1,sl:2,ul:3,IA:1,EA:2,mA:0,QA:1,FA:2,UA:0,MA:1,nA:0,NA:1,VA:2,BA:3,KA:4,GA:5,aA:6,vA:7,sA:8,uA:9,yS:10,YS:11,jS:12,XS:13,pS:14,OS:15,RS:16,xS:17,zS:18,lS:19,rS:20,iS:21,hS:22,_S:23,gS:24,AS:25,SS:26,DS:27,bS:28,JS:29,ZS:30,fS:31,LS:-1,dS:0,eS:1,yr:15,Yr:16,jr:17,Xr:19,pr:28,Or:29,Rr:30,xr:34,zr:35,CR:37,lr:39,rr:42,ir:43,hr:44,_r:45,gr:46,Ar:47,Sr:48,Dr:49,br:50,Jr:57,Zr:58,kS:0,$S:1,qS:2,CS:3,fr:0,Lr:1,dr:2,er:3,kr:4,$r:5,qr:6,Cr:7,Tr:8,Pr:9,cr:10,or:11,Hr:12,tr:13,Wr:14,wr:15,Ir:16,Er:17,mr:18,Qr:19,Fr:20,Ur:21,Mr:22,nr:23,Nr:24,Vr:25,Br:26,TS:0,PS:1,cS:2,oS:3,HS:4,tS:5,WS:6,wS:7,IS:8,ES:9,mS:10,QS:11,FS:12,US:13,MS:14,nS:15,NS:16,VS:17,BS:18,KS:19,GS:20,aS:0,Kr:1,vS:2,sS:3,uS:4,yD:5,YD:6,jD:7,XD:8,pD:9,OD:10,RD:11,xD:12,zD:13,lD:14,rD:15,iD:16,hD:17,_D:18})}),{E:LO}=U9K;function fy(y,Y,j,O,p){this.X=y,this.b=Y,this.Gr=j,this.z=O,this.i=p}fy.spec=fy.bY=new fy(0,16777215,0,-1,0);fy.red=fy.Ty=new fy(1,15035990,-1,8,2);fy.blue=fy.yY=new fy(2,5671397,1,16,4);fy.byId=fy.p=[fy.bY,fy.Ty,fy.yY];LO(fy,[],["id","color","defenseDir","cMask","cGroup"],[]);var Oy=fy,{E:dO,K:{kX:{Vy:Ix}}}=U9K;function uy(){this.$X=0,this.WY=16777215,this.KY=[]}uy.Pj=function(y,Y,...j){var O=new uy;O.KY=[y.b];var p=j.length;if(p<1)return O;if(O.$X=256*Y/360|0,O.WY=j[0],p>1){p>4&&(p=4),O.KY=[];for(var x=1;x<p;x++)O.KY.push(j[x])}return O};uy.prototype={S:function(y){y.g(this.$X),y.m(this.WY),y.g(this.KY.length),this.KY.forEach(Y=>{y.m(Y)})},D:function(y){this.$X=y.q(),this.WY=y.W();var Y=y.q();if(Y>3)throw U9K.Vy(B.Xr);this.KY=[];for(var j=0;j<Y;j++)this.KY.push(y.W())},copy:function(){var y=new uy;return y.$X=this.$X,y.WY=this.WY,y.KY=this.KY.slice(),y}};dO(uy,[],["angle","text","inner"],[]);Object.defineProperty(uy.prototype,"angleDeg",{get:function(){return Math.ceil(360*this.$X/256)},set:function(y){this.$X=y*256/360|0}});var hX=uy,{E:Ny,K:{qR:{jj:Vy}},pz:{HX:eO,kO:_X,$O:gX,qO:AX,hh:xj,CO:SX,TO:DX,VR:bX,BR:JX}}=U9K,iX=1/Math.SQRT2;function lj(y){_X.call(this,y),this.X=0}lj.prototype=Vy(_X.prototype,{S:function(y){var Y=this.h;y.J(Y.x),y.J(Y.y),y.J(this.r),y.m(this.z),y.m(this.i)},D:function(y){var Y=this.h;Y.x=y.d(),Y.y=y.d(),this.r=y.d(),this.z=y.W(),this.i=y.W()}});function rj(y){gX.call(this,y),this.by=y?.by==null?!0:y.by,this.b=y?.b==null?0:y.b,y?.cj!=null&&this.LO(y.cj)}rj.prototype=Vy(gX.prototype,{S:function(y){var Y=0,j=y._;y.g(0),y.g(this.v.X),y.g(this.s.X),this.ny!=0&&(Y=1,y.J(this.ny)),this.wy!=1/0&&(Y|=2,y.J(this.wy)),this.b!=0&&(Y|=4,y.m(this.b)),this.by&&(Y|=8),y.$.setUint8(j,Y),y.J(this.r),y.m(this.z),y.m(this.i)},D:function(y,Y){var j=y.q();this.v=Y[y.q()],this.s=Y[y.q()],this.ny=j&1?y.d():0,this.wy=j&2?y.d():1/0,this.b=j&4?y.W():0,this.by=(j&8)!=0,this.r=y.d(),this.z=y.W(),this.i=y.W()}});function ij(y){AX.call(this,y)}ij.prototype=Vy(AX.prototype,{S:function(y){var Y=this.qy;y.J(Y.x),y.J(Y.y),y.J(this.xy),y.J(this.r),y.m(this.z),y.m(this.i)},D:function(y){var Y=this.qy;Y.x=y.d(),Y.y=y.d(),this.xy=y.d(),this.r=y.d(),this.z=y.W(),this.i=y.W()}});function hj(y){xj.call(this,y),this.c=y?.c==null?Oy.bY:y.c}hj.prototype=Vy(xj.prototype,{FR:xj.prototype.FR,S:function(y){var Y=this.iY;y.J(Y.x),y.J(Y.y),Y=this.rY,y.J(Y.x),y.J(Y.y),y.g(this.c.X)},D:function(y){var Y=this.iY;Y.x=y.d(),Y.y=y.d(),Y=this.rY,Y.x=y.d(),Y.y=y.d(),this.c=Oy.p[y.kp()]||Oy.bY}});function _j(y){SX.call(this,y),this.b=y?.b==null?16777215:y.b}_j.prototype=Vy(SX.prototype,{S:function(y){var Y=this.h;y.J(Y.x),y.J(Y.y),Y=this.P,y.J(Y.x),y.J(Y.y),Y=this.T,y.J(Y.x),y.J(Y.y),y.J(this.I),y.J(this.r),y.J(this.F),y.J(this.N),y.ey(this.b),y.m(this.z),y.m(this.i)},D:function(y){var Y=this.h;Y.x=y.d(),Y.y=y.d(),Y=this.P,Y.x=y.d(),Y.y=y.d(),Y=this.T,Y.x=y.d(),Y.y=y.d(),this.I=y.d(),this.r=y.d(),this.F=y.d(),this.N=y.d(),this.b=y.ry(),this.z=y.W(),this.i=y.W()},gD:function(){var y=new my;return this.ar(y),y},ar:function(y){var Y=y.h,j=this.h;Y.x=j.x,Y.y=j.y,Y=y.P,j=this.P,Y.x=j.x,Y.y=j.y,Y=y.T,j=this.T,Y.x=j.x,Y.y=j.y,y.I=this.I,y.r=this.r,y.F=this.F,y.N=this.N,y.b=this.b,y.z=this.z,y.i=this.i}});function gj(y){DX.call(this,y),this.b=y?.b==null?0:y.b}gj.prototype=Vy(DX.prototype,{S:function(y){y.g(this.vy),y.g(this.ay),y.J(this.dy),y.J(this.Cy),y.J(this.$Y),y.m(this.b)},D:function(y){this.vy=y.q(),this.ay=y.q(),this.dy=y.d(),this.Cy=y.d(),this.$Y=y.d(),this.b=y.W()}});function my(y){bX.call(this,y),this.n=null,this.SY=-1,this.u=null,this.vr=0,this.b=y?.b==null?16777215:y.b}my.LY=function(y,Y){y.I=Y.I,y.r=Y.r,y.F=Y.F,y.N=Y.N,y.b=Y.b,y.z=Y.z,y.i=Y.i;var j=y.h,O=Y.h;j.x=O.x,j.y=O.y,j=y.P,O=Y.P,j.x=O.x,j.y=O.y,j=y.T,O=Y.T,j.x=O.x,j.y=O.y};my.prototype=Vy(bX.prototype,{S:function(y){var Y=this.h;y.J(Y.x),y.J(Y.y),Y=this.P,y.J(Y.x),y.J(Y.y),Y=this.T,y.J(Y.x),y.J(Y.y),y.J(this.I),y.J(this.r),y.J(this.F),y.J(this.N),y.ey(this.b),y.m(this.z),y.m(this.i)},D:function(y){var Y=this.h;Y.x=y.d(),Y.y=y.d(),Y=this.P,Y.x=y.d(),Y.y=y.d(),Y=this.T,Y.x=y.d(),Y.y=y.d(),this.I=y.d(),this.r=y.d(),this.F=y.d(),this.N=y.d(),this.b=y.ry(),this.z=y.W(),this.i=y.W()},dY:function(y){return y!=this.SY&&(this.u||(this.u=new my),this.SY=y,my.LY(this.u,this)),this.u}});function ny(){JX.call(this),this.ty=[],this.SY=-1,this.u=null}ny.LY=function(y,Y,j){if(!Y.Z)y.Z=null;else{y.Z||(y.Z=[]);for(var O=y.Z,p=Y.Z,x=p.length,l;O.length>x;)O.pop();for(x=0,l=p.length;x<l;x++)O[x]=p[x].dY(j)}y.k=Y.k,y.t=Y.t,y.M=Y.M,y._y=Y._y};ny.prototype=Vy(JX.prototype,{S:function(y){y.g(this.Z.length),this.Z.forEach((Y,j)=>{Y.vr=j,Y.S(y)})},D:function(y){this.Z=[];for(var Y=y.q(),j=0;j<Y;j++){var O=new my;O.D(y),this.Ap(O)}},dY:function(y){return y!=this.SY&&(this.u||(this.u=new ny),this.SY=y,ny.LY(this.u,this,y)),this.u},AD:function(y,Y,j){var p=Y.h,x=y.h,O=p.x-x.x,p=p.y-x.y,x=Math.sqrt(O*O+p*p);if(!(x-Y.I-y.I>=4)){var l=O/x,_=p/x;return Y.Xz(j.Bj,l,_),y.Xz(-j.Kj,l,_),!0}},SD:function(y,Y){var j=y.Ly,O=((j&8)>0)-((j&4)>0),p=O==0,x=((j&2)>0)-((j&1)>0),l=x==0;!p&&!l&&(O*=iX,x*=iX),j=y.GY,(!p||!l)&&(l=j?Y.Gj:Y.aj,y.U.rh(O*l,x*l)),y.U.N=j?Y.vj:Y.N},sr:function(y,Y){y.U&&(this.eO(y.U),Y?.(y),y.U=null)},DD:function(y,Y,j){y.Ly=0;var O=y.U;O||(O=new my,O.n=y.X,y.U=O,this.Ap(O),j?.(y));var p=Y.aY;O.b=0,O.I=p.I,O.F=p.F,O.N=p.N,O.r=p.r,O.z=39,O.i=y.c.i|p.i;var x=y.c==Oy.Ty?Y.jY:Y.XY;x.length==0?(O.h.x=y.c.Gr*Y.vY,O.h.y=0):(y=O.h,x=x[x.length-1],y.x=x.x,y.y=x.y),x=O.P,x.x=0,x.y=0,O=O.T,p=p.T,O.x=p.x,O.y=p.y}});ny.bD=y=>{var Y=new ny;return Y.k=y.k,Y.t=y.t,Y.ty=y.ty,Y.M=y.M,Y._y=y._y,y.Z.forEach(j=>{var O=new my;return O.h.x=j.h.x,O.h.y=j.h.y,O.P.x=j.P.x,O.P.y=j.P.y,O.T.x=j.T.x,O.T.y=j.T.y,O.I=j.I,O.r=j.r,O.F=j.F,O.N=j.N,O.b=j.b,O.z=j.z,O.i=j.i,Y.Ap(O),O}),Y};Ny(lj,[],["cGroup","cMask","bCoef","pos","id"],[]);Ny(rj,[],["normal","v1Normal","v0Normal","arcRadius","arcCenter","v0","v1","bias","bCoef","cMask","cGroup","curveF","vis","color"],[]);Ny(ij,[],["cGroup","cMask","bCoef","dist","normal"],[]);Ny(hj,[],["p1","p0","team"],["check"]);Ny(_j,[],["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","color"],[]);Ny(gj,[],["strength","maxLength","minLength","d1","d0","color"],[]);Ny(my,[],["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","playerId",null,"ext",null,"color"],[]);Ny(ny,[],["discs","vertices","planes","segments","joints","goals",null,"ext"],[null,null,null,"kickBall",null,null,null]);var tY={HX:eO,kO:lj,$O:rj,qO:ij,ur:hj,CO:_j,TO:gj,VR:my,BR:ny},{K:{jA:WY}}=U9K,PY=[];WY.yi=y=>{y&&PY.push(y)};WY.Yi=y=>{if(y){var Y=PY.indexOf(y);Y<0||PY.splice(Y,1)}};WY.gh=y=>{PY.forEach(Y=>{Y._onLanguageChange?.(y?.abbr)})};var kO=WY,{E:$O}=U9K,{HX:qO}=tY;function Aj(){this.Kj=0,this.I=15,this.i=0,this.T=new qO(0,0),this.r=.5,this.F=.5,this.N=.96,this.aj=.1,this.Gj=.07,this.vj=.96,this.Bj=5}Aj.prototype={S:function(y){y.J(this.r),y.J(this.F),y.J(this.N),y.J(this.aj),y.J(this.Gj),y.J(this.vj),y.J(this.Bj);var Y=this.T;y.J(Y.x),y.J(Y.y),y.m(this.i),y.J(this.I),y.J(this.Kj)},D:function(y){this.r=y.d(),this.F=y.d(),this.N=y.d(),this.aj=y.d(),this.Gj=y.d(),this.vj=y.d(),this.Bj=y.d();var Y=this.T;Y.x=y.d(),Y.y=y.d(),this.i=y.W(),this.I=y.d(),this.Kj=y.d()}};$O(Aj,[],["kickback","radius","cGroup","gravity","bCoef","invMass","damping","acceleration","kickingAcceleration","kickingDamping","kickStrength"],[]);var ZX=Aj,{E:CO,K:{kX:{Vy:cY},qR:{op:fX,BO:TO,UO:ly,MO:P},Oy:{zO:{lO:PO}}}}=U9K,{HX:CY,kO:py,$O:_y,qO:Sy,ur:TY,CO:sy,TO:gY}=tY,cO=y=>{var Y=0;return y.forEach(j=>{Y+=j,Y+=Y<<10,Y^=Y>>>6}),Y+=Y<<3,Y=Y^Y>>>11,Y+=Y<<15,Y|0};function q(){this.k=[],this.t=[],this.M=[],this.ty=[],this.Z=[],this._y=[],this.jY=[],this.XY=[],this.aY=new ZX,this.rO=255,this.sj=0,this.uj=0,this.qX=!0,this.oj=!1,this.L="",this.vY=0,this.ij=0,this.wY=0,this.hj=0,this._j=0,this.gj=0,this.Aj=0,this.Sj=0,this.pY=0,this.Hj=0}var ey=null;q.D=function(y){var Y=y.q();return Y==255?(Y=new q,Y.D(y),Y):q.D5()[Y]};q.D5=function(){if(ey)return ey;ey=[];var y=new q;return y.yX("Classic",420,200,370,170,64,75),ey.push(y),y=new q,y.yX("Easy",420,200,370,170,90,75),ey.push(y),y=new q,y.yX("Small",420,200,320,130,55,70),ey.push(y),y=new q,y.yX("Big",600,270,550,240,80,80),ey.push(y),y=new q,y.yX("Rounded",420,200,370,170,64,75,75),ey.push(y),y=new q,y.ji("Hockey",420,204,398,182,68,120,75,100),ey.push(y),y=new q,y.ji("Big Hockey",600,270,550,240,90,160,75,150),ey.push(y),y=new q,y.yX("Big Easy",600,270,550,240,95,80),ey.push(y),y=new q,y.yX("Big Rounded",600,270,550,240,80,75,100),ey.push(y),y=new q,y.yX("Huge",750,350,700,320,100,80),ey.push(y),ey.forEach((Y,j)=>{Y.rO=j}),ey};q.JD=function(y,Y){var j=Y[y.trait];j&&Object.keys(j).forEach(O=>{y[O]==null&&(y[O]=j[O])})};q.ZD=function(y){if(y==63)return["all"];var Y=[];return y&2&&Y.push("red"),y&4&&Y.push("blue"),y&1&&Y.push("ball"),y&8&&Y.push("redKO"),y&16&&Y.push("blueKO"),y&32&&Y.push("wall"),y&64&&Y.push("kick"),y&128&&Y.push("score"),y&268435456&&Y.push("c0"),y&536870912&&Y.push("c1"),y&1073741824&&Y.push("c2"),y&-2147483648&&Y.push("c3"),Y};q.tj=function(y){y=P(y,Array);var Y=0;return y.forEach(j=>{switch(j){case"ball":Y|=1;break;case"red":Y|=2;break;case"blue":Y|=4;break;case"redKO":Y|=8;break;case"blueKO":Y|=16;break;case"wall":Y|=32;break;case"kick":Y|=64;break;case"score":Y|=128;break;case"c0":Y|=268435456;break;case"c1":Y|=536870912;break;case"c2":Y|=1073741824;break;case"c3":Y|=-2147483648;break;case"all":Y|=63;break}}),Y};q.sY=function(y,Y,j,O){j!=O&&(y[Y]=q.ZD(j))};q.pp=function(y,Y,j){Y!=j&&(Y|=0,y.color=Y<0?"transparent":fX(Y))};q.Op=function(y){if(y=="transparent")return-1;if(typeof y=="string")return TO("0x"+y);if(y instanceof Array)return((y[0]|0)<<16)+((y[1]|0)<<8)+(y[2]|0);throw cY(B.pr)};q.Xi=function(y){var Y={x:y.h.x,y:y.h.y};return q.w(Y,"bCoef",y.r,1),q.sY(Y,"cMask",y.z,63),q.sY(Y,"cGroup",y.i,32),Y};q.fD=function(y){var Y=new py;Y.h.x=P(y.x,Number),Y.h.y=P(y.y,Number);var j=y.bCoef;return j!=null&&(Y.r=P(j,Number)),j=y.cMask,j!=null&&(Y.z=q.tj(j)),j=y.cGroup,j!=null&&(Y.i=q.tj(j)),Y};q.pi=function(y){var Y=new py;Y.h.x=P(y.x,Number),Y.h.y=P(y.y,Number);var j=y.bCoef;return j!=null&&(Y.r=P(j,Number)),j=y.cMask,j!=null&&(Y.z=P(j,ly)),j=y.cGroup,j!=null&&(Y.i=P(j,ly)),Y};q.LD=function(y,Y){var j={v0:y.v.X,v1:y.s.X};q.w(j,"bias",y.ny,Y.ny),q.w(j,"bCoef",y.r,Y.r);var O=y.jz();return q.w(j,"curve",O,0),O!=0&&(j.curveF=y.wy),q.w(j,"vis",y.by,Y.by),q.sY(j,"cMask",y.z,Y.z),q.sY(j,"cGroup",y.i,Y.i),q.pp(j,y.b,Y.b),j};q.dD=function(y,Y,j){var[O,p]=y.b5(Y),x={v0:O,v1:p};q.w(x,"bias",Y.ny,j.ny),q.w(x,"bCoef",Y.r,j.r);var l=Y.jz();return q.w(x,"curve",l,0),l!=0&&(x.curveF=Y.wy),q.w(x,"vis",Y.by,j.by),q.sY(x,"cMask",Y.z,j.z),q.sY(x,"cGroup",Y.i,j.i),q.pp(x,Y.b,j.b),x};q.eD=function(y,Y){var j=new _y;j.v=Y[P(y.v0,ly)],j.s=Y[P(y.v1,ly)];var O=y.bias;return O!=null&&(j.ny=P(O,Number)),O=y.bCoef,O!=null&&(j.r=P(O,Number)),O=y.curveF,O!=null?j.wy=P(O,Number):(O=y.curve,O!=null&&j.LO(P(O,Number))),O=y.vis,O!=null&&(j.by=P(O,Boolean)),O=y.cMask,O!=null&&(j.z=q.tj(O)),O=y.cGroup,O!=null&&(j.i=q.tj(O)),O=y.color,O!=null&&(j.b=q.Op(O)),j};q.Oi=function(y,Y){var j=new _y;j.v=Y[P(y.v0,ly)],j.s=Y[P(y.v1,ly)];var O=y.bias;return O!=null&&(j.ny=P(O,Number)),O=y.bCoef,O!=null&&(j.r=P(O,Number)),O=y.curveF,O!=null?j.wy=P(O,Number):(O=y.curve,O!=null&&j.LO(P(O,Number))),O=y.vis,O!=null&&(j.by=P(O,Boolean)),O=y.cMask,O!=null&&(j.z=P(O,ly)),O=y.cGroup,O!=null&&(j.i=P(O,ly)),O=y.color,O!=null&&(j.b=P(O,ly)),j};q.kD=function(y){var Y=new _y;Y.v=y.v0,Y.s=y.v1;var j=y.bias;return j!=null&&(Y.ny=P(j,Number)),j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.curveF,j!=null?Y.wy=P(j,Number):(j=y.curve,j!=null&&Y.LO(P(j,Number))),j=y.vis,j!=null&&(Y.by=P(j,Boolean)),j=y.cMask,j!=null&&(Y.z=P(j,ly)),j=y.cGroup,j!=null&&(Y.i=P(j,ly)),j=y.color,j!=null&&(Y.b=P(j,ly)),Y};q.Ri=function(y){var Y={d0:y.vy,d1:y.ay,length:y.dy>=y.Cy?y.dy:[y.dy,y.Cy]};return q.pp(Y,y.b,0),q.w(Y,"strength",y.$Y,1/0),Y};q.$D=function(y,Y){var j=new gY,O=P(y.d0,ly),p=P(y.d1,ly),x=y.length;if(O<0||O>=Y.length||p<0||p>=Y.length)throw null;return j.vy=O,j.ay=p,x==null?(O=Y[O],p=Y[p],O&&p?j.Cy=j.dy=Math.sqrt((O.h.x-p.h.x)**2+(O.h.y-p.h.y)**2):j.Cy=j.dy=100):x instanceof Array?(j.dy=P(x[0],Number),j.Cy=P(x[1],Number)):j.Cy=j.dy=P(x,Number),O=y.strength,j.$Y=O==null||O=="rigid"?1/0:P(O,Number),O=y.color,O!=null&&(j.b=q.Op(O)),j};q.xi=function(y,Y){var j=new gY,O=P(y.d0,ly),p=P(y.d1,ly),x=y.length;if(O<0||O>=Y.length||p<0||p>=Y.length)throw null;return j.vy=O,j.ay=p,x==null?(O=Y[O],p=Y[p],O&&p?j.Cy=j.dy=Math.sqrt((O.h.x-p.h.x)**2+(O.h.y-p.h.y)**2):j.Cy=j.dy=100):x instanceof Array?(j.dy=P(x[0],Number),j.Cy=P(x[1],Number)):j.Cy=j.dy=P(x,Number),O=y.strength,j.$Y=O==null||O=="rigid"?1/0:P(O,Number),O=y.color,O!=null&&(j.b=P(O,ly)),j};q.qD=function(y){var Y=new gY,j=y.d0,O=y.d1,p=y.length;return Y.d0Obj=j,Y.d1Obj=O,p==null?j&&O?Y.Cy=Y.dy=Math.sqrt((j.h.x-O.h.x)**2+(j.h.y-O.h.y)**2):Y.Cy=Y.dy=100:p instanceof Array?(Y.dy=P(p[0],Number),Y.Cy=P(p[1],Number)):Y.Cy=Y.dy=P(p,Number),j=y.strength,Y.$Y=j==null||j=="rigid"?1/0:P(j,Number),j=y.color,j!=null&&(Y.b=P(j,ly)),Y};q.zi=function(y){var Y={normal:[y.qy.x,y.qy.y],dist:y.xy};return q.w(Y,"bCoef",y.r,1),q.sY(Y,"cMask",y.z,63),q.sY(Y,"cGroup",y.i,32),Y};q.CD=function(y){var Y=new Sy,j=P(y.normal,Array),O=P(j[0],Number),p=P(j[1],Number),x=Math.sqrt(O*O+p*p);return Y.qy.x=O/x,Y.qy.y=p/x,Y.xy=P(y.dist,Number),j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.cMask,j!=null&&(Y.z=q.tj(j)),j=y.cGroup,j!=null&&(Y.i=q.tj(j)),Y};q.li=function(y){var Y=new Sy,j=P(y.normal,Array),O=P(j[0],Number),p=P(j[1],Number),x=Math.sqrt(O*O+p*p);return Y.qy.x=O/x,Y.qy.y=p/x,Y.xy=P(y.dist,Number),j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.cMask,j!=null&&(Y.z=P(j,ly)),j=y.cGroup,j!=null&&(Y.i=P(j,ly)),Y};q.ri=function(y){return{p0:[y.iY.x,y.iY.y],p1:[y.rY.x,y.rY.y],team:y.c==Oy.Ty?"red":"blue"}};q.J5=function(y){var Y=new TY,j=P(y.p0,Array);switch(Y.iY.x=j[0],Y.iY.y=j[1],j=P(y.p1,Array),Y.rY.x=j[0],Y.rY.y=j[1],y.team){case"blue":j=Oy.yY;break;case"red":j=Oy.Ty;break;default:throw cY(B.Or)}return Y.c=j,Y};q.ii=function(y){var Y={};return q.w(Y,"bCoef",y.r,.5),q.w(Y,"invMass",y.F,.5),q.w(Y,"damping",y.N,.96),q.w(Y,"acceleration",y.aj,.1),q.w(Y,"kickingAcceleration",y.Gj,.07),q.w(Y,"kickingDamping",y.vj,.96),q.w(Y,"kickStrength",y.Bj,5),q.sY(Y,"cGroup",y.i,0),(y.T.x!=0||y.T.y!=0)&&(Y.gravity=[y.T.x,y.T.y]),q.w(Y,"radius",y.I,15),q.w(Y,"kickback",y.Kj,0),Y};q.TD=function(y){var Y=new ZX,j;return j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.invMass,j!=null&&(Y.F=P(j,Number)),j=y.damping,j!=null&&(Y.N=P(j,Number)),j=y.acceleration,j!=null&&(Y.aj=P(j,Number)),j=y.kickingAcceleration,j!=null&&(Y.Gj=P(j,Number)),j=y.kickingDamping,j!=null&&(Y.vj=P(j,Number)),j=y.kickStrength,j!=null&&(Y.Bj=P(j,Number)),j=y.gravity,j!=null&&(Y.T.x=P(j[0],Number),Y.T.y=P(j[1],Number)),j=y.cGroup,j!=null&&(Y.i=q.tj(j)),j=y.radius,j!=null&&(Y.I=P(j,Number)),j=y.kickback,j!=null&&(Y.Kj=P(j,Number)),Y};q.hi=function(y,Y){var j={};return(y.h.x!=Y.h.x||y.h.y!=Y.h.y)&&(j.pos=[y.h.x,y.h.y]),(y.P.x!=Y.P.x||y.P.y!=Y.P.y)&&(j.speed=[y.P.x,y.P.y]),(y.T.x!=Y.T.x||y.T.y!=Y.T.y)&&(j.gravity=[y.T.x,y.T.y]),q.w(j,"radius",y.I,Y.I),q.w(j,"bCoef",y.r,Y.r),q.w(j,"invMass",y.F,Y.F),q.w(j,"damping",y.N,Y.N),q.pp(j,y.b,Y.b),q.sY(j,"cMask",y.z,Y.z),q.sY(j,"cGroup",y.i,Y.i),j};q._i=function(y,Y){var j;return j=y.pos,j!=null&&(Y.h.x=j[0],Y.h.y=j[1]),j=y.speed,j!=null&&(Y.P.x=j[0],Y.P.y=j[1]),j=y.gravity,j!=null&&(Y.T.x=j[0],Y.T.y=j[1]),j=y.radius,j!=null&&(Y.I=P(j,Number)),j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.invMass,j!=null&&(Y.F=P(j,Number)),j=y.damping,j!=null&&(Y.N=P(j,Number)),j=y.color,j!=null&&(Y.b=q.Op(j)),j=y.cMask,j!=null&&(Y.z=q.tj(j)),j=y.cGroup,j!=null&&(Y.i=q.tj(j)),Y};q.Z5=function(y,Y){var j;return j=y.pos,j!=null&&(Y.h.x=j[0],Y.h.y=j[1]),j=y.speed,j!=null&&(Y.P.x=j[0],Y.P.y=j[1]),j=y.gravity,j!=null&&(Y.T.x=j[0],Y.T.y=j[1]),j=y.radius,j!=null&&(Y.I=P(j,Number)),j=y.bCoef,j!=null&&(Y.r=P(j,Number)),j=y.invMass,j!=null&&(Y.F=P(j,Number)),j=y.damping,j!=null&&(Y.N=P(j,Number)),j=y.color,j!=null&&(Y.b=P(j,ly)),j=y.cMask,j!=null&&(Y.z=P(j,ly)),j=y.cGroup,j!=null&&(Y.i=P(j,ly)),Y};q.w=function(y,Y,j,O){j!=O&&(y[Y]=j)};q.prototype={TR:function(){var y=new sy;return y.b=16777215,y.z=63,y.i=193,y.I=10,y.N=.99,y.F=1,y.r=.5,y},S:function(y){y.g(this.rO),!this.f5()&&(y.AY(this.L),y.m(this.wY),y.J(this._j),y.J(this.gj),y.J(this.Aj),y.J(this.Sj),y.J(this.Hj),y.m(this.hj),y.J(this.vY),y.J(this.ij),y.J(this.pY),this.aY.S(y),y.My(this.sj),y.g(this.uj),y.g(this.qX?1:0),y.g(this.oj?1:0),y.g(this.k.length),this.k.forEach((Y,j)=>{Y.X=j,Y.S(y)}),y.g(this.t.length),this.t.forEach(Y=>Y.S(y)),y.g(this.M.length),this.M.forEach(Y=>Y.S(y)),y.g(this.ty.length),this.ty.forEach(Y=>Y.S(y)),y.g(this.Z.length),this.Z.forEach(Y=>Y.S(y)),y.g(this._y.length),this._y.forEach(Y=>Y.S(y)),y.g(this.jY.length),this.jY.forEach(Y=>{y.J(Y.x),y.J(Y.y)}),y.g(this.XY.length),this.XY.forEach(Y=>{y.J(Y.x),y.J(Y.y)}))},D:function(y){function Y(O,p=!1,x=void 0){for(var l=[],_=y.q(),r=0;r<_;r++){var D=new O;D.D(y,x),p&&(D.X=r),l.push(D)}return l}function j(){for(var O=[],p=y.q(),x=0;x<p;x++)O.push(new CY(y.d(),y.d()));return O}this.L=y.gY(),this.wY=y.W(),this._j=y.d(),this.gj=y.d(),this.Aj=y.d(),this.Sj=y.d(),this.Hj=y.d(),this.hj=y.W(),this.vY=y.d(),this.ij=y.d(),this.pY=y.d(),this.aY.D(y),this.sj=y.By(),this.uj=y.q(),this.qX=y.q()!=0,this.oj=y.q()!=0,this.k=Y(py,!0),this.t=Y(_y,!1,this.k),this.M=Y(Sy),this.ty=Y(TY),this.Z=Y(sy),this._y=Y(gY),this.jY=j(),this.XY=j(),this.UY()},UY:function(){this.t.forEach(y=>y.UY())},f5:function(){return this.rO!=255},Rp:function(y,Y,j){return y=y[Y],y!=null?P(y,Number):j},PD:function(y,Y,j){return y=y[Y],y!=null?P(y,Boolean):j},cD:function(){return JSON.stringify(this.oD())},oD:function(){var y={name:this.L,width:this.vY,height:this.ij,ballPhysics:"disc0"},Y,j;switch(y.vertexes=j=[],this.k.forEach((O,p)=>{O.X=p,j.push(q.Xi(O))}),y.segments=j=[],Y=new _y,this.t.forEach(O=>j.push(q.LD(O,Y))),y.planes=j=[],this.M.forEach(O=>j.push(q.zi(O))),y.goals=j=[],this.ty.forEach(O=>j.push(q.ri(O))),y.playerPhysics=q.ii(this.aY),Y=new sy,y.discs=j=[],this.Z.forEach(O=>j.push(q.hi(O,Y))),q.w(y,"maxViewWidth",this.sj,0),q.w(y,"cameraFollow",this.uj==1?"player":"",""),q.w(y,"spawnDistance",this.pY,200),this._y.length>0&&(y.joints=j=[],this._y.forEach(O=>j.push(q.Ri(O)))),this.jY.length>0&&(y.redSpawnPoints=j=[],this.jY.forEach(O=>j.push([O.x,O.y]))),this.XY.length>0&&(y.blueSpawnPoints=j=[],this.XY.forEach(O=>j.push([O.x,O.y]))),q.w(y,"kickOffReset",this.oj?"full":"partial","partial"),this.wY){case 1:Y="grass";break;case 2:Y="hockey";break;default:Y="none"}return y.bg=j={},q.w(j,"type",Y,"none"),q.w(j,"width",this._j,0),q.w(j,"height",this.gj,0),q.w(j,"kickOffRadius",this.Aj,0),q.w(j,"cornerRadius",this.Sj,0),q.pp(j,this.hj,7441498),q.w(j,"goalLine",this.Hj,0),y},HD:function(j){var Y=this,j=U9K.rz.parse(j);this.k=[],this.t=[],this.M=[],this.ty=[],this.Z=[],this._y=[],this.L=P(j.name,String),this.vY=P(j.width,Number),this.ij=P(j.height,Number),this.sj=this.Rp(j,"maxViewWidth",0)|0,j.cameraFollow=="player"&&(this.uj=1),this.pY=200;var O=j.spawnDistance;O!=null&&(this.pY=P(O,Number)),O=j.bg;var p=0;switch(O.type){case"grass":p=1;break;case"hockey":p=2;break}this.wY=p,this._j=this.Rp(O,"width",0),this.gj=this.Rp(O,"height",0),this.Aj=this.Rp(O,"kickOffRadius",0),this.Sj=this.Rp(O,"cornerRadius",0),this.hj=7441498,O.color!=null&&(this.hj=q.Op(O.color)),this.Hj=this.Rp(O,"goalLine",0),this.qX=this.PD(j,"canBeStored",!0),this.oj=j.kickOffReset=="full";var x=j.traits||{};function l(r){return new CY(P(r[0],Number),P(r[1],Number))}function _(r,D,S,b=!1){var f=j[D];b&&f==null||(f=P(f,Array),f?.forEach(e=>{try{q.JD(e,x),r.push(S(e))}catch{throw cY(B.yr,D,r.length)}}))}if(p=j.ballPhysics,p!="disc0"&&(p==null?this.Z.push(this.TR()):(p=q._i(p,this.TR()),p.i|=192,this.Z.push(p))),_(this.k,"vertexes",q.fD),_(this.t,"segments",r=>q.eD(r,Y.k)),_(this.ty,"goals",q.J5),_(this.Z,"discs",r=>q._i(r,new sy)),_(this.M,"planes",q.CD),_(this._y,"joints",r=>q.$D(r,Y.Z),!0),_(this.jY,"redSpawnPoints",l,!0),_(this.XY,"blueSpawnPoints",l,!0),p=j.playerPhysics,p!=null&&(this.aY=q.TD(p)),this.k.length>255||this.t.length>255||this.M.length>255||this.ty.length>255||this.Z.length<1||this.Z.length>255)throw cY(B.Rr);this.UY()},calculateHash:function(){var y=PO.j(1024);return this.S(y),cO(y.my())},calculateChecksum:function(){return this.f5()?null:fX(this.calculateHash(),8)},yX:function(y,Y,j,O,p,x,l,_=0){this.L=y,this.Z.push(this.TR()),this.vY=Y,this.ij=j,this.wY=1,this.hj=7441498,this._j=O,this.gj=p,this.Aj=l,this.Sj=_,this.pY=.75*O,this.pY>400&&(this.pY=400),this.M.push(new Sy({zY:0,lY:1,xy:-j,r:0})),this.M.push(new Sy({zY:0,lY:-1,xy:-j,r:0})),this.M.push(new Sy({zY:1,lY:0,xy:-Y,r:0})),this.M.push(new Sy({zY:-1,lY:0,xy:-Y,r:0})),this.PR(O,1,x,13421823,Oy.yY),this.PR(-O,-1,x,16764108,Oy.Ty),this.gi(l,j),this.M.push(new Sy({zY:0,lY:1,xy:-p,z:1})),this.M.push(new Sy({zY:0,lY:-1,xy:-p,z:1}));var r=new py({iy:-O,hy:-p,z:0}),D=new py({iy:O,hy:-p,z:0}),S=new py({iy:O,hy:-x,z:0}),b=new py({iy:O,hy:x,z:0}),f=new py({iy:O,hy:p,z:0}),e=new py({iy:-O,hy:p,z:0}),L=new py({iy:-O,hy:x,z:0}),k=new py({iy:-O,hy:-x,z:0});this.k.push(r),this.k.push(D),this.k.push(S),this.k.push(b),this.k.push(f),this.k.push(e),this.k.push(L),this.k.push(k),this.t.push(new _y({v:D,s:S,z:1,by:!1})),this.t.push(new _y({v:b,s:f,z:1,by:!1})),this.t.push(new _y({v:e,s:L,z:1,by:!1})),this.t.push(new _y({v:k,s:r,z:1,by:!1})),this.Ai(O,p,_),this.UY()},ji:function(y,Y,j,O,p,x,l,_,r){this.L=y,this.Z.push(this.TR()),this.vY=Y,this.ij=j,this.wY=2,this._j=O,this.gj=p,this.Aj=_,this.Sj=r,this.Hj=l,this.pY=.75*(O-l),this.pY>400&&(this.pY=400),this.M.push(new Sy({zY:0,lY:1,xy:-j,r:0})),this.M.push(new Sy({zY:0,lY:-1,xy:-j,r:0})),this.M.push(new Sy({zY:1,lY:0,xy:-Y,r:0})),this.M.push(new Sy({zY:-1,lY:0,xy:-Y,r:0})),this.PR(O-l,1,x,13421823,Oy.yY,63),this.PR(-O+l,-1,x,16764108,Oy.Ty,63),this.gi(_,j),this.M.push(new Sy({zY:0,lY:1,xy:-p,z:1})),this.M.push(new Sy({zY:0,lY:-1,xy:-p,z:1})),this.M.push(new Sy({zY:1,lY:0,xy:-O,z:1})),this.M.push(new Sy({zY:-1,lY:0,xy:-O,z:1})),this.Ai(O,p,r),this.UY()},PR:function(y,Y,j,O,p,x=1,l=32){var _=new py({iy:y+8*Y,hy:-j,z:x,i:l,r:.1}),r=new py({iy:y+8*Y,hy:j,z:x,i:l,r:.1}),D=new py({iy:y+30*Y,hy:22-j,z:x,i:l,r:.1}),S=new py({iy:y+30*Y,hy:j-22,z:x,i:l,r:.1});this.k.push(_),this.k.push(r),this.k.push(D),this.k.push(S),this.t.push(new _y({v:_,s:D,z:x,i:l,r:.1,cj:90*Y})),this.t.push(new _y({v:S,s:D,z:x,i:l,r:.1})),this.t.push(new _y({v:S,s:r,z:x,i:l,r:.1,cj:90*Y})),this.Z.push(new sy({iy:y,hy:-j,F:0,I:8,b:O})),this.Z.push(new sy({iy:y,hy:j,F:0,I:8,b:O})),this.ty.push(new TY({Rh:y,xh:-j,zh:y,lh:j,c:p}))},gi:function(y,Y){var j=new py({iy:0,hy:-Y,r:.1,i:24,z:6}),O=new py({iy:0,hy:-y,r:.1,i:24,z:6}),p=new py({iy:0,hy:y,r:.1,i:24,z:6}),x=new py({iy:0,hy:Y,r:.1,i:24,z:6});this.k.push(j),this.k.push(O),this.k.push(p),this.k.push(x),this.t.push(new _y({v:j,s:O,r:.1,i:24,z:6,by:!1})),this.t.push(new _y({v:p,s:x,r:.1,i:24,z:6,by:!1})),this.t.push(new _y({v:O,s:p,r:.1,i:8,z:6,by:!1,cj:180})),this.t.push(new _y({v:p,s:O,r:.1,i:16,z:6,by:!1,cj:180}))},Ai:function(y,Y,j){if(!(j<=0)){var O=new py({iy:-y+j,hy:-Y,z:0}),p=new py({iy:-y,hy:-Y+j,z:0}),x=new py({iy:-y+j,hy:Y,z:0}),l=new py({iy:-y,hy:Y-j,z:0}),_=new py({iy:y-j,hy:Y,z:0}),r=new py({iy:y,hy:Y-j,z:0}),D=new py({iy:y-j,hy:-Y,z:0}),S=new py({iy:y,hy:-Y+j,z:0});this.k.push(O),this.k.push(p),this.k.push(x),this.k.push(l),this.k.push(_),this.k.push(r),this.k.push(D),this.k.push(S),this.t.push(new _y({v:O,s:p,r:1,z:1,by:!1,cj:-90})),this.t.push(new _y({v:x,s:l,r:1,z:1,by:!1,cj:90})),this.t.push(new _y({v:_,s:r,r:1,z:1,by:!1,cj:-90})),this.t.push(new _y({v:D,s:S,r:1,z:1,by:!1,cj:90}))}},copy:function(){var y=new q,Y=this;y.rO=Y.rO,y.L=Y.L,y.wY=Y.wY,y._j=Y._j,y.gj=Y.gj,y.Aj=Y.Aj,y.Sj=Y.Sj,y.Hj=Y.Hj,y.hj=Y.hj,y.vY=Y.vY,y.ij=Y.ij,y.pY=Y.pY;var j=y.aY,O=Y.aY;return j.r=O.r,j.F=O.F,j.N=O.N,j.aj=O.aj,j.Gj=O.Gj,j.vj=O.vj,j.Bj=O.Bj,j.T.x=O.T.x,j.T.y=O.T.y,j.i=O.i,j.I=O.I,j.Kj=O.Kj,y.sj=Y.sj,y.uj=Y.uj,y.qX=Y.qX,y.oj=Y.oj,y.k=Y.k.map((p,x)=>{var l=new py;return l.h.x=p.h.x,l.h.y=p.h.y,l.r=p.r,l.z=p.z,l.i=p.i,l.X=x,l}),y.t=Y.t.map(p=>{var x=new _y,l=p.v,_=p.s,r=-1,D=-1;return Y.k.forEach((S,b)=>{S==l?r=b:S==_&&(D=b)}),x.v=y.k[r],x.s=y.k[D],x.ny=p.ny,x.wy=p.wy,x.b=p.b,x.by=p.by,x.r=p.r,x.z=p.z,x.i=p.i,x}),y.M=Y.M.map(p=>{var x=new Sy;return x.qy.x=p.qy.x,x.qy.y=p.qy.y,x.xy=p.xy,x.r=p.r,x.z=p.z,x.i=p.i,x}),y.ty=Y.ty.map(p=>{var x=new TY;return x.iY.x=p.iY.x,x.iY.y=p.iY.y,x.rY.x=p.rY.x,x.rY.y=p.rY.y,x.c=p.c,x}),y.Z=Y.Z.map(p=>{var x=new sy;return x.h.x=p.h.x,x.h.y=p.h.y,x.P.x=p.P.x,x.P.y=p.P.y,x.T.x=p.T.x,x.T.y=p.T.y,x.I=p.I,x.r=p.r,x.F=p.F,x.N=p.N,x.b=p.b,x.z=p.z,x.i=p.i,x}),y._y=Y._y.map(p=>{var x=new gY;return x.vy=p.vy,x.ay=p.ay,x.dy=p.dy,x.Cy=p.Cy,x.$Y=p.$Y,x.b=p.b,x}),y.jY=Y.jY.map(p=>new CY(p.x,p.y)),y.XY=Y.XY.map(p=>new CY(p.x,p.y)),y.UY(),y}};Object.defineProperty(q.prototype,"isCustom",{get:function(){return!this.f5()}});CO(q,[],["vertices","segments","planes","goals","discs","joints","redSpawnPoints","blueSpawnPoints","playerPhysics","defaultStadiumId","maxViewWidth","cameraFollow","canBeStored","fullKickOffReset","name","width","height","bgType","bgColor","bgWidth","bgHeight","bgKickOffRadius","bgCornerRadius","spawnDistance","bgGoalLine"],[]);var oY=q,{HX:oO,BR:LX,VR:HO}=tY;function Ey(){this.SY=-1,this.u=null,this.xY=0,this.Dj=0,this.IY=0,this.EY=0,this.YX=Oy.Ty,this.O=0,this.mY=0,this.A=new LX,this.Py=0,this.Wy=5,this.e=null,this.ly=null}var zj=[],_Y=[];for(Rj=0;Rj<256;Rj++)zj.push(new oO(0,0)),_Y.push(0);var Rj;Ey.LY=function(y,Y,j){y.ly=Y.ly.dY(j),y.Wy=Y.Wy,y.Py=Y.Py,y.A=Y.A.dY(j),y.mY=Y.mY,y.O=Y.O,y.EY=Y.EY,y.IY=Y.IY,y.Dj=Y.Dj,y.xY=Y.xY,y.e=Y.e,y.YX=Y.YX};Ey.prototype={tD:function(y){this.ly=y,this.Wy=y.Wy,this.Py=y.Py,this.e=y.e,this.A=LX.bD(y.e),this.Si()},Di:function(y){y.c==Oy.bY?this.A.sr(y,this.ly.xp):this.A.DD(y,this.e,this.ly.L5)},WD:function(y,Y){return this.e.ty.findIndex(j=>j.FR(y,Y))},Qy:function(y){var Y=this;if(Y.xY>0)Y.xY<120&&Y.xY--;else{Y.ly.d5?.();var j=Y.e.aY,O=Y.ly.o;O.forEach(r=>{var{U:D}=r;if(D){if(r.Ly&16||(r.GY=!1),r.bj>0&&r.bj--,r.Jj<Y.ly.jX&&r.Jj++,r.GY&&r.bj<=0&&r.Jj>=0){var S=!1;Y.A.Z.forEach(b=>{b!=D&&b.i&64&&Y.A.AD(D,b,j)&&(S=!0)}),S&&(Y.ly.e5?.(r),r.GY=!1,r.bj=Y.ly.Wj,r.Jj-=Y.ly.Zj)}Y.A.SD(r,j)}});var p=0;switch(Y.A.Z.forEach((r,D)=>{r.i&128&&(_Y[p]=D,D=zj[p],D.x=r.h.x,D.y=r.h.y,p++)}),Y.A.Fy(y,Y.ly),Y.O){case 0:{O.forEach(r=>{r.U&&(r.U.z=39|Y.YX.z)}),Y.A.Z[0].ih()&&(Y.O=1,Y.ly.k5?.());break}case 1:{Y.Dj+=.016666666666666666,O.forEach(r=>{r.U&&(r.U.z=39)});var x=-1;for(O=Y.A.Z,y=0;y<p&&x<0;y++)x=Y.WD(O[_Y[y]].h,zj[y]);if(x>=0){var l=Y.e.ty[x],{c:_}=l;Y.O=2,Y.mY=150,Y.YX=_,_==Oy.Ty?Y.IY++:Y.EY++,Y.ly.$5?.(_==Oy.Ty?Oy.yY:Oy.Ty,x,l,_Y[y],O[_Y[y]]),Y.ly.wD?.(_.X)}else Y.Py>0&&Y.Dj>=60*Y.Py&&Y.EY!=Y.IY&&(Y.ly.q5?.(),Y.bi());break}case 2:{Y.mY--,Y.mY<=0&&(Y.Wy>0&&(Y.EY>=Y.Wy||Y.IY>=Y.Wy)||Y.Py>0&&Y.Dj>=60*Y.Py&&Y.EY!=Y.IY?Y.bi():(Y.Si(),Y.ly.C5?.()));break}case 3:{Y.mY--,Y.mY<=0&&Y.ly.l!=null&&(Y.ly.l=null,Y.ly.o.forEach(r=>{r.U&&Y.ly.xp?.(r),r.U=null,r.QY=0}),Y.ly.cR?.(null));break}}}},bi:function(){this.mY=300,this.O=3,this.ly.T5?.(this.EY>this.IY?Oy.Ty:Oy.yY)},Si:function(){var y=this,{Z:Y,oj:j,jY:O,XY:p,pY:x}=y.e,l=y.A.Z,_=j?Y.length:1;y.O=0;for(var r=0;r<_;r++)Y[r].ar(l[r]);var D=[0,0,0];y.ly.o.forEach(S=>{y.Di(S);var{X:b,Gr:f}=S.c;if(b!=0){var{h:e}=S.U,L=D[b],k=b==1?O:p;k.length==0?(r=L+1>>1,L&1||(r=-r),e.x=x*f,e.y=55*r):(L>=k.length&&(L=k.length-1),r=k[L],e.x=r.x,e.y=r.y),S.QY=++D[b]}})},S:function(y){this.A.S(y),y.m(this.mY),y.m(this.O),y.m(this.EY),y.m(this.IY),y.J(this.Dj),y.m(this.xY),y.g(this.YX.X)},D:function(y,Y){this.A.D(y),this.mY=y.W(),this.O=y.W(),this.EY=y.W(),this.IY=y.W(),this.Dj=y.d(),this.xY=y.W(),this.YX=Oy.p[y.kp()]||Oy.bY,this.ly=Y,this.Wy=Y.Wy,this.Py=Y.Py,this.e=Y.e,this.A.k=this.e.k,this.A.t=this.e.t,this.A.M=this.e.M,this.A._y=this.e._y},dY:function(y){return y!=this.SY&&(this.u||(this.u=new Ey),this.SY=y,Ey.LY(this.u,this,y)),this.u},copy:function(y){var Y=new Ey;return Y.A.Z=this.A.Z.map(j=>{var O=new HO;return O.h.x=j.h.x,O.h.y=j.h.y,O.P.x=j.P.x,O.P.y=j.P.y,O.T.x=j.T.x,O.T.y=j.T.y,O.I=j.I,O.r=j.r,O.F=j.F,O.N=j.N,O.b=j.b,O.z=j.z,O.i=j.i,O.n=j.n,O}),Y.mY=this.mY,Y.O=this.O,Y.EY=this.EY,Y.IY=this.IY,Y.Dj=this.Dj,Y.xY=this.xY,Y.YX=this.YX,Y.ly=y||this.ly,Y.Wy=Y.ly.Wy,Y.Py=Y.ly.Py,Y.e=Y.ly.e,Y.A.k=Y.e.k,Y.A.t=Y.e.t,Y.A.M=Y.e.M,Y.A._y=Y.e._y,Y}};Ey.prototype.runSteps=Ey.prototype.Qy;Object.defineProperty(Ey.prototype,"paused",{get:function(){return this.xY!==0}});U9K.E(Ey,[],[null,"ext","pauseGameTickCounter","timeElapsed","blueScore","redScore","goalConcedingTeam","state","goalTickCounter","physicsState","timeLimit","scoreLimit","stadium",null],[]);var tO=Ey,WO=jY(function(y){var{K:{kX:{ep:Y,Vy:j}}}=U9K;function O(b){return"rgba("+[(b&16711680)>>>16,(b&65280)>>>8,b&255].join()+",255)"}function p(b){var f=b.match(/rgba?[ \t]*\([ \t]*(\d+),[ \t]*(\d+),[ \t]*(\d+)[ \t]*\)/);if(!(f.length<4)){var e=parseInt(f[1]),L=parseInt(f[2]),k=parseInt(f[3]);if(!(e>255||L>255||k>255))return e<<16|L<<8|k}}function x(b,f){return(U9K.JY.tX?"https":"http")+"://"+U9K.JY.Sp+"/play?c="+b+(f?"&p=1":"")}function l(){return oY.D5()}function _(b){try{var f=new oY;return f.HD(b),f}catch(e){throw e instanceof Y?e:e instanceof SyntaxError?j(B.Yr,e.lineNumber):j(B.jr,e)}}function r(b){return b.cD()}function D(b,f,e){return(e?16:0)|(b>0?8:b<0?4:0)|(f>0?2:f<0?1:0)}function S(b){return{dirX:((b&8)>0)-((b&4)>0),dirY:((b&2)>0)-((b&1)>0),kick:(b&16)>0}}y.bL=y.ID||(y.ID={ED:O,Op:p,mD:x,QD:l,FD:_,P5:r,iO:D,UD:S})}),{E:wO,K:{Oy:{V:{Wp:IO,S5:{zX:Sj}}}}}=U9K;IO(Sj,B.Er);wO(Sj,[],[null,"pings","byId"],[]);var EO=Sj,{E:mO,K:{Oy:{V:{Wp:QO,S5:{xX:Dj}}}}}=U9K;QO(Dj,B.qr);mO(Dj,[],[null,"id","reason","ban","byId"],[]);var FO=Dj,{E:UO,K:{Oy:{V:{Wp:MO,S5:{RX:bj}}}}}=U9K;MO(bj,B.dr);UO(bj,[],[null,"data"],[]);var nO=bj,{E:NO,K:{kX:{Vy:VO},Oy:{V:{gy:BO}}}}=U9K,dX=BO({X:B.fr,zy:!1,jy:!1,bR:{JR:10,ZR:900},Q:function(){this.zp="",this.b=0,this.hO=0,this._O=0,this.p=0,this.uO=null},Ay:function(y,Y,j,O,p){return y.zp=Y,y.b=j,y.hO=O,y._O=p,y},Sy:function(){return[this.zp,this.b,this.hO,this._O]},H:function(y){this.p==0&&y.MD(this.zp,this.b,this.hO,this._O)},S:function(y){y.fY(this.zp.substring(0,1e3)),y.m(this.b),y.g(this.hO),y.g(this._O)},D:function(y){if(this.zp=y.ZY(),this.zp.length>1e3)throw VO(B.xr);this.b=y.W(),this.hO=y.q(),this._O=y.q()}});NO(dX,[],[null,"msg","color","style","sound","byId","targetId"],[]);var KO=dX,{E:GO,K:{Oy:{V:{gy:aO}}}}=U9K,eX=aO({X:B.Lr,zy:!1,jy:!1,Q:function(){this.value=0,this.X=null,this.lp=null,this.p=0},Ay:function(y,Y,j,O){return y.value=Y,y.X=j,y.lp=O,y},Sy:function(){return[this.value,this.X,this.lp]},H:function(y){if(this.X!=null){U9K.hY(()=>{try{y.nD?.(this.p,this.X,this.lp)}catch{}},200);return}y.ND(this.p,this.value)},S:function(y){y.g(this.value),this.X!=null&&this.lp!=null&&(y.m(this.X),y.g(this.lp))},D:function(y,Y){if(this.value=y.q(),!Y)try{this.X=y.W(),this.lp=y.q()}catch{}}});GO(eX,[],[null,"value","id","mode","byId"],[]);var vO=eX,{E:sO,K:{Oy:{V:{gy:uO}}}}=U9K,kX=uO({X:B.er,zy:!0,jy:!0,Q:function(){this.Ly=0,this.p=0},Ay:function(y,Y){return y.Ly=Y,y},Sy:function(){return[this.Ly]},H:function(y){y.VD(this.p,this.Ly)},S:function(y){y.ey(this.Ly)},D:function(y){this.Ly=y.ry()}});sO(kX,[],[null,"input","byId"],[]);var yR=kX,{E:YR,K:{kX:{Vy:jR},Oy:{V:{gy:XR}}}}=U9K,$X=XR({X:B.kr,zy:!1,jy:!1,bR:{JR:10,ZR:900},Q:function(){this.WY="",this.p=0,this.uO=null},Ay:function(y,Y){return y.WY=Y,y},Sy:function(){return[this.WY]},H:function(y){y.BD(this.WY,this.p)},S:function(y){y.fY(this.WY.substring(0,140))},D:function(y){if(this.WY=y.ZY(),this.WY.length>140)throw jR(B.zr)}});YR($X,[],[null,"text","byId","targetId"],[]);var pR=$X,{E:OR,K:{Oy:{V:{gy:RR}}}}=U9K,qX=RR({X:B.$r,zy:!1,jy:!1,Q:function(){this.X=0,this.L="",this.ky="",this.Jy="",this.Qj="",this.Gy="",this.p=0},Ay:function(y,Y,j,O,p,x,l){return y.X=Y,y.L=j,y.ky=O,y.Jy=p,y.Qj=x,y.Gy=l,y},Sy:function(){return[this.X,this.L,this.ky,this.Jy,this.Qj,this.Gy]},H:function(y){this.p==0&&y.g_(this.X,this.L,this.ky,this.Jy,this.Qj,this.Gy)},S:function(y){y.m(this.X),y.AY(this.L),y.AY(this.ky),y.AY(this.Jy)},D:function(y){this.X=y.W(),this.L=y.gY(),this.ky=y.gY(),this.Jy=y.gY()}});OR(qX,[],[null,"id","name","flag","avatar","conn","auth","byId"],[]);var xR=qX,{E:zR,K:{Oy:{V:{gy:lR}}}}=U9K,CX=lR({X:B.Cr,zy:!1,jy:!1,Q:function(){this.p=0},Ay:function(y){return y},Sy:function(){return[]},H:function(y){y.TY(this.p,32)&&y.KD(y.G(this.p))},S:function(){},D:function(){}});zR(CX,[],[null,"byId"],[]);var rR=CX,{E:iR,K:{Oy:{V:{gy:hR}}}}=U9K,TX=hR({X:B.Tr,zy:!1,jy:!1,Q:function(){this.p=0},Ay:function(y){return y},Sy:function(){return[]},H:function(y){y.TY(this.p,32)&&y.GD(y.G(this.p))},S:function(){},D:function(){}});iR(TX,[],[null,"byId"],[]);var _R=TX,{E:gR,K:{Oy:{V:{gy:AR}}}}=U9K,PX=AR({X:B.Pr,zy:!0,jy:!0,Q:function(){this.gO=!1,this.p=0},Ay:function(y,Y){return y.gO=Y,y},Sy:function(){return[this.gO]},H:function(y){y.TY(this.p,16)&&y.aD(this.gO,this.p)},S:function(y){y.g(this.gO?1:0)},D:function(y){this.gO=y.q()!=0}});gR(PX,[],[null,"paused","byId"],[]);var SR=PX,{E:DR,K:{Oy:{V:{gy:bR}}}}=U9K,cX=bR({X:B.cr,zy:!1,jy:!1,Q:function(){this.B=0,this.FY=0,this.p=0},Ay:function(y,Y,j){return y.B=Y,y.FY=j,y},Sy:function(){return[this.B,this.FY]},H:function(y){if(y.TY(this.p,2))switch(this.B){case 0:y.vD(this.FY,this.p);break;case 1:y.sD(this.FY,this.p);break}},S:function(y){y.m(this.B),y.m(this.FY)},D:function(y){this.B=y.W(),this.FY=y.W()}});DR(cX,[],[null,"type","newValue","byId"],[]);var JR=cX,{E:ZR,K:{Oy:{zO:{lO:fR,$R:LR},V:{gy:dR}}}}=U9K,oX=dR({X:B.or,zy:!1,jy:!1,bR:{JR:10,ZR:2e3},Q:function(){this.e=null,this.p=0},Ay:function(y,Y){return y.e=Y,y},Sy:function(){return[this.e?.copy()]},H:function(y){y.TY(this.p,8)&&y.uD(this.e,this.p)},S:function(y){var Y=fR.j();this.e.S(Y);var j=U9K.Ny.deflateRaw(Y.my());y.My(j.byteLength),y.sy(j)},D:function(y){var Y=U9K.Ny.inflateRaw(y.Uy(y.By()));this.e=oY.D(new LR(new DataView(Y.buffer,Y.byteOffset,Y.byteLength)))}});ZR(oX,[],[null,"stadium","byId"],[]);var eR=oX,{E:kR,K:{Oy:{V:{gy:$R}}}}=U9K,HX=$R({X:B.Hr,zy:!1,jy:!1,Q:function(){this.n=0,this.c=null,this.p=0},Ay:function(y,Y,j){return y.n=Y,y.c=j,y},Sy:function(){return[this.n,this.c]},H:function(y){!y.TY(this.p,1)&&(this.n!=this.p||y.wj||y.l!=null)||y.oR(y.G(this.n),this.c,this.p)},S:function(y){y.m(this.n),y.g(this.c.X)},D:function(y){this.n=y.W(),this.c=Oy.p[y.kp()]||Oy.bY}});kR(HX,[],[null,"playerId","team","byId"],[]);var qR=HX,{E:CR,K:{Oy:{V:{gy:TR}}}}=U9K,tX=TR({X:B.tr,zy:!1,jy:!1,Q:function(){this.FY=0,this.p=0},Ay:function(y,Y){return y.FY=Y,y},Sy:function(){return[this.FY]},H:function(y){y.TY(this.p,2)&&y.yb(this.FY,this.p)},S:function(y){y.g(this.FY?1:0)},D:function(y){this.FY=y.q()!=0}});CR(tX,[],[null,"newValue","byId"],[]);var PR=tX,{E:cR,K:{Oy:{V:{gy:oR}}}}=U9K,WX=oR({X:B.Wr,zy:!1,jy:!1,Q:function(){this.n=0,this.value=0,this.p=0},Ay:function(y,Y,j){return y.n=Y,y.value=j,y},Sy:function(){return[this.n,this.value]},H:function(y){y.TY(this.p,4)&&y.Yb(y.G(this.n),this.value,this.p)},S:function(y){y.m(this.n),y.g(this.value?1:0)},D:function(y){this.n=y.W(),this.value=y.q()!=0}});cR(WX,[],[null,"playerId","value","byId"],[]);var HR=WX,{E:tR,K:{Oy:{V:{gy:WR}}}}=U9K,wX=WR({X:B.wr,zy:!1,jy:!1,Q:function(){this.p=0},Ay:function(y){return y},Sy:function(){return[]},H:function(y){y.TY(this.p,1)&&y.jb(this.p)},S:function(y){},D:function(y){}});tR(wX,[],[null,"byId"],[]);var wR=wX,{E:IR,K:{Oy:{V:{gy:ER}}}}=U9K,IX=ER({X:B.Ir,zy:!1,jy:!1,bR:{JR:2,ZR:1e4},Q:function(){this.value=!1,this.p=0},Ay:function(y,Y){return y.value=Y,y},Sy:function(){return[this.value]},H:function(y){y.Xb(y.G(this.p),this.value)},S:function(y){y.g(this.value?1:0)},D:function(y){this.value=y.q()!=0}});IR(IX,[],[null,"value","byId"],[]);var mR=IX,{E:QR,K:{Oy:{V:{gy:FR}}}}=U9K,EX=FR({X:B.mr,zy:!1,jy:!1,Q:function(){this.value=null,this.p=0},Ay:function(y,Y){return y.value=Y,y},Sy:function(){return[this.value]},H:function(y){y.pb(this.p,this.value)},S:function(y){y.AY(this.value)},D:function(y){this.value=y.gY(),this.value&&(this.value=this.value.substring(0,2))}});QR(EX,[],[null,"value","byId"],[]);var UR=EX,{E:MR,K:{Oy:{V:{gy:nR}}}}=U9K,mX=nR({X:B.Qr,zy:!1,jy:!1,Q:function(){this.c=null,this.rp=null,this.p=0},Ay:function(y,Y,j){return y.c=Y,y.rp=j,y},Sy:function(){return[this.c,this.rp?.copy()]},H:function(y){y.TY(this.p,2)&&y.Ob(this.c.X,this.rp,this.p)},S:function(y){y.g(this.c.X),this.rp.S(y)},D:function(y){this.c=Oy.p[y.kp()]||Oy.bY,this.rp=new hX,this.rp.D(y)}});MR(mX,[],[null,"team","colors","byId"],[]);var NR=mX,{E:VR,K:{Oy:{V:{gy:BR}}}}=U9K,QX=BR({X:B.Fr,zy:!1,jy:!1,Q:function(){this.CX=null,this.AO=!0,this.p=0},Ay:function(y,Y,j){var O=new Set;Y.forEach(l=>O.add(l)),Y=[],O=O.values();for(var p=O.next(),x=0;!p.done&&x<40;x++)Y.push(p.value),p=O.next();return y.CX=Y,y.AO=j,y},Sy:function(){return[this.CX.slice(),this.AO]},H:function(y){this.p==0&&y.Rb(this.CX,this.AO)},S:function(y){y.g(this.AO?1:0),y.g(this.CX.length),this.CX.forEach(Y=>y.m(Y))},D:function(y){this.CX=[],this.AO=y.q()!=0;for(var Y=y.q(),j=0;j<Y;j++)this.CX.push(y.W())}});VR(QX,[],[null,"playerIdList","moveToTop","byId"],[]);var KR=QX,{E:GR,K:{Oy:{V:{gy:aR}}}}=U9K,FX=aR({X:B.Ur,zy:!1,jy:!1,Q:function(){this.SO=0,this.DO=0,this.bO=0,this.p=0},Ay:function(y,Y,j,O){return y.SO=Y,y.DO=j,y.bO=O,y},Sy:function(){return[this.SO,this.DO,this.bO]},H:function(y){y.TY(this.p,2)&&y.Ji(this.SO,this.DO,this.bO,y.G(this.p))},S:function(y){y.m(this.SO),y.m(this.DO),y.m(this.bO)},D:function(y){this.SO=y.W(),this.DO=y.W(),this.bO=y.W()}});GR(FX,[],[null,"min","rate","burst","byId"],[]);var vR=FX,{E:sR,K:{Oy:{V:{gy:uR}}}}=U9K,UX=uR({X:B.Mr,zy:!1,jy:!1,Q:function(){this.Jy="",this.n=0,this.p=0},Ay:function(y,Y,j){return y.n=Y,y.Jy=j,y},Sy:function(){return[this.n,this.Jy]},H:function(y){this.p==0&&y.xb(this.n,this.Jy)},S:function(y){y.AY(this.Jy),y.m(this.n)},D:function(y){this.Jy=y.gY()?.substring(0,2),this.n=y.W()}});sR(UX,[],[null,"avatar","playerId","byId"],[]);var yx=UX,{E:Yx,K:{Oy:{V:{gy:jx}}}}=U9K,HY=jx({X:B.nr,zy:!1,jy:!1,Q:function(){this.X=0,this.B=!1,this.TX=null,this.PX=null,this.p=0},Ay:function(y,Y,j,O,p){return y.X=Y,y.B=j,y.TX=O,y.PX=p,y},Sy:function(){return[this.X,this.B,this.TX.slice(),this.PX.slice()]},H:function(y){this.p==0&&y.zb(this.B,this.X,this.TX,this.PX)},S:function(y){y.m(this.X),y.g(this.B?1:0);var Y=y._,j=0,O=1;y.My(0),this.TX.forEach(p=>{p!=null&&(j|=O,y.Rx(p)),O<<=1}),this.PX.forEach(p=>{p!=null&&(j|=O,y.m(p)),O<<=1}),O=y._,y._=Y,y.My(j),y._=O},D:function(y){this.X=y.W(),this.B=y.q()!=0;var Y=y.By(),j;for(this.TX=[],j=0;j<10;j++)this.TX[j]=null,Y&1&&(this.TX[j]=y.px()),Y>>>=1;for(this.PX=[],j=0;j<3;j++)this.PX[j]=null,Y&1&&(this.PX[j]=y.W()),Y>>>=1}});HY.Pj=function(y,Y,j){var O=[j.x,j.y,j.xspeed,j.yspeed,j.xgravity,j.ygravity,j.radius,j.bCoeff,j.invMass,j.damping];O.forEach((x,l)=>{x!=null&&(O[l]=Math.fround(x))});var p=[j.color,j.cMask,j.cGroup];return p.forEach((x,l)=>{x!=null&&(p[l]=x|0)}),HY.j(y,Y,O,p)};Yx(HY,[],[null,"id","type","data1","data2","byId"],[]);var Xx=HY,{E:px,K:{Oy:{V:{gy:Ox}}}}=U9K,MX=Ox({X:B.Nr,zy:!1,jy:!1,Q:function(){this.B=0,this.Ry=null,this.p=0},Ay:function(y,Y,j){return y.B=Y,y.Ry=j,y},Sy:function(){return[this.B,JSON.parse(JSON.stringify(this.Ry))]},H:function(y){y.lb(this.B,this.Ry,this.p)},S:function(y){y.ey(this.B),y.fY(JSON.stringify(this.Ry))},D:function(y){this.B=y.ry(),this.Ry=JSON.parse(y.ZY())}});px(MX,[],[null,"type","data","byId"],[]);var Rx=MX,{E:xx,K:{Oy:{V:{gy:zx},zO:{lO:lx,$R:rx}}}}=U9K,nX=zx({X:B.Vr,zy:!1,jy:!1,Q:function(){this.B=0,this.Ry=null,this.p=0},Ay:function(y,Y,j){return y.B=Y,y.Ry=j,y},Sy:function(){var y=new Uint8Array;return y.set(this.Ry),[this.B,y]},H:function(y){y.rb(this.B,this.Ry,this.p)},S:function(y){var Y=lx.j();Y.ey(this.B),Y.sy(this.Ry);var j=U9K.Ny.deflateRaw(Y.my());y.ey(j.byteLength),y.sy(j)},D:function(y){var Y=U9K.Ny.inflateRaw(y.Uy(y.ry()));y=new rx(new DataView(Y.buffer,Y.byteOffset,Y.byteLength)),this.B=y.ry(),this.Ry=y.Uy()}});xx(nX,[],[null,"type","data","byId"],[]);var ix=nX,{E:hx,K:{Oy:{V:{gy:_x}}}}=U9K,NX=_x({X:B.Br,zy:!1,jy:!1,Q:function(){this.X=0,this.Ry=null,this.p=0},Ay:function(y,Y,j){return y.X=Y,y.Ry=j,y},Sy:function(){return[this.X,JSON.parse(JSON.stringify(this.Ry))]},H:function(y){this.p==0&&y._l(this.X,this.Ry,this.p)},S:function(y){y.ey(this.X),y.fY(JSON.stringify(this.Ry))},D:function(y){this.X=y.ry(),this.Ry=JSON.parse(y.ZY())}});hx(NX,[],[null,"id","data","byId"],[]);var gx=NX,VX=jY(function(y){y.bL=y.ib||(y.ib={zX:EO,xX:FO,RX:nO,Zi:KO,fi:vO,Li:yR,di:pR,ei:xR,ki:rR,$i:_R,qi:SR,Ci:JR,Ti:eR,Pi:qR,ci:PR,oi:HR,Hi:wR,ti:mR,Wi:UR,wi:NR,Ii:KR,Ei:vR,mi:yx,Qi:Xx,Fi:Rx,Ui:ix,Mi:gx})}),Ax=jY(function(y){y.bL=y.hb||(y.hb={_b:(Y,{x:j,y:O},p)=>Y.l?.A.k.findIndex(x=>{var l=x.h.x-j,_=x.h.y-O;return l*l+_*_<=p*p}),gb:(Y,{x:j,y:O},p)=>Y.l?.A.t.findIndex(x=>{var l,_,r,D,S,b,f;if(0*x.wy==0){if(_=j-x.fO.x,r=O-x.fO.y,(x._p.x*_+x._p.y*r>0&&x.gp.x*_+x.gp.y*r>0)==x.wy<=0)return!1;l=Math.sqrt(_*_+r*r)-x.QR}else{if(D=x.v.h,S=x.s.h,_=S.x-D.x,r=S.y-D.y,b=j-S.x,f=O-S.y,(j-D.x)*_+(O-D.y)*r<=0||b*_+f*r>=0)return!1;l=x.qy.x*b+x.qy.y*f}return Math.abs(l)<p}),Ab:(Y,{x:j,y:O},p)=>Y.e.ty.findIndex(x=>{var l=x.iY,_=x.rY,r=_.x-l.x,D=_.y-l.y,S=j-_.x,b=O-_.y;if((j-l.x)*r+(O-l.y)*D<=0||S*r+b*D>=0)return!1;var f=Math.sqrt(D*D+r*r);return Math.abs(S*D/f-b*r/f)<p}),Sb:(Y,{x:j,y:O},p)=>Y.l?.A.M.findIndex(x=>Math.abs(x.xy-(x.qy.x*j+x.qy.y*O))<p),Db:(Y,{x:j,y:O},p)=>{var x=Y.l?.A;if(!x)return-1;var l=x.Z;return x._y.findIndex(_=>{var r=l[_.ay];if(!r)return!1;var D=l[_.vy];if(!D)return!1;var S=r.h,b=D.h,f=b.x-S.x,e=b.y-S.y,L=j-b.x,k=O-b.y;if((j-S.x)*f+(O-S.y)*e<=0||L*f+k*e>=0)return!1;var c=Math.sqrt(e*e+f*f);return Math.abs(L*e/c-k*f/c)<p})},bb:(Y,{x:j,y:O})=>Y.l?.A.Z.findIndex(p=>{var x=p.h.x-j,l=p.h.y-O;return x*x+l*l<=p.I*p.I}),Jb:(Y,{x:j,y:O},p)=>{p||(p=Y.l?.e.aY.I);var x=p*p,l=Y.l?.e.jY.findIndex(_=>{var r=_.x-j,D=_.y-O;return r*r+D*D<=x});return l>=0?[l,1]:(l=Y.l?.e.XY.findIndex(_=>{var r=_.x-j,D=_.y-O;return r*r+D*D<=x}),l>=0?[l,2]:[-1,-1])}})}),Sx=jY(function(y){var Y=[];function j(p,x){Y.push({L:p})}function O(p){var x=Y.findIndex(l=>l.L==p);x<0||Y.splice(x,1)}j("PlayerObjectCreated"),j("PlayerDiscCreated"),j("PlayerDiscDestroyed"),j("RoomLink"),j("PlayerBallKick"),j("TeamGoal"),j("GameEnd"),j("GameTick"),j("PlayerSyncChange"),j("Announcement"),j("KickOff"),j("AutoTeams"),j("ScoreLimitChange"),j("TimeLimitChange"),j("PlayerAdminChange"),j("PlayerAvatarChange"),j("PlayerHeadlessAvatarChange"),j("PlayersOrderChange"),j("PlayerTeamChange"),j("StadiumChange"),j("TeamColorsChange"),j("TeamsLockChange"),j("PlayerJoin"),j("GamePauseChange"),j("PlayerChat"),j("PlayerInputChange"),j("PlayerChatIndicatorChange"),j("PlayerLeave"),j("SetDiscProperties"),j("KickRateLimitChange"),j("GameStart"),j("GameStop"),j("PingData"),j("PingChange"),j("CollisionDiscVsDisc"),j("CollisionDiscVsSegment"),j("CollisionDiscVsPlane"),j("CollisionDiscVsVertex"),j("ModifyJoint"),j("TimeIsUp"),j("PositionsReset"),j("BansClear"),j("BanClear"),j("HandicapChange"),j("RoomRecaptchaModeChange"),j("RoomTokenChange"),j("RoomRecordingChange"),j("RoomPropertiesChange"),j("CustomEvent"),j("BinaryCustomEvent"),j("IdentityEvent"),j("PluginActiveChange"),j("ConfigUpdate"),j("RendererUpdate"),j("PluginUpdate"),j("LibraryUpdate"),j("LanguageChange"),U9K.JO||j("VariableValueChange"),y.bL=y.c5||(y.c5={c5:Y,Zb:j,fb:O})}),Dx=jY(function(y){var{Zi:Y,fi:j,RX:O,Li:p,di:x,ei:l,xX:_,ki:r,$i:D,qi:S,Ci:b,Ti:f,Pi:e,ci:L,oi:k,Hi:c,ti:i,zX:A,Wi:J,wi:T,Ii:I,Ei:U,mi:Z,Qi:W,Fi:Q,Ui:gy,Mi:t}=VX;y.bL=y.Lb||(y.Lb={create:C=>U9K.K.Oy.V.sO(C),createFromStream:C=>U9K.K.Oy.V.bx(C,!0),checkConsistency:C=>O.j(C),sendAnnouncement:(C,w=-1,G=0,jy=1)=>Y.j(C,w,G,jy),sendChatIndicator:C=>j.j(C?0:1),sendInput:C=>p.j(C),sendChat:C=>x.j(C),joinRoom:(C,w,G,jy,Xy,zy)=>l.j(C,w,G,jy,Xy,zy),setHeadlessAvatar:(C,w)=>Z.j(C,w),kickBanPlayer:(C,w,G)=>_.j(C,w,G),reorderPlayers:(C,w)=>I.j(C,w),startGame:()=>r.j(),stopGame:()=>D.j(),pauseResumeGame:C=>S.j(C),setScoreLimit:C=>b.j(0,C),setTimeLimit:C=>b.j(1,C),setStadium:C=>f.j(C),setPlayerTeam:(C,w)=>{var G=Oy.p[w];if(G)return e.j(C,G)},setTeamsLock:C=>L.j(C),setPlayerAdmin:(C,w)=>k.j(C,w),autoTeams:()=>c.j(),setPlayerSync:C=>i.j(C),ping:C=>{var w=new A;return w.Lj=C,w},setAvatar:C=>J.j(C),setTeamColors:(C,w)=>{var G=Oy.p[C];if(G)return T.j(G,w)},setKickRateLimit:(C,w,G)=>U.j(C,w,G),setDiscProperties:(C,w)=>W.Pj(C,!1,w),setPlayerDiscProperties:(C,w)=>W.Pj(C,!0,w),customEvent:(C,w)=>Q.j(C,w),binaryCustomEvent:(C,w)=>gy.j(C,w),setPlayerIdentity:(C,w)=>t.j(C,w)})});function XY(y,Y=null){this.L=y,this.$y=null,this.defineMetadata(Y)}XY.prototype.defineMetadata=function(y){};XY.prototype.defineVariable=function(y){var Y=this,j=y.name,O=y.value;U9K.JO?Y[j]=O:Object.defineProperty(Y,j,{get:()=>O,set:p=>{var x=O;p!=x&&(O=p,Y.$y?._onVariableValueChange?.(Y,j,x,O))}})};XY.prototype.setVariableGUIProps=function(y,...Y){};XY.addonType=B.ul;U9K.E(XY,[],["name","room"],[]);var bx=XY;function pY(y=null){this.$y=null,this.defineMetadata(y)}pY.prototype.defineMetadata=function(y){};pY.prototype.defineVariable=function(y){var Y=this,j=y.name,O=y.value;U9K.JO?Y[j]=O:Object.defineProperty(Y,j,{get:()=>O,set:p=>{var x=O;p!=x&&(O=p,Y.$y?._onVariableValueChange?.(Y,j,x,O))}})};pY.prototype.setVariableGUIProps=function(y,...Y){};pY.addonType=B.al;U9K.E(pY,[],["room"],[]);var Jx=pY;function OY(y,Y=!1,j=null){this.L=y,this.$y=null,this.defineMetadata(j),this.defineVariable({name:"active",description:"Whether this plugin is active or not.",type:B.Kr,value:Y})}OY.prototype.defineMetadata=function(y){};OY.prototype.defineVariable=function(y){var Y=this,j=y.name,O=y.value;U9K.JO?Y[j]=O:Object.defineProperty(Y,j,{get:()=>O,set:p=>{var x=O;p!=x&&(O=p,Y.$y?._onVariableValueChange?.(Y,j,x,O))}})};OY.prototype.setVariableGUIProps=function(y,...Y){};OY.addonType=B.vl;U9K.E(OY,[],["name","room"],[]);var Zx=OY;function RY(y=null){this.$y=null,this.defineMetadata(y)}RY.prototype.defineMetadata=function(y){};RY.prototype.defineVariable=function(y){var Y=this,j=y.name,O=y.value;U9K.JO?Y[j]=O:Object.defineProperty(Y,j,{get:()=>O,set:p=>{var x=O;p!=x&&(O=p,Y.$y?._onVariableValueChange?.(Y,j,x,O))}})};RY.prototype.setVariableGUIProps=function(y,...Y){};RY.addonType=B.sl;U9K.E(RY,[],["room"],[]);var fx=RY,Lx=function(){var{OY:y,WX:Y,Rz:j,hY:O,Ny:p,E:x,K:l}=U9K;let{kX:{Vy:_},qR:{tp:r,cp:D,UO:S,MO:b,FO:f,jj:e},Oy:{zO:{lO:L,$R:k},V:{Jx:c},wx:i,Zx:A,i5:J,Wx:T,g5:I,A5:U}}=l;var Z=B,W=Oy,Q=hX,{HX:gy,kO:t,$O:C,qO:w,ur:G,CO:jy,TO:Xy}=tY,zy=kO,m=oY,Ry=tO;let{ED:ky,Op:Ly,mD:Dy,QD:Cy,FD:dy,P5:yy,iO:Ty,UD:Ay}=WO;var{Zi:N,fi:xy,RX:s,Li:V,di:K,ei:ry,xX:iy,ki:qy,$i:cy,qi:Hy,Ci:Qy,Ti:SY,Pi:ty,ci:IY,oi:EY,Hi:mY,ti:QY,zX:yp,Wi:DY,wi:FY,Ii:Jj,Ei:UY,mi:Zj,Qi:MY,Fi:nY,Ui:NY,Mi:VY}=VX,{_b:fj,gb:Lj,Ab:dj,Sb:ej,Db:kj,bb:$j,Jb:Yp}=Ax,{c5:jp,Zb:Xp,fb:pp}=Sx;function qj(X){this.HR=0,this.db=X}qj.prototype={Fy:function(){var X=this.db.iO;!this.tR||this.HR==X||(this.HR=X,this.tR(V.j(X)))},o5:function(){!this.tR||this.HR==0||(this.HR=0,this.tR(V.j(0)))}};let Cj={lat:40,lon:40,flag:"tr"};this.jp=J(this,{Q:function(X,R){if(this.uY=X?.uY,this.cX=X?.cX||[],this.fj=X?.fj||[],this.Y=X?.Y||{},this.ni=null,this.iO=0,this.Ni=!1,this.dX=null,this.Ly=new qj(this),this.OO=null,this.Vi=!1,this.sp=new Set,this.NY=X?.NY||9,this.OY=X?.OY,this.WX=X?.WX,this.ZO=X?.ZO,this.H5=X?.H5,this.EX=X?.EX,this.nY=X?.nY,this.eR=X?.eR,!!X){var z=this;Object.assign(R.O,{WR:h=>z._onPlayerInputChange?.(h.X,h.Ly),e5:h=>z._onPlayerBallKick?.(h?.X),$5:(h,g,d,$,H)=>z._onTeamGoal?.(h?.X,g,d,$,H),T5:h=>z._onGameEnd?.(h.X),t5:h=>z._onGameStart?.(h?.X),d5:()=>z._onGameTick?.(),k5:()=>z._onKickOff?.(),UR:(h,g,d,$)=>z._onCollisionDiscVsDisc?.(h,g.n,d,$.n),MR:(h,g,d)=>z._onCollisionDiscVsPlane?.(h,g.n,d),nR:(h,g,d)=>z._onCollisionDiscVsSegment?.(h,g.n,d),NR:(h,g,d,$)=>z._onCollisionDiscVsVertex?.(h,g.n,d,$),dO:(h,g,d)=>z._onModifyJoint?.(h,g,d),wR:(h,g,d,$,H)=>z._onAutoTeams?.(h,g,d,$,H),W5:(h,g)=>z._onTimeLimitChange?.(h,g),w5:(h,g)=>z._onScoreLimitChange?.(h,g),L5:h=>z._onPlayerDiscCreated?.(h),xp:h=>z._onPlayerDiscDestroyed?.(h),I5:(h,g)=>z._onPlayerAvatarChange?.(h,g),E5:(h,g)=>z._onPlayerHeadlessAvatarChange?.(h,g),m5:(h,g)=>z._onPlayersOrderChange?.(h,g),IR:(h,g,d)=>z._onPlayerTeamChange?.(h,g,d),Q5:(h,g,d)=>z._onTeamColorsChange?.(h,g,d),F5:(h,g)=>z._onTeamsLockChange?.(h,g),U5:(h,g,d)=>z._onCustomEvent?.(h,g,d),M5:(h,g,d)=>z._onBinaryCustomEvent?.(h,g,d),Ex:(h,g,d)=>z._onIdentityEvent?.(h,g,d||0),n5:(h,g,d,$)=>z._onSetDiscProperties?.(h,g,d,$),Ix:h=>z._onPingData?.(h),og:()=>z.hostPing||0,o5:()=>z.Ly.o5(),Px:h=>z._onHandicapChange?.(h),q5:()=>z._onTimeIsUp?.(),C5:()=>z._onPositionsReset?.(),N5:(h,g)=>z._onPlayerChat?.(h.X,g),V5:(h,g,d,$)=>z._onAnnouncement?.(h,g,d,$),cR:h=>z._onGameStop?.(h?.X),B5:(h,g)=>z._onStadiumChange?.(g,h?.X),K5:h=>z._onPlayerSyncChange?.(h?.X,h?.Oj),G5:(h,g)=>z._onPlayerAdminChange?.(g?.X,g?.oY,h?.X),a5:(h,g,d,$)=>z._onKickRateLimitChange?.(g,d,$,h?.X),v5:(h,g)=>z._onPlayerChatIndicatorChange?.(h?.X,!g),Al:h=>{h!=z.Vi&&(z.Vi=h,z.C(QY.j(h)))},s5:(h,g)=>{z._onGamePauseChange?.(g,h?.X)},Up:h=>{z._onPlayerJoin?.(h),z._onPlayerObjectCreated?.(h)},_X:(h,g,d,$)=>{h.U&&z._onPlayerDiscDestroyed?.(h),z.RO?.(h.X),g!=null&&z.Hg?.(h,g,$?.L,d),z._onPlayerLeave?.(h,g,d,$?.X),z.sp.delete(h.X)},nD:(h,g,d)=>{var $;z.Hy?($=R.O.G(h),$&&d==1&&($.eX=!0,z.sp.add($.X))):d==0&&(z.sp.add(h),$=R.O.G(h),$&&($.eX=!0),R.eb=!0,$=R.O.G(g),$&&($.eX=!0),z.sp.add(g),R.kj(xy.j(1,g,1),0,!0,!1))}}),this.Ly.tR=h=>z.C(h),Object.defineProperties(this,{sdp:{get:()=>z.Hy?null:R.py.fy.remoteDescription.sdp},currentPlayerId:{get:()=>R.ej},currentPlayer:{get:()=>R.O.G(R.ej)},state:{get:()=>R.O},stateExt:{get:()=>R.O?.u},gameState:{get:()=>R.O?.l},gameStateExt:{get:()=>R.O?.l?.u},currentFrameNo:{get:()=>R.f},banList:{get:()=>R.Yy?.tY?.Z_()},token:{get:()=>R.Yy?.CY,set:h=>{var g=R.Yy;g&&(g.CY=h,g.Kp(),z.OO=null,O(()=>{g._R(),z._onRoomTokenChange?.(g.CY)},2e4))}},requireRecaptcha:{get:()=>R.Yy?.Bx,set:h=>R.Yy?.vx(h)},name:{get:()=>R.O.L},password:{get:()=>R.PY},geo:{get:()=>R.Tj},maxPlayerCount:{get:()=>R.JX==null?null:R.JX+(R.Xp?0:1)},fakePassword:{get:()=>R.yp},fixedPlayerCount:{get:()=>R.ap},showInRoomList:{get:()=>R.AR},unlimitedPlayerCount:{get:()=>R.uX},link:{get:()=>Dy(z.OO,R.PY!=null)},timeLimit:{get:()=>R.O.Py},scoreLimit:{get:()=>R.O.Wy},redScore:{get:()=>{var h=R.O?.l;return(h?.u||h)?.EY}},blueScore:{get:()=>{var h=R.O?.l;return(h?.u||h)?.IY}},timeElapsed:{get:()=>{var h=R.O?.l;return(h?.u||h)?.Dj}},stadium:{get:()=>R.O.e},players:{get:()=>R.O.o}})}},fg:function(X){var R=X.storage||{},z={};return z.up=R.crappy_router||!1,z.Vl=R.player_name||"abc",z.Jy=R.avatar||null,z.Tj=r(R.geo||Cj,Cj),{NY:X.version==null?j:X.version,OY:X.proxyAgent||y,WX:X.identityToken||Y,ZO:X.noPluginMechanism,uY:X.renderer,Y:X.config||{},cX:X.libraries||[],fj:X.plugins||[],H5:X.preInit,EX:X.onOpen,nY:X.onClose,eR:X.onConnInfo,pO:z}},Lg:function(X){var{WX:R}=X;if(R){if(!U9K.qY){U9K.GR(zy.jx(Z.Jr)||"NoProxyIdentityProblem");var z=zy.jx(Z.Zr);z&&U9K.GR(z);return}return[R]}},eg:function(X){var R=L.j();return R.fY(X.Vl),R.fY(X.Tj.flag),R.AY(X.Jy),R.wO()},kg:function(X){zy.yi(X);var R=X._onPlayerObjectCreated;R&&X.R.O.o.forEach(R),R=X._onPlayerDiscCreated,R&&X.R.O.o.filter(z=>z.U!=null).forEach(R)},dg:function(X,R){zy.Yi(X)},$g:async function(X,R,z,h,g){var d=z.ZY();if(d.length>25)return _(Z.rr,h,g,d);var $=z.ZY();if($.length>3)return _(Z.ir,h,g,d,$);var H=z.gY();if(H?.length>2)return _(Z.hr,h,g,d,$,H);var F=X._modifyPlayerData;if(F){var a=await F(R,d,$,H,h,g);if(!a)return _(Z._r,h,g,d,$,H);[d,$,H]=a}var hy=ry.j(R,d,$,H,h,g);if(!X.C(hy))return _(Z.gr,hy);X.R.x5(xy.j(0,R,0),R,!0)},qg:function(X){X._onRoomLink?.(Dy(X.OO,X.R.PY!=null))},Cg:function(X,R){zy.Yi(X)},Tg:function(X){zy.yi(X);var R=X._onPlayerObjectCreated;R&&X.R.O.o.forEach(R),R=X._onPlayerDiscCreated,R&&X.R.O.o.filter(z=>z.U!=null).forEach(R)},Pg:function(){this.Ly.Fy()},cg:function(){this.ZO||this.uY?.render?.()}}),Object.assign(this.jp.prototype,{C:function(X,R){if(this.u5(X,void 0,R)!=!1)return this.R.kj(X),!0},Bi:function(X,R){if(R==null){this.C(X);return}if(this.u5(X,R)!=!1){var z=this;Promise.resolve().then(()=>{z.R.x5(X,R)})}},yz:function(X,R){if(!(R!=null&&!this.R.O.G(R)?.eX)&&this.u5(X,R)!=!1)if(this.Hy)if(R!=null){var z=this;Promise.resolve().then(()=>{z.R.x5(X,R)})}else this.R.tl(X,0,!0);else this.R.eb&&this.R.kj(X)},i9:function(){this.R.dj.uy.length=0},Ji:function(X,R,z){this.C(UY.j(X,R,z))},Ki:function(X,R){R&&this.C(ty.j(X,R))},jg:function(X,R){return X.__proto__.FX==SY&&X.e.Z.length==0?!1:this.Gi(X,this.R.f,R)?X.__proto__.FX==nY||X.__proto__.FX==NY||X.__proto__.FX==VY?(this.R.tl(X,X.p,!0),!1):!0:!1},setProperties:function(X){if(!(!this.Hy||!X)){var R={};if(X.hasOwnProperty("name")&&(R.name=this.R.O.L=X.name||""),X.hasOwnProperty("password")&&(R.password=this.R.PY=X.password),X.hasOwnProperty("fakePassword")&&(R.fakePassword=this.R.yp=X.fakePassword),X.hasOwnProperty("geo")){R.geo=X.geo;var z=r(X.geo,this.R.Tj,!1);this.R.Xp||(this.R.O.G(0).ky=z.flag)}X.hasOwnProperty("unlimitedPlayerCount")&&(R.unlimitedPlayerCount=this.R.uX=!!X.unlimitedPlayerCount),X.hasOwnProperty("showInRoomList")&&(R.showInRoomList=this.R.AR=!!X.showInRoomList),X.hasOwnProperty("playerCount")&&(R.playerCount=this.R.ap=X.playerCount),X.hasOwnProperty("maxPlayerCount")&&(R.maxPlayerCount=this.R.JX=X.maxPlayerCount==null?null:X.maxPlayerCount-(this.R.Xp?0:1)),this.RO?.(),this._onRoomPropertiesChange?.(R)}},sendCustomEvent:function(X,R,z){this.yz(nY.j(X,R),z)},sendBinaryCustomEvent:function(X,R,z){this.yz(NY.j(X,R),z)},setPlayerIdentity:function(X,R,z){this.yz(VY.j(X,R),z)},setHandicap:function(X){this.R.Y_(X)},clearBan:function(X){this.Hy&&this.R.m_(X)},clearBans:function(){this.Hy&&this.R.E_()},addPlayerBan:function(X){if(this.Hy){var R=this.R.O.o.filter(z=>z.X==X)[0];if(R)return this.R.Q_(R)}},addIpBan:function(...X){if(this.Hy)return this.R.F_(...X)},addAuthBan:function(...X){if(this.Hy)return this.R.U_(...X)},removeBan:function(X){if(this.Hy)return this.R.M_(X)},sendChat:function(X,R){if(this.Hy){this.Bi(K.j(X),R);return}this.C(K.j(X))},sendChatIndicator:function(X){this.Ni!=X&&(this.C(xy.j(X?0:1)),this.Ni=X)},sendAnnouncement:function(X,R,z=-1,h="",g=1){this.Hy&&this.Bi(N.j(X,z,{bold:1,italic:2,small:3,"small-bold":4,"small-italic":5}[h]||0,g),R)},setDiscProperties:function(X,R){this.Hy&&this.C(MY.Pj(X,!1,R))},setPlayerDiscProperties:function(X,R){this.Hy&&this.C(MY.Pj(X,!0,R))},getKeyState:function(){return this.iO},setKeyState:function(X,R=!0){this.iO=X,R&&this.Ly.Fy()},extrapolate:function(X,R=!1){return R?this.R.zj(X):this.R.Tx||this.R.zj(X)},startGame:function(){this.C(qy.j())},stopGame:function(){this.C(cy.j())},pauseGame:function(){this.R.O.l&&this.C(Hy.j(this.R.O.l.xY!=120))},autoTeams:function(){this.C(mY.j())},lockTeams:function(){this.C(IY.j(!this.R.O?.wj))},isGamePaused:function(){return this.R.O?.l?.xY==120},resetTeams:function(){this.ai(X=>X.c.X!=0)},startRecording:function(){return this.dX!=null?!1:(this.dX=new oj(this.R),this._onRoomRecordingChange?.(!0),!0)},stopRecording:function(){if(this.dX==null)return null;var X=this.dX.lX();return this.dX=null,this._onRoomRecordingChange?.(X),X},isRecording:function(){return this.dX!=null},randTeams:function(){var X=[],R=0,z=0;function h(){return X.splice(Math.random()*X.length|0,1)[0]}if(this.R.O.o.forEach(g=>{g.c==W.Ty?R++:g.c==W.yY?z++:X.push(g.X)}),X.length!=0){if(X.length==1){this.C(ty.j(h(),Math.random()<.5?W.Ty:W.yY));return}if(z==R){this.C(ty.j(h(),W.Ty)),this.C(ty.j(h(),W.yY));return}this.C(ty.j(h(),z>R?W.Ty:W.yY))}},setSync:function(X){this.R.O.Al(X)},leave:function(){this.nl()},setCurrentStadium:function(X){this.C(SY.j(X))},setTimeLimit:function(X){this.C(Qy.j(1,X))},setScoreLimit:function(X){this.C(Qy.j(0,X))},changeTeam:function(X){this.Ki(this.R.ej,W.p[X])},resetTeam:function(X){this.ai(R=>R.c.X==X)},setPlayerTeam:function(X,R){this.Ki(X,W.p[R])},setPlayerAdmin:function(X,R){this.C(EY.j(X,R))},kickPlayer:function(X,R,z){this.C(iy.j(X,R||"",z))},setAvatar:function(X){this.C(DY.j(X?.substr(0,2)||""))},setPlayerAvatar:function(X,R,z){!this.Hy&&(z||X!=this.R.ej)||this.C(z?Zj.j(X,R):DY.j(R),z?0:X)},reorderPlayers:function(X,R){this.C(Jj.j(X,R))},setChatIndicatorActive:function(X){this.C(xy.j(X?0:1))},setTeamColors:function(X,R,...z){var h=W.p[X];if(!h)throw _(Z.CR);this.C(FY.j(h,Q.Pj(h,R,...z)))},setUnlimitedPlayerCount:function(X){this.Hy&&(this.R.uX=X)},setFakePassword:function(X){this.Hy&&(this.R.yp=X,this.RO?.())},getPlayer:function(X){return this.R.O.G(X)},getBall:function(X=!1){var R=this.R.O?.l;return(X&&R?.u||R)?.A.Z[0]},getDiscs:function(X=!1){var R=this.R.O?.l;return(X&&R?.u||R)?.A.Z},getDisc:function(X,R=!1){var z=this.R.O?.l;return(R&&z?.u||z)?.A.Z[X]},getPlayerDisc:function(X,R=!1){var z=this.R.O?.l,h=(R&&z?.u||z)?.A.Z,g=this.R.O?.e.Z;if(!(!h||!g)){for(var d=g.length;d<h.length;d++)if(h[d].n==X)return h[d]}},getPlayerDisc_exp:function(X){return this.R.O?.G(X)?.U},fakePlayerJoin:function(X,R,z,h,g,d){this.C(ry.j(X,R,z,h,g,d))},fakePlayerLeave:function(X){var R=this.R.O.G(X);if(R)return this.C(iy.j(X,null,!0)),{id:R.X,name:R.L,flag:R.ky,avatar:R.Jy,conn:R.Qj,auth:R.Gy}},fakeSendPlayerInput:function(X,R){this.C(V.j(X),R)},fakeSendPlayerChat:function(X,R){this.C(K.j(X),R)},fakeSetPlayerChatIndicator:function(X,R){this.C(xy.j(X?0:1),R)},fakeSetPlayerAvatar:function(X,R){this.C(DY.j(X),R)},fakeSetStadium:function(X,R){this.C(SY.j(X),R)},fakeStartGame:function(X){this.C(qy.j(),X)},fakeStopGame:function(X){this.C(cy.j(),X)},fakeSetGamePaused:function(X,R){this.C(Hy.j(X),R)},fakeSetScoreLimit:function(X,R){this.C(Qy.j(0,X),R)},fakeSetTimeLimit:function(X,R){this.C(Qy.j(1,X),R)},fakeSetTeamsLock:function(X,R){this.C(IY.j(X),R)},fakeAutoTeams:function(X){this.C(mY.j(),X)},fakeSetPlayerTeam:function(X,R,z){var h=W.p[R];h&&this.C(ty.j(X,h),z)},fakeSetKickRateLimit:function(X,R,z,h){this.C(UY.j(X,R,z),h)},fakeSetTeamColors:function(X,R,z,h){var g=W.p[X];if(!g)throw _(Z.CR);this.C(FY.j(g,Q.Pj(g,R,...z)),h)},fakeSetPlayerAdmin:function(X,R,z){this.C(EY.j(X,R),z)},fakeKickPlayer:function(X,R,z,h){this.C(iy.j(X,R,z),h)},fakeSetPlayerSync:function(X,R){this.C(QY.j(X),R)},takeSnapshot:function(){return this.R.O?.copy()},exportStadium:function(){return this.R.O?.P5()},createVertex:function(X){return this.R.O?.vi(X)},createSegment:function(X){return this.R.O?.si(X)},createSegmentFromObj:function(X){return this.R.O?.kb(X)},createGoal:function(X){return this.R.O?.ui(X)},createPlane:function(X){return this.R.O?.yh(X)},createDisc:function(X){return this.R.O?.Yh(X)},createJoint:function(X){return this.R.O?.jh(X)},createJointFromObj:function(X){return this.R.O?.$b(X)},addVertex:function(X){return this.R.O?.qb(X)},addSegment:function(X){return this.R.O?.Cb(X)},addGoal:function(X){return this.R.O?.Tb(X)},addPlane:function(X){return this.R.O?.Pb(X)},addDisc:function(X){return this.R.O?.Ap(X)},addJoint:function(X){return this.R.O?.cb(X)},addSpawnPoint:function(X){return this.R.O?.ob(X)},addPlayer:function(X){return this.R.O?.RR(X)},findVertexIndicesOfSegmentObj:function(X){return this.R.O?.b5(X)},findVertexIndicesOfSegment:function(X){return this.R.O?.Hb(X)},updateVertex:function(X,R){return this.R.O?.tb(X,R)},updateSegment:function(X,R){return this.R.O?.Wb(X,R)},updateGoal:function(X,R){return this.R.O?.wb(X,R)},updatePlane:function(X,R){return this.R.O?.Ib(X,R)},updateDisc:function(X,R){return this.R.O?.Eb(X,R)},updateDiscObj:function(X,R){return this.R.O?.ER(X,R)},updateJoint:function(X,R){return this.R.O?.mb(X,R)},updateSpawnPoint:function(X,R,z){return this.R.O?.Qb(X,R,z)},updatePlayer:function(X,R){return this.R.O?.Fb(X,R)},removeVertex:function(X){return this.R.O?.Ub(X)},removeSegment:function(X){return this.R.O?.Mb(X)},removeGoal:function(X){return this.R.O?.nb(X)},removePlane:function(X){return this.R.O?.Nb(X)},removeDisc:function(X){return this.R.O?.eO(X)},removeJoint:function(X){return this.R.O?.Vb(X)},removeSpawnPoint:function(X,R){return this.R.O?.Bb(X,R)},removePlayer:function(X){return this.R.O?.Fx(X)},updateStadiumPlayerPhysics:function(X){return this.R.O?.Kb(X)},updateStadiumBg:function(X){return this.R.O?.Gb(X)},updateStadiumGeneral:function(X){return this.R.O?.ab(X)},ai:function(X,R=W.bY){var z=this;this.R.O.o.slice().forEach(h=>{X(h)&&z.C(ty.j(h.X,R))})},Gi:function(X,R,z){var h=this._onOperationReceived;if(!h)return!0;var g=X.eventType;return g==null?!0:h(g,X,R,z)},u5:function(X,R,z){if(this.Hy)return X.p=z||0,X.uO=R,this.Gi(X,this.R.f,null)},Nl:function(){var X=null,R=this.uY,z=this.Y,h=this;if(!this.ZO){let F=function(o,E,n){for(var v=0,Yy=0;v<o.length&&Yy<E.length;){for(;v<o.length&&Yy<E.length&&o[v]==E[Yy]&&o[v]!=n;)v++,Yy++;if(o[v]==n)break;for(;v<o.length&&Yy<E.length&&o[v]!=E[Yy]&&o[v]!=n;)v++;if(o[v]==n)break}E[Yy]!=n&&E.splice(Yy,0,n)},a=function(o){Object.defineProperty(h,o,{get(){return z[o]},set(E){z[o]=E}})},hy=function(o){a(o+"Before"),a(o),a(o+"After")};var d=F,$=a,H=hy;this.librariesMap=this.cX.reduce((o,E)=>(o[E.L]=E,o),{}),this.pluginsMap=this.fj.reduce((o,E)=>(o[E.L]=E,o),{}),this.ni=X=this.fj.filter(o=>o.active),this.setConfig=function(o){var E=z;E.finalize?.(),E.$y=null,o=o||{},o.$y=h,o.initialize?.(),z=h.Y=o,h._onConfigUpdate?.(E,o)},this.mixConfig=function(o){Object.keys(o).forEach(E=>{var n=o[E];if(typeof n=="function"){var v=z[E];v?typeof v=="function"&&(z[E]=function(...Yy){v(...Yy),n(...Yy)}):z[E]=n}})},this.setRenderer=function(o){var E=R;E&&(E.finalize?.(),E.$y=null),o&&(o.$y=h,o.initialize?.()),R=h.uY=o,h._onRendererUpdate?.(E,o)},this.setPluginActive=function(o,E){var n=h.fj.filter(Yy=>Yy.L==o)[0],v;if(!(!n||n.active==E))if(E){if(v=X.findIndex(Yy=>Yy.L==o),v>=0)return;F(h.fj,X,n),n.active=E,h._onPluginActiveChange?.(n)}else{if(v=X.findIndex(Yy=>Yy.L==o),v<0)return;n.active=E,h._onPluginActiveChange?.(n),X.splice(v,1)}},this._modifyPlayerData=async(o,E,n,v,Yy,Py)=>{var u=[E,n,v],By,xY;if(z.modifyPlayerDataBefore&&(xY=z.modifyPlayerDataBefore(o,u[0],u[1],u[2],Yy,Py),xY instanceof Promise&&(xY=await xY),[u,By]=xY),By!==!1){for(var BY=0;BY<X.length;BY++){var Hj=X[BY];Hj.modifyPlayerData&&u&&(u=Hj.modifyPlayerData(o,u[0],u[1],u[2],Yy,Py,By),u instanceof Promise&&(u=await u))}z.modifyPlayerData&&u&&(u=z.modifyPlayerData(o,u[0],u[1],u[2],Yy,Py,By),u instanceof Promise&&(u=await u)),z.modifyPlayerDataAfter&&u&&(u=z.modifyPlayerDataAfter(o,u[0],u[1],u[2],Yy,Py,By),u instanceof Promise&&(u=await u))}return u},hy("modifyPlayerData"),this._modifyPlayerPing=function(o,E){var n;return z.modifyPlayerPingBefore&&([E,n]=z.modifyPlayerPingBefore(o,E)),n!==!1&&(X.forEach(v=>{v.modifyPlayerPing&&(E=v.modifyPlayerPing(o,E,n))}),z.modifyPlayerPing&&(E=z.modifyPlayerPing(o,E,n)),z.modifyPlayerPingAfter&&(E=z.modifyPlayerPingAfter(o,E,n))),E},hy("modifyPlayerPing"),this._modifyClientPing=function(o){var E;return z.modifyClientPingBefore&&([o,E]=z.modifyClientPingBefore(o)),E!==!1&&(X.forEach(n=>{n.modifyClientPing&&(o=n.modifyClientPing(o,E))}),z.modifyClientPing&&(o=z.modifyClientPing(o,E)),z.modifyClientPingAfter&&(o=z.modifyClientPingAfter(o,E))),o},hy("modifyClientPing"),this._onOperationReceived=function(o,E,n,v){var Yy=z.onBeforeOperationReceived?.(o,E,n,v),Py=Yy!==!1,u;return X.forEach(By=>{u=By.onOperationReceived,Py&&u&&!u(o,E,n,v,Yy)&&(Py=!1)}),u=z.onOperationReceived,Py&&u&&!u(o,E,n,v,Yy)&&(Py=!1),u=z.onAfterOperationReceived,Py&&u&&!u(o,E,n,v,Yy)&&(Py=!1),Py},a("onBeforeOperationReceived"),a("onOperationReceived"),a("onAfterOperationReceived");var g=function(o,E){h["_on"+o]=function(...n){var v=z["onBefore"+o]?.(...n);v!==!1&&(X.forEach(Yy=>{Yy["on"+o]?.(...n,v)}),z["on"+o]?.(...n,v),R?.["on"+o]?.(...n,v),z["onAfter"+o]?.(...n,v))},a("onBefore"+o),a("on"+o),a("onAfter"+o)};jp.forEach(({L:o,h9:E})=>{g(o,E)})}this.H5?.(this),this.ZO||(this.cX.forEach(F=>{F.$y=h,F.initialize?.()}),this.Y.$y=this,this.Y.initialize?.(),this.uY&&(this.uY.$y=this,this.uY.initialize?.()),this.fj.forEach(F=>{F.$y=h,F.initialize?.()}),this.ni.forEach(F=>{h._onPluginActiveChange?.(F)}))},Ml:function(X){this.fj?.forEach(R=>{R.finalize?.(),R.$y=null}),this.uY&&(this.uY.finalize?.(),this.uY.$y=null),this.Y.finalize?.(),this.Y.$y=null,this.cX?.forEach(R=>{R.finalize?.(),R.$y=null}),this.nY?.(X)},updatePlugin:function(X,R){var z=this.fj[X];if(!z)throw _(Z.Ar,X);var{L:h,active:g}=z;if(h!=R.L)throw _(Z.Sr);var d=this.setPluginActive;g&&d(h,!1),z.finalize?.(),z.$y=null,this.fj[X]=R,this.pluginsMap[h]=R,R.$y=this,R.initialize?.(),this._onPluginUpdate?.(z,R),g&&(R.active=!1,d(h,!0))},updateLibrary:function(X,R){var z=this.cX[X];if(!z)throw _(Z.Dr,X);var{L:h}=z;if(h!=R.L)throw _(Z.br);z.finalize?.(),z.$y=null,this.cX[X]=R,this.librariesMap[h]=R,R.$y=this,R.initialize?.(),this._onLibraryUpdate?.(z,R)},startStreaming:function({immediate:X=!0,onClientCount:R,emitData:z}){if(!(!this.Hy||this.isRecording()||this.R.VY)){var h=new Map,g=L.j(16384),d=0,$=this;return{onOpen:()=>{$.R.VY=function(H){if(X){g.g(2),g.ey($.R.f),g.My(H.p),c(H,g),z?.(g.my()),g._=0;return}var F=h.get($.R.f);F||(F=[],h.set($.R.f,F)),F.push(H)}},onDataReceived:H=>{H=new DataView(H.buffer,H.byteOffset,H.byteLength);var F=H.getUint8(0);switch(H=H.getUint16(1),F){case 0:{d=H,R?.(H);break}case 1:{var a=L.j();a.g(1),a.My(H);var hy=L.j();$.R.G_(hy),a.sy(p.deflateRaw(hy.my())),z?.(a.my());break}}},interval:()=>{for(var H=h.keys(),F=H.next(),a=$.R.f;!F.done;){var hy=F.value,o=h.get(hy);g.My(a-hy),g.My(o.length),o.forEach(Yy=>{g.My(Yy.p),c(Yy,g)}),F=H.next()}h.clear();var E=g.my();if(g._=0,d!=0){E=p.deflateRaw(E);var n=new Uint8Array(E.byteLength+5),v=new DataView(n.buffer,n.byteOffset,n.byteLength);v.setUint8(0,0),v.setUint32(1,a),n.set(E,5),z?.(n)}}}}},stopStreaming:function(){!this.Hy||this.isRecording()||!this.R.VY||(this.R.VY=null)}}),this.gX=A({Q:function(){this.c=W.bY,this.U=null,this.bj=0,this.Jj=0,this.GY=!1,this.Ly=0,this.ip=0,this.oX=null,this.Jy=null,this.QY=0,this.oY=!1,this.eX=!1},LY:function(X,R,z){X.oY=R.oY,X.QY=R.QY,X.Jy=R.Jy,X.oX=R.oX,X.ip=R.ip,X.Ly=R.Ly,X.GY=R.GY,X.Jj=R.Jj,X.bj=R.bj,X.U=R.U==null?null:R.U.dY(z),X.U&&(X.U.n=X.X),X.c=R.c}}),this.Rj=i(this,{Q:function(){this.l=null,this.e=m.D5()[0],this.Wj=2,this.Zj=0,this.jX=1,this.Py=3,this.Wy=3,this.wj=!1,this.yj=[null,new Q,new Q],this.yj[1].KY.push(W.Ty.b),this.yj[2].KY.push(W.yY.b)},LY:function(X,R,z){X.l=R.l?.dY(z),X.wj=R.wj,X.Wy=R.Wy,X.Py=R.Py,X.jX=R.jX,X.Zj=R.Zj,X.Wj=R.Wj,X.e=R.e,X.yj=R.yj},Qy:function(X){this.l?.Qy(X)},_X:function(X){this.l?.A.eO(X.U)},h_:function(X){X.g(this.wj?1:0),X.m(this.Wy),X.m(this.Py),X.Ox(this.jX),X.g(this.Zj),X.g(this.Wj),this.e.S(X),X.g(this.l?1:0),this.l?.S(X),X.g(this.o.length),this.o.forEach(R=>{X.g(R.oY?1:0),X.m(R.QY),X.AY(R.Jy),X.AY(R.oX),X.g(R.Oj?1:0),X.AY(R.ky),X.m(R.ip),X.AY(R.L),X.m(R.Ly),X.oy(R.X),X.g(R.GY?1:0),X.Ox(R.Jj),X.g(R.bj),X.g(R.c.X),X.Ox(R.U==null?-1:R.U.vr)}),this.yj[1].S(X),this.yj[2].S(X)},__:function(X){this.wj=X.q()!=0,this.Wy=X.W(),this.Py=X.W(),this.jX=X.Xx(),this.Zj=X.q(),this.Wj=X.q(),this.e=m.D(X),this.l=null,X.q()!=0&&(this.l=new Ry,this.l.D(X,this));for(var R=this.l?.A.Z,z=X.q();this.o.length>z;)this.o.pop();for(var h=0;h<z;h++){var g=new this.BX.gX;g.oY=X.q()!=0,g.QY=X.W(),g.Jy=X.gY(),g.oX=X.gY(),g.Oj=X.q()!=0,g.ky=X.gY(),g.ip=X.W(),g.L=X.gY(),g.Ly=X.W(),g.X=X.Ey(),g.GY=X.q()!=0,g.Jj=X.Xx(),g.bj=X.q(),g.c=W.p[X.kp()]||W.bY;var d=X.Xx();g.U=R?.[d],g.U&&(g.U.n=g.X),this.o[h]=g}this.yj[1].D(X),this.yj[2].D(X)}}),Object.assign(this.Rj.prototype,{KD:function(X){this.l==null&&(this.l=new Ry,this.o.forEach(R=>{R.U=null,R.QY=0}),this.l.tD(this),this.t5?.(X))},GD:function(X){var R=this;R.l&&(R.l=null,R.o.forEach(z=>{z.U&&R.xp?.(z),z.U=null,z.QY=0}),R.o5?.(),R.cR?.(X))},yb:function(X,R){this.wj=X,this.F5?.(X,R)},Ob:function(X,R,z){X!=W.bY.X&&(this.yj[X]=R,this.Q5?.(X,R,z))},uD:function(X,R){this.l==null&&(this.e=X,this.B5?.(this.G(R),X))},oR:function(X,R,z,h){if(!(!X||X.c==R)){if(X.c=R,D(this.o,X),this.o.push(X),!this.l){h||this.IR?.(X.X,R.X,z);return}this.l.A.sr(X,this.xp),this.l.Di(X);var g=0;do g++;while(this.o.find(d=>d!=X&&d.c==X.c&&d.QY==g));X.QY=g,h||this.IR?.(X.X,R.X,z)}},Xb:function(X,R){!X||R==X.Oj||(X.Oj=R,this.K5?.(X))},Yb:function(X,R,z){!X||X.X==0||X.oY==R||(X.oY=R,this.G5?.(this.G(z),X))},Ji:function(X,R,z,h){this.Wj=f(X,0,255),this.Zj=f(R,0,255),z=f(z,0,100),this.jX=this.Zj*z,this.a5?.(h,this.Wj,this.Zj,z)},xb:function(X,R){var z=this.G(X);z&&(z.oX=R,this.E5?.(X,R))},vD:function(X,R){this.l==null&&(this.Wy=f(X,0,99),this.w5?.(this.Wy,R))},sD:function(X,R){this.l==null&&(this.Py=f(X,0,99),this.W5?.(this.Py,R))},zb:function(X,R,z,h){if(this.l){var g=X?this.G(R)?.U:this.l.A.Z[R];g&&(z[0]!=null&&(g.h.x=z[0]),z[1]!=null&&(g.h.y=z[1]),z[2]!=null&&(g.P.x=z[2]),z[3]!=null&&(g.P.y=z[3]),z[4]!=null&&(g.T.x=z[4]),z[5]!=null&&(g.T.y=z[5]),z[6]!=null&&(g.I=z[6]),z[7]!=null&&(g.r=z[7]),z[8]!=null&&(g.F=z[8]),z[9]!=null&&(g.N=z[9]),h[0]!=null&&(g.b=h[0]),h[1]!=null&&(g.z=h[1]),h[2]!=null&&(g.i=h[2]),this.n5?.(R,X,z,h))}},pb:function(X,R){var z=this.G(X);z&&(z.Jy=R,this.I5?.(X,R))},VD:function(X,R){var z=this.G(X);z&&(!(z.Ly&16)&&R&16&&(z.GY=!0),z.Ly=R,this.WR?.(z))},ND:function(X,R){var z=this.G(X);z&&this.v5?.(z,R)},BD:function(X,R){var z=this.G(R);z&&this.N5?.(z,X)},MD:function(X,R,z,h){this.V5?.(X,R,z,h)},Rb:function(X,R){var z=new Map,h=[],g=[];this.o.forEach(H=>z.set(H.X,H)),X.forEach(H=>{var F=z.get(H);F&&(z.delete(H),h.push(F))}),g=[];for(var d=z.values(),$=d.next();!$.done;)g.push($.value),$=d.next();this.o=R?h.concat(g):g.concat(h),this.m5?.(X,R)},aD:function(X,R){var z=this.l;if(z){var h=z.xY==120;X?z.xY=120:h&&(z.xY=119),X!=h&&this.s5?.(this.G(R),X)}},lb:function(X,R,z){z!=0&&!this.G(z)||this.U5?.(X,R,z)},rb:function(X,R,z){z!=0&&!this.G(z)||this.M5?.(X,R,z)},jb:function(X){var R=[],z=0,h=0;this.o.forEach($=>{$.c==W.bY&&R.push($),$.c==W.Ty?++z:$.c==W.yY&&++h});var g=R.length;if(g!=0)if(h==z)g>=2&&(this.oR(R[0],W.Ty,X,!0),this.oR(R[1],W.yY,X,!0),this.wR?.(R[0].X,W.Ty.X,R[1].X,W.yY.X,X));else{var d=h>z?W.Ty:W.yY;this.oR(R[0],d,X,!0),this.wR?.(R[0].X,d.X,null,null,X)}},Xh:function(X){this.wD=X},copy:function(){var X=new this.BX.Rj;return X.L=this.L,X.wj=this.wj,X.Wy=this.Wy,X.Py=this.Py,X.jX=this.jX,X.Zj=this.Zj,X.Wj=this.Wj,X.e=this.e?.copy(),X.l=this.l?.copy(X),X.o=[],this.o.forEach((R,z)=>{var h=new this.BX.gX;if(h.oY=R.oY,h.QY=R.QY,h.Jy=R.Jy,h.oX=R.oX,h.Oj=R.Oj,h.ky=R.ky,h.ip=R.ip,h.L=R.L,h.Ly=R.Ly,h.X=R.X,h.GY=R.GY,h.Jj=R.Jj,h.bj=R.bj,h.c=R.c,h.Gy=R.Gy,h.Qj=R.Qj,h.eX=R.eX,X.l&&R.U){var g=R.U.n,d=X.l.A.Z.findIndex($=>$.n==g);d>-1&&(h.U=X.l.A.Z[d])}X.o[z]=h}),this.yj.forEach((R,z)=>{X.yj[z]=R?.copy()}),X},P5:function(){if(this.l){var{e:X,A:R}=this.l,z=new C,h=new jy,g={},d=X.jY.map(a=>[a.x,a.y]),$=X.XY.map(a=>[a.x,a.y]),H=R._y.map(m.Ri);m.w(g,"type",X.wY==1?"grass":X.wY==2?"hockey":"none","none"),m.w(g,"width",X._j,0),m.w(g,"height",X.gj,0),m.w(g,"kickOffRadius",X.Aj,0),m.w(g,"cornerRadius",X.Sj,0),m.pp(g,X.hj,7441498),X.wY==2&&m.w(g,"goalLine",X.Hj,0);var F={name:X.L,width:X.vY,height:X.ij,vertexes:R.k.map((a,hy)=>{var o=m.Xi(a);return o.id=hy,o}),segments:R.t.map(a=>m.dD(this,a,z)),planes:R.M.map(m.zi),goals:X.ty.map(m.ri),discs:R.Z.map(a=>m.hi(a,h)),bg:g,playerPhysics:m.ii(X.aY),ballPhysics:"disc0"};return m.w(F,"maxViewWidth",X.sj,0),m.w(F,"cameraFollow",X.uj==1?"player":"",""),m.w(F,"spawnDistance",X.pY,200),H.length>0&&(F.joints=H),d.length>0&&(F.redSpawnPoints=d),$.length>0&&(F.blueSpawnPoints=$),m.w(F,"kickOffReset",X.oj?"full":"partial","partial"),X.qX||(F.canBeStored=!1),F}},vi:function(X){return m.pi(X)},si:function(X){var R=m.Oi(X,this.l.A.k);return R.UY(),R},kb:function(X){var R=m.kD(X);return R.UY(),R},ui:function(X){return m.J5(X)},yh:function(X){return m.li(X)},Yh:function(X){return m.Z5(X,new jy).gD()},jh:function(X){return m.xi(X,this.l.A.Z)},$b:function(X){return m.qD(X,this.l.A.Z)},qb:function(X){this.l.A.k.push(this.vi(X))},Cb:function(X){this.l.A.t.push(this.si(X))},Tb:function(X){this.l.e.ty.push(this.ui(X))},Pb:function(X){this.l.A.M.push(this.yh(X))},Ap:function(X){var R=this.Yh(X),z=this.l.A.Z.findIndex(d=>d.n!=null);z<0&&(z=this.l.A.Z.length),this.l.A.Z.splice(z,0,R);for(var h=this.l.A._y,g=this.l.A.Z.length-2;g>=z;g--)h.forEach(d=>{d.vy==g&&d.vy++,d.ay==g&&d.ay++})},cb:function(X){this.l.A._y.push(this.jh(X))},ob:function(X){var R;X.team=="red"?R=this.l.e.jY:X.team=="blue"&&(R=this.l.e.XY),R&&R.push(new gy(X.x,X.y))},RR:function(X){var{team:R,id:z,name:h,avatar:g,flag:d}=X,$=R=="spec"?W.bY:R=="red"?W.Ty:R=="blue"?W.yY:null;if($){var H=ry.j(z,h,d,g,"fakeConn","fakeAuth");H.p=0,H.H(this),R!="spec"&&(H=ty.j(z,$),H.p=0,H.H(this),this.ER(this.G(z).U,X))}},b5:function(X){var R=X.v,z=X.s,h=-1,g=-1;return this.l.A.k.forEach((d,$)=>{d==R?h=$:d==z&&(g=$)}),[h,g]},Hb:function(X){return this.b5(this.l.A.t[X])},tb:function(X,R){var z=this.l.A.k[X];if(z){var h=m.pi(R);R.hasOwnProperty("x")&&(z.h.x=h.h.x),R.hasOwnProperty("y")&&(z.h.y=h.h.y),R.hasOwnProperty("bCoef")&&(z.r=h.r),R.hasOwnProperty("cMask")&&(z.z=h.z),R.hasOwnProperty("cGroup")&&(z.i=h.i),this.l.A.t.forEach(g=>{(g.s==z||g.v==z)&&g.UY()})}},Wb:function(X,R){var z=this.l.A.t[X];if(z){var h=m.Oi(R,this.l.A.k);(R.hasOwnProperty("v0")||R.hasOwnProperty("curve"))&&(z.v=h.v),(R.hasOwnProperty("v1")||R.hasOwnProperty("curve"))&&(z.s=h.s),(R.hasOwnProperty("bias")||R.hasOwnProperty("curve"))&&(z.ny=h.ny),(R.hasOwnProperty("curveF")||R.hasOwnProperty("curve"))&&(z.wy=h.wy),R.hasOwnProperty("vis")&&(z.by=h.by),R.hasOwnProperty("color")&&(z.b=h.b),R.hasOwnProperty("bCoef")&&(z.r=h.r),R.hasOwnProperty("cMask")&&(z.z=h.z),R.hasOwnProperty("cGroup")&&(z.i=h.i),z.UY()}},wb:function(X,R){var z=this.l.e.ty[X];if(z){var h=m.J5(R);R.hasOwnProperty("p0")&&(z.iY=h.iY),R.hasOwnProperty("p1")&&(z.rY=h.rY),R.hasOwnProperty("team")&&(z.c=h.c)}},Ib:function(X,R){var z=this.l.A.M[X];if(z){var h=m.li(R);R.hasOwnProperty("normal")&&(z.qy=h.qy),R.hasOwnProperty("dist")&&(z.xy=h.xy),R.hasOwnProperty("bCoef")&&(z.r=h.r),R.hasOwnProperty("cMask")&&(z.z=h.z),R.hasOwnProperty("cGroup")&&(z.i=h.i)}},Eb:function(X,R){this.ER(this.l.A.Z[X],R)},ER:function(X,R){if(X){var z=m.Z5(R,new jy);R.hasOwnProperty("pos")&&(X.h=z.h),R.hasOwnProperty("speed")&&(X.P=z.P),R.hasOwnProperty("gravity")&&(X.T=z.T),R.hasOwnProperty("radius")&&(X.I=z.I),R.hasOwnProperty("invMass")&&(X.F=z.F),R.hasOwnProperty("damping")&&(X.N=z.N),R.hasOwnProperty("color")&&(X.b=z.b),R.hasOwnProperty("bCoef")&&(X.r=z.r),R.hasOwnProperty("cMask")&&(X.z=z.z),R.hasOwnProperty("cGroup")&&(X.i=z.i)}},mb:function(X,R){var z=this.l.A._y[X];if(z){var h=m.xi(R,this.l.A.Z);R.hasOwnProperty("d0")&&(z.vy=h.vy),R.hasOwnProperty("d1")&&(z.ay=h.ay),R.hasOwnProperty("color")&&(z.b=h.b),R.hasOwnProperty("strength")&&(z.$Y=h.$Y),R.hasOwnProperty("length")&&(z.Cy=h.Cy,z.dy=h.dy)}},Qb:function(X,R,z){var h,g;if(R=="red"?h=this.l.e.jY:R=="blue"&&(h=this.l.e.XY),z.team=="red"?g=this.l.e.jY:z.team=="blue"&&(g=this.l.e.XY),!(!h||!g)){var d;h==g?d=h[X]:d=h.splice(X,1)[0],d&&(z.hasOwnProperty("x")&&(d.x=z.x),z.hasOwnProperty("y")&&(d.y=z.y),h!=g&&g.push(d))}},Fb:function(X,R){var z=this.G(X);if(z){var h=null;if(R.hasOwnProperty("team")&&(h=R.team=="spec"?W.bY:R.team=="red"?W.Ty:R.team=="blue"?W.yY:null),R.hasOwnProperty("name")&&(z.L=R.name),R.hasOwnProperty("flag")&&(z.ky=R.flag),R.hasOwnProperty("avatar")&&(z.Jy=R.avatar),h!=null){var g=ty.j(X,h);g.p=0,g.H(this)}z.U!=null&&this.ER(z.U,R)}},Ub:function(X){var R=this.l.A.k.splice(X,1)[0];if(R){var z=this.l.A.t,h=[];z.forEach((g,d)=>{(g.s==R||g.v==R)&&h.unshift(d)}),h.forEach(g=>z.splice(g,1))}},Mb:function(X){this.l.A.t.splice(X,1)},nb:function(X){this.l.e.ty.splice(X,1)},Nb:function(X){this.l.A.M.splice(X,1)},eO:function(X){this.l.A.Z.splice(X,1);var R=this.l.A._y,z=[];R.forEach((g,d)=>{(g.vy==X||g.ay==X)&&z.unshift(d)}),z.forEach(g=>R.splice(g,1));for(var h=X+1;h<=this.l.A.Z.length;h++)R.forEach(g=>{g.vy==h&&g.vy--,g.ay==h&&g.ay--})},Vb:function(X){this.l.A._y.splice(X,1)},Bb:function(X,R){var z;R=="red"?z=this.l.e.jY:R=="blue"&&(z=this.l.e.XY),z&&z.splice(X,1)},Fx:function(X){var R=iy.j(X,null,!0);R.p=0,R.H(this)},Kb:function(X){var R=this.l?.e.aY;if(R){var z=m.Z5(X,new jy);X.hasOwnProperty("radius")&&(R.I=z.I),X.hasOwnProperty("gravity")&&(R.T=z.T),X.hasOwnProperty("invMass")&&(R.F=z.F),X.hasOwnProperty("bCoef")&&(R.r=z.r),X.hasOwnProperty("cGroup")&&(R.i=z.i),X.hasOwnProperty("damping")&&(R.N=z.N),X.hasOwnProperty("kickingDamping")&&(R.vj=b(X.kickingDamping,Number)),X.hasOwnProperty("acceleration")&&(R.aj=b(X.acceleration,Number)),X.hasOwnProperty("kickingAcceleration")&&(R.Gj=b(X.kickingAcceleration,Number)),X.hasOwnProperty("kickStrength")&&(R.Bj=b(X.kickStrength,Number)),X.hasOwnProperty("kickback")&&(R.Kj=b(X.kickback,Number))}},Gb:function(X){var R=this.l?.e;R&&(X.hasOwnProperty("type")&&(R.wY=b(X.type,S)),X.hasOwnProperty("width")&&(R._j=b(X.width,Number)),X.hasOwnProperty("height")&&(R.gj=b(X.height,Number)),X.hasOwnProperty("kickOffRadius")&&(R.Aj=b(X.kickOffRadius,Number)),X.hasOwnProperty("cornerRadius")&&(R.Sj=b(X.cornerRadius,Number)),X.hasOwnProperty("color")&&(R.hj=b(X.color,S)),X.hasOwnProperty("goalLine")&&(R.Hj=b(X.goalLine,Number)))},ab:function(X){var R=this.l?.e;R&&(X.hasOwnProperty("name")&&(R.L=b(X.name,String)),X.hasOwnProperty("width")&&(R.vY=b(X.width,Number)),X.hasOwnProperty("height")&&(R.ij=b(X.height,Number)),X.hasOwnProperty("maxViewWidth")&&(R.sj=b(X.maxViewWidth,Number)),X.hasOwnProperty("cameraFollow")&&(R.uj=b(X.cameraFollow,S)),X.hasOwnProperty("spawnDistance")&&(R.pY=b(X.spawnDistance,Number)),X.hasOwnProperty("kickOffReset")&&(R.oj=b(X.kickOffReset,Boolean)),X.hasOwnProperty("canBeStored")&&(R.qX=b(X.canBeStored,Boolean)))}}),x(this.jp,[],["isHost",null,null,null,"renderer","libraries","plugins","config"],[null,null,null,null,"executeEvent",null,null,"clearEvents","setKickRateLimit"]),x(this.gX,[],[null,"ext","id","name","ping","flag","sync","conn","auth","identity","team","disc","kickRateMinTickCounter","kickRateMaxTickCounter","isKicking","input",null,"headlessAvatar","avatar","avatarNumber","isAdmin","customClient"],[]),x(this.Rj,[this],[null,"ext","name","players",null,"gameState","stadium","kickRate_min","kickRate_rate","kickRate_max","timeLimit","scoreLimit","teamsLocked","teamColors"],["setPings","forceLeaveRoom","forceJoinRoom","setPlayerIdentity","getPlayer","runSteps",null,null,null,null,null,null,null,"startGame","stopGame","setTeamsLock","setTeamColors","setStadium","setPlayerTeam","setPlayerSync","setPlayerAdmin","setKickRateLimit","setHeadlessAvatar","setScoreLimit","setTimeLimit","setDiscProperties","setAvatar","setPlayerInput","setPlayerChatIndicator","sendChat","sendAnnouncement","reorderPlayers","setGamePaused","applyCustomEvent","applyBinaryCustomEvent","applyAutoTeams",null,null,"exportStadium","createVertex","createSegment","createSegmentFromObj","createGoal","createPlane","createDisc","createJoint","createJointFromObj","addVertex","addSegment","addGoal","addPlane","addDisc","addJoint","addSpawnPoint","addPlayer","findVertexIndicesOfSegmentObj","findVertexIndicesOfSegment","updateVertex","updateSegment","updateGoal","updatePlane","updateDisc","updateDiscObj","updateJoint","updateSpawnPoint","updatePlayer","removeVertex","removeSegment","removeGoal","removePlane","removeDisc","removeJoint","removeSpawnPoint","removePlayer","updateStadiumPlayerPhysics","updateStadiumBg","updateStadiumGeneral"]);function Tj(X,R){X.O.WR==null&&Object.assign(X.O,{UR:(z,h,g,d)=>R.onCollisionDiscVsDisc?.(z,h.n,g,d.n),MR:(z,h,g)=>R.onCollisionDiscVsPlane?.(z,h.n,g),nR:(z,h,g)=>R.onCollisionDiscVsSegment?.(z,h.n,g),NR:(z,h,g,d)=>R._9?.(z,h.n,g,d),dO:(z,h,g)=>R.g9?.(z,h,g),WR:z=>R.onPlayerInputChange?.(z.X,z.Ly),Up:z=>R.onPlayerJoin?.(z),e5:z=>R.onPlayerBallKick?.(z?.X),$5:(z,h,g,d,$)=>R.onTeamGoal?.(z?.X,h,g,d,$),T5:z=>R.onGameEnd?.(z.X),t5:z=>R.onGameStart?.(z?.X),d5:()=>R.onGameTick?.(),k5:()=>R.onKickOff?.(),wR:(z,h,g,d,$)=>R.onAutoTeams?.(z,h,g,d,$),W5:(z,h)=>R.onTimeLimitChange?.(z,h),w5:(z,h)=>R.onScoreLimitChange?.(z,h),L5:z=>R.onPlayerDiscCreated?.(z),xp:z=>R.onPlayerDiscDestroyed?.(z),I5:(z,h)=>R.onPlayerAvatarChange?.(z,h),E5:(z,h)=>R.onPlayerHeadlessAvatarChange?.(z,h),m5:(z,h)=>R.onPlayersOrderChange?.(z,h),IR:(z,h,g)=>R.onPlayerTeamChange?.(z,h,g),Q5:(z,h,g)=>R.onTeamColorsChange?.(z,h,g),F5:(z,h)=>R.onTeamsLockChange?.(z,h),U5:(z,h,g)=>R.onCustomEvent?.(z,h,g),M5:(z,h,g)=>R.onBinaryCustomEvent?.(z,h,g),Ex:(z,h,g)=>R.onIdentityEvent?.(z,h,g),n5:(z,h,g,d)=>R.onSetDiscProperties?.(z,h,g,d),Ix:z=>R.onPingData?.(z),Px:z=>R.onHandicapChange?.(z),q5:()=>R.onTimeIsUp?.(),C5:()=>R.onPositionsReset?.(),N5:(z,h)=>R.onPlayerChat?.(z.X,h),V5:(z,h,g,d)=>R.onAnnouncement?.(z,h,g,d),cR:z=>R.onGameStop?.(z?.X),B5:(z,h)=>R.onStadiumChange?.(h,z?.X),K5:z=>R.onPlayerSyncChange?.(z?.X,z?.Oj),G5:(z,h)=>R.onPlayerAdminChange?.(h?.X,h?.oY,z?.X),a5:(z,h,g,d)=>R.onKickRateLimitChange?.(h,g,d,z?.X),v5:(z,h)=>R.onPlayerChatIndicatorChange?.(z?.X,!h),s5:(z,h)=>R.onGamePauseChange?.(h,z?.X),_X:(z,h,g,d)=>{z.U&&R.onPlayerDiscDestroyed?.(z),R.onPlayerLeave?.(z,h,g,d?.X)}})}function Pj(X){Object.assign(X.O,{WR:null,Up:null,e5:null,$5:null,T5:null,s5:null,t5:null,d5:null,k5:null,UR:null,MR:null,nR:null,NR:null,dO:null,wR:null,W5:null,w5:null,I5:null,L5:null,xp:null,E5:null,m5:null,IR:null,Q5:null,F5:null,U5:null,M5:null,Ex:null,n5:null,Ix:null,Px:null,q5:null,C5:null,N5:null,V5:null,cR:null,B5:null,K5:null,G5:null,a5:null,_X:null,v5:null})}var{O_:cj,R_:oj,x_:Op,z_:Rp,l_:xp,r_:zp,i_:lp}=T(this,{Ip:function(X){if(X.ry()!=1212305970)throw"";var R=X.ry();if(R!=3)throw _(Z.lr,R)},mp:function(X){X.EO("HBR2"),X.ey(3)},Ry:{Q:function(){this.hp=[],this.NY=3},Ep:function(X,R){var z=X.By();if(R)for(var h=0,g=0;g<z;g++)h+=X.Ey(),R.hp.push({frameNo:h,teamId:X.q()});else for(var g=0;g<z;g++)X.Ey(),X.q()},dx:function(X,R){X.My(R.hp.length);var z=0;R.hp.forEach(h=>{X.oy(h.frameNo-z),X.g(h.teamId),z=h.frameNo})},ex:function(X,R){this.hp=this.hp.filter(z=>z.frameNo>=X&&z.frameNo<=R),this.hp.forEach(z=>{z.frameNo-=X})}},X_:{Q:function(){this.ph=0,this.rX.My(0);var X=this.R.f,R=this;this.R.O.Xh(z=>{var h=R.R.f;R.rX.oy(h-X),R.rX.g(z),R.ph++,X=h})},lX:function(){this.R.O.Xh(null),this.rX.$.setUint16(0,this.ph,this.rX.Iy)}},p_:{Fj:Tj,$j:Pj}});x(cj,[],["roomData","events","totalFrames","goalMarkers","version"],[]);var{Eg:rp,mg:ip}=I(this,{Q:function(X,R,z){X.Ig=z?.filterEvents;var h=null;Object.assign(this,{startRecording:function(){return h!=null?!1:(h=new oj(X),z.onRoomRecordingChange?.(!0),!0)},stopRecording:function(){if(h==null)return null;var g=h.lX();return h=null,z.onRoomRecordingChange?.(g),g},isRecording:function(){return h!=null},playerJoin:function(g,d,$,H,F,a){var hy=ry.j(g,d,$,H,F,a);hy.p=0,X.a(hy)},playerLeave:function(g){var d=X.O.G(g);if(d){var $=iy.j(g,null,!0);$.p=0,X.a($)}},playerInput:function(g,d){var $=V.j(g);$.p=d,X.a($)},playerChat:function(g,d){var $=K.j(g);$.p=d,X.a($)},setKeyState:function(g){this.playerInput(g,R?.controlledPlayerId||0)},setPlayerChatIndicator:function(g,d){var $=xy.j(g);$.p=d,X.a($)},setPlayerAvatar:function(g,d,$){var H;g?(H=Zj.j($,d),H.p=0):(H=DY.j(d),H.p=$),X.a(H)},setCurrentStadium:function(g,d){var $=SY.j(g);$.p=d,X.a($)},sendAnnouncement:function(g,d=-1,$=0,H=1,F,a){var hy=N.j(g,d,$,H);hy.p=a,X.a(hy)},startGame:function(g){var d=qy.j();d.p=g,X.a(d)},stopGame:function(g){var d=cy.j();d.p=g,X.a(d)},setGamePaused:function(g,d){var $=Hy.j(g);$.p=d,X.a($)},setScoreLimit:function(g,d){var $=Qy.j(0,g);$.p=d,X.a($)},setTimeLimit:function(g,d){var $=Qy.j(1,g);$.p=d,X.a($)},setTeamsLock:function(g,d){var $=IY.j(g);$.p=d,X.a($)},autoTeams:function(g){var d=mY.j();d.p=g,X.a(d)},setPlayerTeam:function(g,d,$){var H=W.p[d];if(H){var F=ty.j(g,H);F.p=$,X.a(F)}},setKickRateLimit:function(g,d,$,H){var F=UY.j(g,d,$);F.p=H,X.a(F)},setTeamColors:function(g,d,$,H){var F=W.p[g];if(!F)throw _(Z.CR);var a=FY.j(F,Q.Pj(F,d,...$));a.p=H,X.a(a)},setPlayerAdmin:function(g,d,$){var H=EY.j(g,d);H.p=$,X.a(H)},kickPlayer:function(g,d,$,H){var F=iy.j(g,d,$);F.p=H,X.a(F)},setPlayerSync:function(g,d){var $=QY.j(g);$.p=d,X.a($)},sendPingData:function(g,d){var $=new yp;$.Lj=X.O.o.map(g),$.p=d,X.a($)},setDiscProperties:function(g,d,$,H){var F=MY.Pj(g,d,$);F.p=H,X.a(F)},sendCustomEvent:function(g,d,$){var H=nY.j(g,d);H.p=$,X.a(H)},sendBinaryCustomEvent:function(g,d,$){var H=NY.j(g,d);H.p=$,X.a(H)},setPlayerIdentity:function(g,d,$){var H=VY.j(g,d);H.p=$,X.a(H)},reorderPlayers:function(g,d,$){var H=Jj.j(g,d);H.p=$,X.a(H)}})},Fj:Tj,$j:Pj});this.bL={AddonType:{RoomConfig:Z.al,Plugin:Z.vl,Renderer:Z.sl,Library:Z.ul},AllowFlags:{JoinRoom:Z.IA,CreateRoom:Z.EA},BackgroundType:{None:Z.mA,Grass:Z.QA,Hockey:Z.FA},CameraFollow:{None:Z.UA,Player:Z.MA},CollisionFlags:{ball:Z.nA,red:Z.NA,blue:Z.VA,redKO:Z.BA,blueKO:Z.KA,wall:Z.GA,kick:Z.aA,score:Z.vA,free1:Z.sA,free2:Z.uA,free3:Z.yS,free4:Z.YS,free5:Z.jS,free6:Z.XS,free7:Z.pS,free8:Z.OS,free9:Z.RS,free10:Z.xS,free11:Z.zS,free12:Z.lS,free13:Z.rS,free14:Z.iS,free15:Z.hS,free16:Z._S,free17:Z.gS,free18:Z.AS,free19:Z.SS,free20:Z.DS,c0:Z.bS,c1:Z.JS,c2:Z.ZS,c3:Z.fS},Direction:{Backward:Z.LS,Still:Z.dS,Forward:Z.eS},GamePlayState:{BeforeKickOff:Z.kS,Playing:Z.$S,AfterGoal:Z.qS,Ending:Z.CS},OperationType:{SendAnnouncement:Z.fr,SendChatIndicator:Z.Lr,CheckConsistency:Z.dr,SendInput:Z.er,SendChat:Z.kr,JoinRoom:Z.$r,KickBanPlayer:Z.qr,StartGame:Z.Cr,StopGame:Z.Tr,PauseResumeGame:Z.Pr,SetGamePlayLimit:Z.cr,SetStadium:Z.or,SetPlayerTeam:Z.Hr,SetTeamsLock:Z.tr,SetPlayerAdmin:Z.Wr,AutoTeams:Z.wr,SetPlayerSync:Z.Ir,Ping:Z.Er,SetAvatar:Z.mr,SetTeamColors:Z.Qr,ReorderPlayers:Z.Fr,SetKickRateLimit:Z.Ur,SetHeadlessAvatar:Z.Mr,SetDiscProperties:Z.nr,CustomEvent:Z.Nr,BinaryCustomEvent:Z.Vr,SetPlayerIdentity:Z.Br},PlayerPositionInGame:{None:Z.TS,GK:Z.PS,SW:Z.cS,WBL:Z.oS,DL:Z.HS,DC:Z.tS,DR:Z.WS,WBR:Z.wS,DML:Z.IS,DMC:Z.ES,DMR:Z.mS,ML:Z.QS,MC:Z.FS,MR:Z.US,AML:Z.MS,AMC:Z.nS,AMR:Z.NS,FL:Z.VS,FC:Z.BS,FR:Z.KS,ST:Z.GS},VariableType:{Void:Z.aS,Boolean:Z.Kr,Integer:Z.vS,Number:Z.sS,String:Z.uS,Color:Z.yD,CollisionFlags:Z.YD,Coordinate:Z.jD,Team:Z.XD,TeamWithSpec:Z.pD,BgType:Z.OD,CameraFollow:Z.RD,KickOffReset:Z.xD,Flag:Z.zD,File:Z.lD,PlayerId:Z.rD,Keys:Z.iD,Progress:Z.hD,PlayerPositionInGame:Z._D},Callback:{add:Xp,remove:pp},Utils:{numberToColor:ky,colorToNumber:Ly,getDefaultStadiums:Cy,parseStadium:dy,exportStadium:yy,keyState:Ty,reverseKeyState:Ay},EventFactory:Dx,Room:{create:this.jp.j,join:this.jp.wg,sandbox:ip,streamWatcher:U(this,rp)},Replay:{ReplayData:cj,read:Op,readAll:Rp,writeAll:xp,trim:zp,trimAsync:lp},Query:{getVertexIndexAtMapCoord:fj,getSegmentIndexAtMapCoord:Lj,getGoalIndexAtMapCoord:dj,getPlaneIndexAtMapCoord:ej,getJointIndexAtMapCoord:kj,getDiscIndexAtMapCoord:$j,getSpawnPointIndexAtMapCoord:Yp,getVertexAtMapCoord:(X,R,z)=>X.l?.A.k[fj(X,R,z)],getSegmentAtMapCoord:(X,R,z)=>X.l?.A.t[Lj(X,R,z)],getGoalAtMapCoord:(X,R,z)=>X.e.ty[dj(X,R,z)],getPlaneAtMapCoord:(X,R,z)=>X.l?.A.M[ej(X,R,z)],getJointAtMapCoord:(X,R,z)=>X.l?.A._y[kj(X,R,z)],getDiscAtMapCoord:(X,R)=>X.l?.A.Z[$j(X,R)]},Library:bx,RoomConfig:Jx,Plugin:Zx,Renderer:fx,Language:zy,Impl:{Core:{Point:gy,TeamColors:Q,Team:W},Stadium:{Vertex:t,Segment:C,Plane:w,Goal:G,Disc:jy,Joint:Xy,Stadium:m}},Errors:{ErrorCodes:{StadiumParseError:Z.yr,StadiumParseSyntaxError:Z.Yr,StadiumParseUnknownError:Z.jr,TeamColorsReadError:Z.Xr,BadColorError:Z.pr,BadTeamError:Z.Or,StadiumLimitsExceededError:Z.Rr,AnnouncementActionMessageTooLongError:Z.xr,ChatActionMessageTooLongError:Z.zr,ChangeTeamColorsInvalidTeamIdError:Z.CR,ReplayFileVersionMismatchError:Z.lr,PlayerNameTooLongError:Z.rr,PlayerCountryTooLongError:Z.ir,PlayerAvatarTooLongError:Z.hr,PlayerJoinBlockedByMPDError:Z._r,PlayerJoinBlockedByORError:Z.gr,PluginNotFoundError:Z.Ar,PluginNameChangeNotAllowedError:Z.Sr,LibraryNotFoundError:Z.Dr,LibraryNameChangeNotAllowedError:Z.br,NoProxyIdentityProblem:Z.Jr,NoProxyIdentitySolution:Z.Zr}}}},dx=Lx;BX.bL=dx});var sX=zY((mx,vX)=>{function ex(y){return kx(y)&&!$x(y)}function kx(y){return!!y&&typeof y=="object"}function $x(y){var Y=Object.prototype.toString.call(y);return Y==="[object RegExp]"||Y==="[object Date]"}function qx(y){return Array.isArray(y)?[]:{}}function AY(y,Y){return Y.Mp!==!1&&Y.mR(y)?wY(qx(y),y,Y):y}function Cx(y,Y,j){return y.concat(Y).map(function(O){return AY(O,j)})}function Tx(y,Y){if(!Y.vb)return wY;var j=Y.vb(y);return typeof j=="function"?j:wY}function Px(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(Y=>Object.propertyIsEnumerable.call(y,Y)):[]}function GX(y){return Object.keys(y).concat(Px(y))}function aX(y,Y){try{return Y in y}catch{return!1}}function cx(y,Y){return aX(y,Y)&&!(Object.hasOwnProperty.call(y,Y)&&Object.propertyIsEnumerable.call(y,Y))}function ox(y,Y,j){var O={};return j.mR(y)&&GX(y).forEach(p=>{O[p]=AY(y[p],j)}),GX(Y).forEach(p=>{cx(y,p)||(O[p]=aX(y,p)&&j.mR(Y[p])?Tx(p,j)(y[p],Y[p],j):AY(Y[p],j))}),O}function wY(y,Y,j){j=j||{},j.Oh=j.Oh||Cx,j.mR=j.mR||ex,j.A9=AY;var O=Array.isArray(Y),p=Array.isArray(y);return!O===p?AY(Y,j):O?j.Oh(y,Y,j):ox(y,Y,j)}U9K={pz:tj(),sb:wY,E:(y,Y,j,O)=>{var p=new y(...Y),x=Object.keys(p),l=Object.keys(y.prototype),_=x.concat(l);j.forEach((r,D)=>{if(!(!r||_.includes(r))){var S=x[D];S&&(_.push(r),Object.defineProperty(y.prototype,r,{get:function(){return this[S]},set:function(b){this[S]=b}}))}}),O.forEach((r,D)=>{if(!(!r||_.includes(r))){var S=l[D];S&&(_.push(r),y.prototype[r]=y.prototype[S])}})}};vX.bL=(y,Y)=>{var j=rX()(y,Y),O=j.Y;return O.K=j,Y?.noVariableValueChangeEvent!=null&&(O.JO=Y.noVariableValueChangeEvent),O.ub=KX(),O}});var tx=zY((Qx,uX)=>{var Hx=sX();uX.bL=(y,Y)=>{var j=Hx(y,Y),{Oy:{zO:{lO:O,$R:p}},Fg:x,ng:l,qR:{vg:_,sg:r,Ax:D,ug:S,KO:b,GO:f,rx:e,ix:L,aO:k,hx:c,Sx:i,tp:A,op:J,BO:T,nO:I,NO:U,VO:Z,yA:W,YA:Q},kX:{ep:gy,XA:t}}=j.K,C=new j.ub(j);return U9K.sb({version:"2.2.0",BanEntryType:{Player:x.gX,IP:x.Ug,Auth:x.Mg},ConnectionState:{TryingReverseConnection:l.Ng,ConnectingToMaster:l.Vg,ConnectingToPeer:l.Bg,AwaitingState:l.Kg,Active:l.Gg,ConnectionFailed:l.ag},Utils:{generateAuth:_,authFromKey:r,getRoomList:D,calculateAllRoomDistances:S,ipToNumber:b,numberToIp:f,authToNumber:e,numberToAuth:L,compareBits:k,runAfterGameTick:c,getGeo:i,parseGeo:A,numberToHexString:J,parseHexInt:T,promiseWithTimeout:I,hexStrToNumber:U,byteArrayToIp:Z,refreshRoomToken:W,generateRoomId:Q},Errors:{HBError:gy,ErrorCodes:{Empty:t.pA,ConnectionClosed:t.OA,GameStateTimeout:t.RA,RoomClosed:t.xA,RoomFull:t.zA,WrongPassword:t.lA,BannedBefore:t.rA,IncompatibleVersion:t.iA,FailedHost:t.hA,Unknown:t._A,Cancelled:t.gA,KickedNow:t.AA,MasterConnectionError:t.SA,ObjectCastError:t.DA,UTF8CharacterDecodeError:t.bA,ReadTooMuchError:t.JA,ReadWrongStringLengthError:t.ZA,EncodeUTF8CharNegativeError:t.fA,EncodeUTF8CharTooLargeError:t.LA,CalculateLengthOfUTF8CharNegativeError:t.dA,CalculateLengthOfUTF8CharTooLargeError:t.eA,BufferResizeParameterTooSmallError:t.kA,MissingActionConfigError:t.$A,UnregisteredActionError:t.CA,MissingImplementationError:t.TA,KickBanReasonTooLongError:t.PA,MissingRecaptchaCallbackError:t.cA,ReplayFileReadError:t.qA,JoinRoomNullIdAuthError:t.oA,AuthFromKeyInvalidIdFormatError:t.HA,BadActorError:t.tA,AuthBannedError:t.WA,FailedToCreateRoom:t.wA}},Impl:{Stream:{Reader:p,Writer:O}}},C.bL)}});return tx();})();if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports)exports=module.exports=fO;exports["abcHaxballAPI"]=fO;}else if(typeof root!=='undefined')root["abcHaxballAPI"]=fO;else window["abcHaxballAPI"]=fO;